<icc>
	<sql id="select_icc_t_major_alarm_config_num" operation="select">
        <statement>SELECT (count(*)) AS num FROM public.icc_t_major_alarm_config where ('{jqlbdm}' in (select type_value from icc_t_major_alarm_config where type_name='jqlbdm' and type_name != '')) or ('{jqlxdm}' in (select type_value from icc_t_major_alarm_config where type_name = 'jqlxdm' and type_name != '')) or ('{jqxldm}' in (select type_value from icc_t_major_alarm_config where type_name='jqxldm' and type_name != '')) or ('{jqzldm}' in (select type_value from icc_t_major_alarm_config where type_name='jqzldm' and type_name != '')) or ('{jqdjdm}' in (select type_value from icc_t_major_alarm_config where type_name='jqdjdm' and type_name != ''));</statement>        
    </sql>
	<sql id="select_icc_t_major_alarm_config_by_type" operation="select">
        <statement>SELECT type_value FROM public.icc_t_major_alarm_config where type_name='jqgjz';</statement>        
    </sql>
	<sql id="select_icc_t_alarm_brothers_num" operation="select">
        <statement>SELECT (count(*)-1) AS brothers_num FROM public.icc_t_alarm where merge_id = (select merge_id FROM public.icc_t_alarm where id = '{id}');</statement>        
    </sql>
	<sql id="update_icc_t_alarm_is_merge" operation="select">
        <statement>UPDATE icc_t_alarm set is_merge = 'false' where id = (select merge_id FROM public.icc_t_alarm where id = '{id}');</statement>        
    </sql>
	<sql id="update_icc_t_callevent_flag" operation="select">
        <statement>UPDATE icc_t_callevent set flag = '{flag}' where create_time &gt;= '{create_time_begin}' and create_time &lt;= '{create_time_end}' and callref_id = '{callref_id}';</statement>        
    </sql>
	<sql id="select_icc_t_linked_dispatch_by_alarm_id" operation="select">
        <statement>SELECT * from icc_t_linked_dispatch where alarm_id = '{alarm_id}' and linked_org_type = '01';</statement>
    </sql>
	<sql id="update_icc_t_linked_dispatch_state" operation="select">
        <statement>UPDATE icc_t_linked_dispatch set state = '{state}', update_time = '{update_time}' where alarm_id = '{alarm_id}' and linked_org_type = '01';</statement>        
    </sql>
	<sql id="update_icc_t_callevent_alarmid" operation="select">
        <statement>UPDATE icc_t_callevent set rel_alarm_id = '{rel_alarm_id}' where create_time &gt;= '{create_time_begin}' and create_time &lt;= '{create_time_end}' and callref_id = '{callref_id}';</statement>        
    </sql>
	<sql id="select_icc_t_pjdb_count_by_alarm_id" operation="select">
        <statement>SELECT (count(*)) AS num from icc_t_pjdb where jjdbh = '{alarm_id}' and jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}';</statement>        
    </sql>
	<sql id="update_icc_t_jjdb_jjwcsj_by_source_id" operation="select">
        <statement>update icc_t_jjdb set jjwcsj = '{hangup_time}', gxsj='{update_time}' where jjlyh = '{call_id}';</statement>
    </sql>
	<sql id="select_icc_t_jjdb_by_source_id" operation="select">
        <statement>select * from icc_t_jjdb where jjlyh = '{call_id}';</statement>
    </sql>
	<!-- 未签收警情实际使用不应出现超过1000条的，此处限制1000为了应付不规范的压测 -->
	<sql id="select_icc_t_alarm_by_process_dept_code" operation="select">
        <statement>SELECT id, merge_id, title, content, "time", actual_occur_time, addr, longitude, latitude, state, level, source_type, source_id, handle_type, first_type, second_type, third_type, fourth_type, vehicle_no, vehicle_type, symbol_code, symbol_addr, fire_building_type, event_type, called_no_type, actual_called_no_type, caller_no, caller_name, caller_addr, caller_id, caller_id_type, caller_gender, caller_age, caller_birthday, contact_no, contact_name, contact_addr, contact_id, contact_id_type, contact_gender, contact_age, contact_birthday, admin_dept_district_code, admin_dept_code, admin_dept_name, receipt_dept_district_code, receipt_dept_code, receipt_dept_name, leader_code, leader_name, receipt_code, receipt_name, receipt_seatno, is_merge, dispatch_suggestion, create_user, create_time, update_user, update_time, is_feedback, is_visitor, first_submit_time, is_privacy, is_delete, remark, jjsj as received_time, bjdhyhm as caller_user_name, bjdz as alarm_addr, zars as erpetrators_number, ywcwq as is_armed, ywwxwz as is_hazardous_substances, ywbzxl as is_explosion_or_leakage, bkryqksm as desc_of_trapped, ssryqksm as desc_of_injured, swryqksm as desc_of_dead, sfswybj as is_foreign_language, fxdwjd as manual_longitude, fxdwwd as manual_latitude, yjjydjdm as emergency_rescue_level, sfswhcl as is_hazardous_vehicle, jjfw as receipt_srv_name, dqywzt as business_status FROM "icc_t_alarm" where id in (select alarm_id from icc_t_alarm_process B where B.process_dept_code = '{process_dept_code}' AND B.time_signed is null AND B.state = 'DIC020010') ORDER BY time DESC LIMIT 1000;</statement>        
    </sql>
	<sql id="select_icc_t_alarm" operation="select">
        <statement>SELECT id, merge_id, title, content, "time", actual_occur_time, addr, longitude, latitude, state, level, source_type, source_id, handle_type, first_type, second_type, third_type, fourth_type, vehicle_no, vehicle_type, symbol_code, symbol_addr, fire_building_type, event_type, called_no_type, actual_called_no_type, caller_no, caller_name, caller_addr, caller_id, caller_id_type, caller_gender, caller_age, caller_birthday, contact_no, contact_name, contact_addr, contact_id, contact_id_type, contact_gender, contact_age, contact_birthday, admin_dept_district_code, admin_dept_code, admin_dept_name, receipt_dept_district_code, receipt_dept_code, receipt_dept_name, leader_code, leader_name, receipt_code, receipt_name, receipt_seatno, is_merge, dispatch_suggestion, create_user, create_time, update_user, update_time, is_feedback, is_visitor, first_submit_time, is_privacy, is_delete, remark, jjsj as received_time, bjdhyhm as caller_user_name, bjdz as alarm_addr, zars as erpetrators_number, ywcwq as is_armed, ywwxwz as is_hazardous_substances, ywbzxl as is_explosion_or_leakage, bkryqksm as desc_of_trapped, ssryqksm as desc_of_injured, swryqksm as desc_of_dead, sfswybj as is_foreign_language, fxdwjd as manual_longitude, fxdwwd as manual_latitude, yjjydjdm as emergency_rescue_level, sfswhcl as is_hazardous_vehicle, jjfw as receipt_srv_name, dqywzt as business_status FROM public.icc_t_alarm</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">merge_id = '{merge_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_seatno = '{receipt_seatno}'</isNotNull>
            <isNotNull prepend="and" isString="1">title = '{title}'</isNotNull>
            <isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>
            <isNotNull prepend="and" isString="0">time = '{time}'</isNotNull>
            <isNotNull prepend="and" isString="0">actual_occur_time = '{actual_occur_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">addr = '{addr}'</isNotNull>
            <isNotNull prepend="and" isString="0">longitude = '{longitude}'</isNotNull>
            <isNotNull prepend="and" isString="0">latitude = '{latitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
            <isNotNull prepend="and" isString="1">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_type = '{source_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_id = '{source_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">handle_type = '{handle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">first_type = '{first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">second_type = '{second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">third_type = '{third_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fourth_type = '{fourth_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">vehicle_no = '{vehicle_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">vehicle_type = '{vehicle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">symbol_code = '{symbol_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">symbol_addr = '{symbol_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_type = '{fire_building_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">event_type = '{event_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">called_no_type = '{called_no_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">actual_called_no_type = '{actual_called_no_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_no = '{caller_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_name = '{caller_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_addr = '{caller_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_id = '{caller_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_id_type = '{caller_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_gender = '{caller_gender}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_age = '{caller_age}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_birthday = '{caller_birthday}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_no = '{contact_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_name = '{contact_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_addr = '{contact_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_id = '{contact_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_id_type = '{contact_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_gender = '{contact_gender}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_age = '{contact_age}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_birthday = '{contact_birthday}'</isNotNull>
            <isNotNull prepend="and" isString="1">admin_dept_district_code = '{admin_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">admin_dept_code = '{admin_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">admin_dept_name = '{admin_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_district_code = '{receipt_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_code = '{receipt_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_name = '{receipt_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">leader_code = '{leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">leader_name = '{leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_code = '{receipt_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_name = '{receipt_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_suggestion = '{dispatch_suggestion}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_seatno = '{receipt_seatno}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_merge = '{is_merge}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_privacy = '{is_privacy}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">(is_delete is null or is_delete != 'true')</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_alarm_process" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_process</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_edit = '{time_edit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_submit = '{time_submit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_arrived = '{time_arrived}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_signed = '{time_signed}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_feedback = '{time_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_need_feedback = '{is_need_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_district_code = '{dispatch_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_code = '{dispatch_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_name = '{dispatch_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_code = '{dispatch_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_name = '{dispatch_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_code = '{dispatch_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_name = '{dispatch_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_suggestion = '{dispatch_suggestion}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_instruction = '{dispatch_leader_instruction}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_district_code = '{process_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_code = '{process_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_name = '{process_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_code = '{process_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_name = '{process_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_code = '{process_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_name = '{process_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_feedback = '{process_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_instruction = '{process_leader_instruction}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_alarm_process_sign" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_process</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">state != 'DIC020071' </isNotNull>
            <isNotNull prepend="and" isString="0">time_edit = '{time_edit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_submit = '{time_submit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_arrived = '{time_arrived}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_signed = '{time_signed}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_feedback = '{time_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_need_feedback = '{is_need_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_district_code = '{dispatch_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_code = '{dispatch_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_name = '{dispatch_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_code = '{dispatch_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_name = '{dispatch_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_code = '{dispatch_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_name = '{dispatch_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_suggestion = '{dispatch_suggestion}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_instruction = '{dispatch_leader_instruction}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_district_code = '{process_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_code = '{process_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_name = '{process_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_code = '{process_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_name = '{process_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_code = '{process_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_name = '{process_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_feedback = '{process_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_instruction = '{process_leader_instruction}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_alarm_process_web" operation="select">
        <statement>SELECT P.alarm_id,P.process_dept_code,P.process_dept_name,D1.code AS parent_dept_code FROM public.icc_t_alarm_process P left join  icc_t_dept D1 ON D1.guid = (select D2.parent_guid from icc_t_dept D2 where D2.code = P.process_dept_code) where P.alarm_id = '{alarm_id}' and P.state not in ('DIC020071','DIC020072','DIC020073')</statement>
    </sql>
	<sql id="select_icc_t_callevent" operation="select">
        <statement>SELECT * FROM public.icc_t_callevent</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{create_time_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{create_time_end}'</isNotNull>
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">acd = '{acd}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_id = '{caller_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">called_id = '{called_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">call_direction = '{call_direction}'</isNotNull>
            <isNotNull prepend="and" isString="0">talk_time = '{talk_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">hangup_time = '{hangup_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">hangup_type = '{hangup_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_blackcall = '{is_blackcall}'</isNotNull>
			<isNotNull prepend="and" isString="1">switch_type = '{switch_type}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="insert_icc_t_alarm_remark" operation="insert">
        <statement>INSERT into public.icc_t_alarm_remark(guid,alarm_id,feedback_code,feedback_name,feedback_dept_code,feedback_dept_name,feedback_time,content,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{alarm_id}','{feedback_code}','{feedback_name}','{feedback_dept_code}','{feedback_dept_name}','{feedback_time}','{content}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	<sql id="select_icc_t_alarm_remark" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_remark</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_code = '{feedback_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_name = '{feedback_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_dept_code = '{feedback_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_dept_name = '{feedback_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="0">feedback_time = '{feedback_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>feedback_time desc</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_sub_callevent" operation="select">
        <statement>SELECT * FROM public.icc_t_sub_callevent</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{create_time_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{create_time_end}'</isNotNull>
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">eventcall_state = '{eventcall_state}'</isNotNull>
            <isNotNull prepend="and" isString="0">state_time = '{state_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">sponsor = '{sponsor}'</isNotNull>
            <isNotNull prepend="and" isString="1">receiver = '{receiver}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_sub_callevent_by_callrefid_and_state" operation="select">
        <statement>select count(1) from icc_t_sub_callevent where create_time &gt;= '{create_time_begin}' and create_time &lt;= '{create_time_end}' and callref_id='{callref_id}' and eventcall_state='talkstate';</statement>       
    </sql>
	<sql id="insert_icc_t_alarm" operation="insert">
        <statement>INSERT into public.icc_t_alarm(id,merge_id,title,content,time,actual_occur_time,addr,longitude,latitude,state,level,source_type,source_id,handle_type,first_type,second_type,third_type,fourth_type,vehicle_no,vehicle_type,symbol_code,symbol_addr,fire_building_type,event_type,called_no_type,actual_called_no_type,caller_no,caller_name,caller_addr,caller_id,caller_id_type,caller_gender,caller_age,caller_birthday,contact_no,contact_name,contact_addr,contact_id,contact_id_type,contact_gender,contact_age,contact_birthday,admin_dept_district_code,admin_dept_code,admin_dept_name,receipt_dept_district_code,receipt_dept_code,receipt_dept_name,leader_code,leader_name,receipt_code,receipt_name,dispatch_suggestion,create_user,create_time,update_user,update_time,receipt_seatno,is_merge,is_feedback,is_visitor,is_privacy,remark,jjsj,bjdhyhm,bjdz,zars,ywcwq,ywwxwz,ywbzxl,bkryqksm,ssryqksm,swryqksm,sfswybj,fxdwjd,fxdwwd,yjjydjdm,sfswhcl,jjfw,dqywzt) VALUES</statement>
        <dynamic prepend="">('{id}','{merge_id}','{title}','{content}','{time}','{actual_occur_time}','{addr}','{longitude}','{latitude}','{state}','{level}','{source_type}','{source_id}','{handle_type}','{first_type}','{second_type}','{third_type}','{fourth_type}','{vehicle_no}','{vehicle_type}','{symbol_code}','{symbol_addr}','{fire_building_type}','{event_type}','{called_no_type}','{actual_called_no_type}','{caller_no}','{caller_name}','{caller_addr}','{caller_id}','{caller_id_type}','{caller_gender}','{caller_age}','{caller_birthday}','{contact_no}','{contact_name}','{contact_addr}','{contact_id}','{contact_id_type}','{contact_gender}','{contact_age}','{contact_birthday}','{admin_dept_district_code}','{admin_dept_code}','{admin_dept_name}','{receipt_dept_district_code}','{receipt_dept_code}','{receipt_dept_name}','{leader_code}','{leader_name}','{receipt_code}','{receipt_name}','{dispatch_suggestion}','{create_user}','{create_time}','{update_user}','{update_time}','{receipt_seatno}','{is_merge}','{is_feedback}','{is_visitor}','{is_privacy}','{remark}','{received_time}','{caller_user_name}','{alarm_addr}','{erpetrators_number}','{is_armed}','{is_hazardous_substances}','{is_explosion_or_leakage}','{desc_of_trapped}','{desc_of_injured}','{desc_of_dead}','{is_foreign_language}','{manual_longitude}','{manual_latitude}','{emergency_rescue_level}','{is_hazardous_vehicle}','{receipt_srv_name}','{biz_state}' )</dynamic>
    </sql>
	<sql id="insert_icc_t_alarm_process" operation="insert">
        <statement>INSERT into public.icc_t_alarm_process(id,alarm_id,state,time_edit,time_submit,time_arrived,time_signed,time_feedback,is_need_feedback,dispatch_dept_district_code,dispatch_dept_code,dispatch_dept_name,dispatch_code,dispatch_name,dispatch_leader_code,dispatch_leader_name,dispatch_suggestion,dispatch_leader_instruction,process_dept_district_code,process_dept_code,process_dept_name,process_code,process_name,process_leader_code,process_leader_name,process_feedback,process_leader_instruction,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{id}','{alarm_id}','{state}','{time_edit}','{time_submit}','{time_arrived}','{time_signed}','{time_feedback}','{is_need_feedback}','{dispatch_dept_district_code}','{dispatch_dept_code}','{dispatch_dept_name}','{dispatch_code}','{dispatch_name}','{dispatch_leader_code}','{dispatch_leader_name}','{dispatch_suggestion}','{dispatch_leader_instruction}','{process_dept_district_code}','{process_dept_code}','{process_dept_name}','{process_code}','{process_name}','{process_leader_code}','{process_leader_name}','{process_feedback}','{process_leader_instruction}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	<sql id="update_icc_t_alarm" operation="update">
        <statement>UPDATE public.icc_t_alarm</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">merge_id = '{merge_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">title = '{title}'</isNotNull>
            <isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>
            <isNotNull prepend="and" isString="0">time = '{time}'</isNotNull>
            <isNotNull prepend="and" isString="0">actual_occur_time = '{actual_occur_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">addr = '{addr}'</isNotNull>
            <isNotNull prepend="and" isString="0">longitude = '{longitude}'</isNotNull>
            <isNotNull prepend="and" isString="0">latitude = '{latitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
            <isNotNull prepend="and" isString="1">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_type = '{source_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_id = '{source_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">handle_type = '{handle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">first_type = '{first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">second_type = '{second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">third_type = '{third_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fourth_type = '{fourth_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">vehicle_no = '{vehicle_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">vehicle_type = '{vehicle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">symbol_code = '{symbol_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">symbol_addr = '{symbol_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_type = '{fire_building_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">event_type = '{event_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">called_no_type = '{called_no_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">actual_called_no_type = '{actual_called_no_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_no = '{caller_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_name = '{caller_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_addr = '{caller_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_id = '{caller_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_id_type = '{caller_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_gender = '{caller_gender}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_age = '{caller_age}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_birthday = '{caller_birthday}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_no = '{contact_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_name = '{contact_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_addr = '{contact_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_id = '{contact_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_id_type = '{contact_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_gender = '{contact_gender}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_age = '{contact_age}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_birthday = '{contact_birthday}'</isNotNull>
            <isNotNull prepend="and" isString="1">admin_dept_district_code = '{admin_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">admin_dept_code = '{admin_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">admin_dept_name = '{admin_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_district_code = '{receipt_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_code = '{receipt_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_name = '{receipt_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">leader_code = '{leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">leader_name = '{leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_code = '{receipt_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_name = '{receipt_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_suggestion = '{dispatch_suggestion}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_seatno = '{receipt_seatno}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_merge = '{is_merge}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_feedback = '{is_feedback}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_visitor = '{is_visitor}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_privacy = '{is_privacy}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjsj = '{received_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjdhyhm = '{caller_user_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjdz = '{alarm_addr}'</isNotNull>  
			<isNotNull prepend="and" isString="1">zars = '{erpetrators_number}'</isNotNull>  
			<isNotNull prepend="and" isString="1">ywcwq = '{is_armed}'</isNotNull>  
			<isNotNull prepend="and" isString="1">ywwxwz = '{is_hazardous_substances}'</isNotNull>  
			<isNotNull prepend="and" isString="1">ywbzxl = '{is_explosion_or_leakage}'</isNotNull>  
			<isNotNull prepend="and" isString="1">bkryqksm = '{desc_of_trapped}'</isNotNull>  
			<isNotNull prepend="and" isString="1">ssryqksm = '{desc_of_injured}'</isNotNull>  
			<isNotNull prepend="and" isString="1">swryqksm = '{desc_of_dead}'</isNotNull>  
			<isNotNull prepend="and" isString="1">sfswybj = '{is_foreign_language}'</isNotNull>  
			<isNotNull prepend="and" isString="1">fxdwjd = '{manual_longitude}'</isNotNull>  
			<isNotNull prepend="and" isString="1">fxdwwd = '{manual_latitude}'</isNotNull>  
			<isNotNull prepend="and" isString="1">yjjydjdm = '{emergency_rescue_level}'</isNotNull>  
			<isNotNull prepend="and" isString="1">sfswhcl = '{is_hazardous_vehicle}'</isNotNull>  
			<isNotNull prepend="and" isString="1">jjfw = '{receipt_srv_name}'</isNotNull>  
			<isNotNull prepend="and" isString="1">dqywzt = '{business_status}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="update_icc_t_alarm_process" operation="update">
        <statement>UPDATE public.icc_t_alarm_process</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_edit = '{time_edit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_submit = '{time_submit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_arrived = '{time_arrived}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_signed = '{time_signed}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_feedback = '{time_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_need_feedback = '{is_need_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_district_code = '{dispatch_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_code = '{dispatch_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_name = '{dispatch_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_code = '{dispatch_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_name = '{dispatch_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_code = '{dispatch_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_name = '{dispatch_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_suggestion = '{dispatch_suggestion}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_instruction = '{dispatch_leader_instruction}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_district_code = '{process_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_code = '{process_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_name = '{process_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_code = '{process_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_name = '{process_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_code = '{process_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_name = '{process_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_feedback = '{process_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_instruction = '{process_leader_instruction}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="insert_icc_t_alarm_process_book" operation="insert">
        <statement>INSERT into public.icc_t_alarm_process_book(guid,id,alarm_id,state,time_edit,time_submit,time_arrived,time_signed,time_feedback,is_need_feedback,dispatch_dept_district_code,dispatch_dept_code,dispatch_dept_name,dispatch_code,dispatch_name,dispatch_leader_code,dispatch_leader_name,dispatch_suggestion,dispatch_leader_instruction,process_dept_district_code,process_dept_code,process_dept_name,process_code,process_name,process_leader_code,process_leader_name,process_feedback,process_leader_instruction,flag,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{id}','{alarm_id}','{state}','{time_edit}','{time_submit}','{time_arrived}','{time_signed}','{time_feedback}','{is_need_feedback}','{dispatch_dept_district_code}','{dispatch_dept_code}','{dispatch_dept_name}','{dispatch_code}','{dispatch_name}','{dispatch_leader_code}','{dispatch_leader_name}','{dispatch_suggestion}','{dispatch_leader_instruction}','{process_dept_district_code}','{process_dept_code}','{process_dept_name}','{process_code}','{process_name}','{process_leader_code}','{process_leader_name}','{process_feedback}','{process_leader_instruction}','{flag}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>

	<sql id="insert_icc_t_alarm_log" operation="insert">
        <statement>INSERT into public.icc_t_alarm_log(id,jjdbh,pjdbh,fkdbh,operate,operatorcontent,fromtype,fromcode,fromname,fromorgcode,fromorgname,fromorgidentifier,targettype,targetcode,targetname,targetorgcode,targetorgname,targetorgidentifier,operatetime,sourcename,operateattachdesc,description,createuser,createorg,jjsj) VALUES</statement>
        <dynamic prepend="">('{id}','{jjdbh}','{pjdbh}','{fkdbh}','{operate}','{operate_content}','{from_type}','{from_object}','{from_object_name}','{from_object_org_code}','{from_object_org_name}','{from_object_org_identifier}','{to_type}','{to_object}','{to_object_name}','{to_object_org_code}','{to_object_org_name}','{to_object_org_identifier}','{create_time}','{source_name}','{operate_attach_desc}','{description}','{create_user}','{create_org}','{jjsj}')</dynamic>
    </sql>
	
	<sql id="select_icc_t_jjdb_jjsj" operation="select">
		<statement>select jjsj from icc_t_jjdb where jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' and jjdbh = '{jjdbh}';</statement>      
	</sql>

	<sql id="select_icc_t_alarm_log" operation="select">
        <statement>SELECT id,jjdbh,pjdbh,fkdbh,operate,operatorcontent as operate_content,fromtype as from_type,fromcode as from_object,fromname as from_object_name,fromorgcode as from_object_org_code,fromorgname as from_object_org_name,fromorgidentifier as from_object_org_identifier,targettype as to_type,targetcode as to_object,targetname as to_object_name,targetorgcode as to_object_org_code,targetorgname as to_object_org_name,targetorgidentifier as to_object_org_identifier,operatetime as create_time,sourcename as source_name,operateattachdesc as operate_attach_desc,description, createuser as create_user,createorg as create_org,jjsj FROM public.icc_t_alarm_log </statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">jjsj &gt;= '{jjsj_begin}'</isNotNull>
            <isNotNull prepend="and" isString="1">jjsj &lt;= '{jjsj_end}'</isNotNull>
			<isNotNull prepend="and" isString="1">operatetime BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">jjdbh = '{jjdbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">pjdbh = '{pjdbh}'</isNotNull>
			<isNotNull prepend="and" isString="1">fkdbh = '{fkdbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">operate = '{operate}'</isNotNull>
            <isNotNull prepend="and" isString="1">operatorcontent = '{operate_content}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromtype = '{from_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromcode = '{from_object}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromname = '{from_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgcode = '{from_object_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgname = '{from_object_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgidentifier = '{from_object_org_identifier}'</isNotNull>
			<isNotNull prepend="and" isString="1">targettype = '{to_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetcode = '{to_object}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetname = '{to_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgcode = '{to_object_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgname = '{to_object_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgidentifier = '{to_object_org_identifier}'</isNotNull>
			<isNotNull prepend="and" isString="0">operatetime = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">sourcename = '{source_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">operateattachdesc = '{operate_attach_desc}'</isNotNull>
			<isNotNull prepend="and" isString="1">description = '{description}'</isNotNull>
            <isNotNull prepend="and" isString="1">createuser = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">createorg = '{create_org}'</isNotNull>
			<isNotNull prepend="and" isString="1">dept_org_code = '{dept_org_code}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>operatetime</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	
	<sql id="select_icc_t_alarm_log_count" operation="select">
        <statement>select count(1) num FROM public.icc_t_alarm_log </statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">jjsj &gt;= '{jjsj_begin}'</isNotNull>
            <isNotNull prepend="and" isString="1">jjsj &lt;= '{jjsj_end}'</isNotNull>
			<isNotNull prepend="and" isString="1">operatetime BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">jjdbh = '{jjdbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">pjdbh = '{pjdbh}'</isNotNull>
			<isNotNull prepend="and" isString="1">fkdbh = '{fkdbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">operate = '{operate}'</isNotNull>
            <isNotNull prepend="and" isString="1">operatorcontent = '{operate_content}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromtype = '{from_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromcode = '{from_object}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromname = '{from_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgcode = '{from_object_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgname = '{from_object_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgidentifier = '{from_object_org_identifier}'</isNotNull>
			<isNotNull prepend="and" isString="1">targettype = '{to_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetcode = '{to_object}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetname = '{to_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgcode = '{to_object_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgname = '{to_object_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgidentifier = '{to_object_org_identifier}'</isNotNull>
			<isNotNull prepend="and" isString="0">operatetime = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">sourcename = '{source_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">operateattachdesc = '{operate_attach_desc}'</isNotNull>
			<isNotNull prepend="and" isString="1">description = '{description}'</isNotNull>
            <isNotNull prepend="and" isString="1">createuser = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">createorg = '{create_org}'</isNotNull>
			<isNotNull prepend="and" isString="1">dept_org_code = '{dept_org_code}'</isNotNull>
        </dynamic>
    </sql>
	
	<sql id="insert_icc_t_alarm_book" operation="insert">
        <statement>INSERT into public.icc_t_alarm_book(guid,id,merge_id,title,content,time,actual_occur_time,addr,longitude,latitude,state,level,source_type,source_id,handle_type,first_type,second_type,third_type,fourth_type,vehicle_no,vehicle_type,symbol_code,symbol_addr,fire_building_type,event_type,called_no_type,actual_called_no_type,caller_no,caller_name,caller_addr,caller_id,caller_id_type,caller_gender,caller_age,caller_birthday,contact_no,contact_name,contact_addr,contact_id,contact_id_type,contact_gender,contact_age,contact_birthday,admin_dept_district_code,admin_dept_code,admin_dept_name,receipt_dept_district_code,receipt_dept_code,receipt_dept_name,leader_code,leader_name,receipt_code,receipt_name,dispatch_suggestion,flag,create_user,create_time,update_user,update_time,is_delete,receipt_seatno,is_merge,is_feedback,is_visitor,is_privacy,remark,jjsj,bjdhyhm,bjdz,zars,ywcwq,ywwxwz,ywbzxl,bkryqksm,ssryqksm,swryqksm,sfswybj,fxdwjd,fxdwwd,yjjydjdm,sfswhcl,jjfw,dqywzt) VALUES</statement>
        <dynamic prepend="">('{guid}','{id}','{merge_id}','{title}','{content}','{time}','{actual_occur_time}','{addr}','{longitude}','{latitude}','{state}','{level}','{source_type}','{source_id}','{handle_type}','{first_type}','{second_type}','{third_type}','{fourth_type}','{vehicle_no}','{vehicle_type}','{symbol_code}','{symbol_addr}','{fire_building_type}','{event_type}','{called_no_type}','{actual_called_no_type}','{caller_no}','{caller_name}','{caller_addr}','{caller_id}','{caller_id_type}','{caller_gender}','{caller_age}','{caller_birthday}','{contact_no}','{contact_name}','{contact_addr}','{contact_id}','{contact_id_type}','{contact_gender}','{contact_age}','{contact_birthday}','{admin_dept_district_code}','{admin_dept_code}','{admin_dept_name}','{receipt_dept_district_code}','{receipt_dept_code}','{receipt_dept_name}','{leader_code}','{leader_name}','{receipt_code}','{receipt_name}','{dispatch_suggestion}','{flag}','{create_user}','{create_time}','{update_user}','{update_time}','{is_delete}','{receipt_seatno}','{is_merge}','{is_feedback}','{is_visitor}','{is_privacy}','{remark}','{received_time}','{caller_user_name}','{alarm_addr}','{erpetrators_number}','{is_armed}','{is_hazardous_substances}','{is_explosion_or_leakage}','{desc_of_trapped}','{desc_of_injured}','{desc_of_dead}','{is_foreign_language}','{manual_longitude}','{manual_latitude}','{emergency_rescue_level}','{is_hazardous_vehicle}','{receipt_srv_name}','{biz_state}')</dynamic>
    </sql>
	<sql id="select_icc_t_alarm_process_book" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_process_book</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_edit = '{time_edit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_submit = '{time_submit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_arrived = '{time_arrived}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_signed = '{time_signed}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_feedback = '{time_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_need_feedback = '{is_need_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_district_code = '{dispatch_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_code = '{dispatch_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_name = '{dispatch_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_code = '{dispatch_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_name = '{dispatch_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_code = '{dispatch_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_name = '{dispatch_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_suggestion = '{dispatch_suggestion}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_instruction = '{dispatch_leader_instruction}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_district_code = '{process_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_code = '{process_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_name = '{process_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_code = '{process_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_name = '{process_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_code = '{process_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_name = '{process_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_feedback = '{process_feedback}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_instruction = '{process_leader_instruction}'</isNotNull>
            <isNotNull prepend="and" isString="1">flag = '{flag}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>create_time</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_alarm_book" operation="select">
        <statement>SELECT id, merge_id, title, content, "time", actual_occur_time, addr, longitude, latitude, state, level, source_type, source_id, handle_type, first_type, second_type, third_type, fourth_type, vehicle_no, vehicle_type, symbol_code, symbol_addr, fire_building_type, event_type, called_no_type, actual_called_no_type, caller_no, caller_name, caller_addr, caller_id, caller_id_type, caller_gender, caller_age, caller_birthday, contact_no, contact_name, contact_addr, contact_id, contact_id_type, contact_gender, contact_age, contact_birthday, admin_dept_district_code, admin_dept_code, admin_dept_name, receipt_dept_district_code, receipt_dept_code, receipt_dept_name, leader_code, leader_name, receipt_code, receipt_name, receipt_seatno, is_merge, dispatch_suggestion, create_user, create_time, update_user, update_time, is_feedback, is_visitor, first_submit_time, is_privacy, is_delete, remark, jjsj as received_time, bjdhyhm as caller_user_name, bjdz as alarm_addr, zars as erpetrators_number, ywcwq as is_armed, ywwxwz as is_hazardous_substances, ywbzxl as is_explosion_or_leakage, bkryqksm as desc_of_trapped, ssryqksm as desc_of_injured, swryqksm as desc_of_dead, sfswybj as is_foreign_language, fxdwjd as manual_longitude, fxdwwd as manual_latitude, yjjydjdm as emergency_rescue_level, sfswhcl as is_hazardous_vehicle, jjfw as receipt_srv_name, dqywzt as business_status FROM public.icc_t_alarm_book</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">merge_id = '{merge_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">title = '{title}'</isNotNull>
            <isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>
            <isNotNull prepend="and" isString="0">time = '{time}'</isNotNull>
            <isNotNull prepend="and" isString="0">actual_occur_time = '{actual_occur_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">addr = '{addr}'</isNotNull>
            <isNotNull prepend="and" isString="0">longitude = '{longitude}'</isNotNull>
            <isNotNull prepend="and" isString="0">latitude = '{latitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
            <isNotNull prepend="and" isString="1">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_type = '{source_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_id = '{source_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">handle_type = '{handle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">first_type = '{first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">second_type = '{second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">third_type = '{third_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fourth_type = '{fourth_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">vehicle_no = '{vehicle_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">vehicle_type = '{vehicle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">symbol_code = '{symbol_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">symbol_addr = '{symbol_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_type = '{fire_building_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">event_type = '{event_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">called_no_type = '{called_no_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">actual_called_no_type = '{actual_called_no_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_no = '{caller_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_name = '{caller_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_addr = '{caller_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_id = '{caller_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_id_type = '{caller_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_gender = '{caller_gender}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_age = '{caller_age}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_birthday = '{caller_birthday}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_no = '{contact_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_name = '{contact_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_addr = '{contact_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_id = '{contact_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_id_type = '{contact_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_gender = '{contact_gender}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_age = '{contact_age}'</isNotNull>
            <isNotNull prepend="and" isString="1">contact_birthday = '{contact_birthday}'</isNotNull>
            <isNotNull prepend="and" isString="1">admin_dept_district_code = '{admin_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">admin_dept_code = '{admin_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">admin_dept_name = '{admin_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_district_code = '{receipt_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_code = '{receipt_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_name = '{receipt_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">leader_code = '{leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">leader_name = '{leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_code = '{receipt_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_name = '{receipt_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_suggestion = '{dispatch_suggestion}'</isNotNull>
            <isNotNull prepend="and" isString="1">flag = '{flag}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_privacy = '{is_privacy}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">(is_delete is null or is_delete != 'true')</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>flag desc</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_alarm_edit_lock" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_edit_lock</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_code = '{user_code}'</isNotNull>
            <isNotNull prepend="and" isString="0">lock_time = '{lock_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="delete_icc_t_alarm_edit_lock" operation="delete">
        <statement>DELETE FROM public.icc_t_alarm_edit_lock</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_code = '{user_code}'</isNotNull>
            <isNotNull prepend="and" isString="0">lock_time = '{lock_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="update_icc_t_alarm_edit_lock" operation="update">
        <statement>UPDATE public.icc_t_alarm_edit_lock</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_code = '{user_code}'</isNotNull>
            <isNotNull prepend="and" isString="0">lock_time = '{lock_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="insert_icc_t_alarm_edit_lock" operation="insert">
        <statement>INSERT into public.icc_t_alarm_edit_lock(id,user_code,lock_time,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{id}','{user_code}','{lock_time}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	<sql id="update_icc_t_alarm_feedback" operation="update">
        <statement>UPDATE public.icc_t_alarm_feedback</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_id = '{process_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">result_type = '{result_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">result_content = '{result_content}'</isNotNull>
            <isNotNull prepend="and" isString="1">leader_instruction = '{leader_instruction}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_edit = '{time_edit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_submit = '{time_submit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_arrived = '{time_arrived}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_signed = '{time_signed}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_police_dispatch = '{time_police_dispatch}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_police_arrived = '{time_police_arrived}'</isNotNull>
            <isNotNull prepend="and" isString="0">actual_occur_time = '{actual_occur_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">actual_occur_addr = '{actual_occur_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_dept_district_code = '{feedback_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_dept_code = '{feedback_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_dept_name = '{feedback_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_code = '{feedback_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_name = '{feedback_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_leader_code = '{feedback_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_leader_name = '{feedback_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_district_code = '{process_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_code = '{process_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_name = '{process_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_code = '{process_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_name = '{process_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_code = '{process_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_name = '{process_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_district_code = '{dispatch_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_code = '{dispatch_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_name = '{dispatch_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_code = '{dispatch_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_name = '{dispatch_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_code = '{dispatch_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_name = '{dispatch_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_id = '{person_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_id_type = '{person_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_nationality = '{person_nationality}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_name = '{person_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_id = '{person_slave_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_id_type = '{person_slave_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_nationality = '{person_slave_nationality}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_name = '{person_slave_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_called_no_type = '{alarm_called_no_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_first_type = '{alarm_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_second_type = '{alarm_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_third_type = '{alarm_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_fourth_type = '{alarm_fourth_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_dept_name = '{alarm_addr_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_first_type = '{alarm_addr_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_second_type = '{alarm_addr_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_third_type = '{alarm_addr_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="0">alarm_longitude = '{alarm_longitude}'</isNotNull>
            <isNotNull prepend="and" isString="0">alarm_latitude = '{alarm_latitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_region_type = '{alarm_region_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_location_type = '{alarm_location_type}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_capture = '{people_num_capture}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_rescue = '{people_num_rescue}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_slight_injury = '{people_num_slight_injury}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_serious_injury = '{people_num_serious_injury}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_death = '{people_num_death}'</isNotNull>
            <isNotNull prepend="and" isString="0">police_num_dispatch = '{police_num_dispatch}'</isNotNull>
            <isNotNull prepend="and" isString="0">police_car_num_dispatch = '{police_car_num_dispatch}'</isNotNull>
            <isNotNull prepend="and" isString="0">economy_loss = '{economy_loss}'</isNotNull>
            <isNotNull prepend="and" isString="0">retrieve_economy_loss = '{retrieve_economy_loss}'</isNotNull>
            <isNotNull prepend="and" isString="0">fire_put_out_time = '{fire_put_out_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_first_type = '{fire_building_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_second_type = '{fire_building_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_third_type = '{fire_building_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_source_type = '{fire_source_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_region_type = '{fire_region_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_cause_first_type = '{fire_cause_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_cause_second_type = '{fire_cause_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_cause_third_type = '{fire_cause_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="0">fire_area = '{fire_area}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_road_level = '{traffic_road_level}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_accident_level = '{traffic_accident_level}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_vehicle_no = '{traffic_vehicle_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_vehicle_type = '{traffic_vehicle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_slave_vehicle_no = '{traffic_slave_vehicle_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_slave_vehicle_type = '{traffic_slave_vehicle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">event_type = '{event_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="insert_icc_t_alarm_feedback" operation="insert">
        <statement>INSERT into public.icc_t_alarm_feedback(id,alarm_id,process_id,result_type,result_content,leader_instruction,state,time_edit,time_submit,time_arrived,time_signed,time_police_dispatch,time_police_arrived,actual_occur_time,actual_occur_addr,feedback_dept_district_code,feedback_dept_code,feedback_dept_name,feedback_code,feedback_name,feedback_leader_code,feedback_leader_name,process_dept_district_code,process_dept_code,process_dept_name,process_code,process_name,process_leader_code,process_leader_name,dispatch_dept_district_code,dispatch_dept_code,dispatch_dept_name,dispatch_code,dispatch_name,dispatch_leader_code,dispatch_leader_name,person_id,person_id_type,person_nationality,person_name,person_slave_id,person_slave_id_type,person_slave_nationality,person_slave_name,alarm_called_no_type,alarm_first_type,alarm_second_type,alarm_third_type,alarm_fourth_type,alarm_addr_dept_name,alarm_addr_first_type,alarm_addr_second_type,alarm_addr_third_type,alarm_longitude,alarm_latitude,alarm_region_type,alarm_location_type,people_num_capture,people_num_rescue,people_num_slight_injury,people_num_serious_injury,people_num_death,police_num_dispatch,police_car_num_dispatch,economy_loss,retrieve_economy_loss,fire_put_out_time,fire_building_first_type,fire_building_second_type,fire_building_third_type,fire_source_type,fire_region_type,fire_cause_first_type,fire_cause_second_type,fire_cause_third_type,fire_area,traffic_road_level,traffic_accident_level,traffic_vehicle_no,traffic_vehicle_type,traffic_slave_vehicle_no,traffic_slave_vehicle_type,event_type,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{id}','{alarm_id}','{process_id}','{result_type}','{result_content}','{leader_instruction}','{state}','{time_edit}','{time_submit}','{time_arrived}','{time_signed}','{time_police_dispatch}','{time_police_arrived}','{actual_occur_time}','{actual_occur_addr}','{feedback_dept_district_code}','{feedback_dept_code}','{feedback_dept_name}','{feedback_code}','{feedback_name}','{feedback_leader_code}','{feedback_leader_name}','{process_dept_district_code}','{process_dept_code}','{process_dept_name}','{process_code}','{process_name}','{process_leader_code}','{process_leader_name}','{dispatch_dept_district_code}','{dispatch_dept_code}','{dispatch_dept_name}','{dispatch_code}','{dispatch_name}','{dispatch_leader_code}','{dispatch_leader_name}','{person_id}','{person_id_type}','{person_nationality}','{person_name}','{person_slave_id}','{person_slave_id_type}','{person_slave_nationality}','{person_slave_name}','{alarm_called_no_type}','{alarm_first_type}','{alarm_second_type}','{alarm_third_type}','{alarm_fourth_type}','{alarm_addr_dept_name}','{alarm_addr_first_type}','{alarm_addr_second_type}','{alarm_addr_third_type}','{alarm_longitude}','{alarm_latitude}','{alarm_region_type}','{alarm_location_type}','{people_num_capture}','{people_num_rescue}','{people_num_slight_injury}','{people_num_serious_injury}','{people_num_death}','{police_num_dispatch}','{police_car_num_dispatch}','{economy_loss}','{retrieve_economy_loss}','{fire_put_out_time}','{fire_building_first_type}','{fire_building_second_type}','{fire_building_third_type}','{fire_source_type}','{fire_region_type}','{fire_cause_first_type}','{fire_cause_second_type}','{fire_cause_third_type}','{fire_area}','{traffic_road_level}','{traffic_accident_level}','{traffic_vehicle_no}','{traffic_vehicle_type}','{traffic_slave_vehicle_no}','{traffic_slave_vehicle_type}','{event_type}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	<sql id="select_icc_t_alarm_feedback" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_feedback</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_id = '{process_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">result_type = '{result_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">result_content = '{result_content}'</isNotNull>
            <isNotNull prepend="and" isString="1">leader_instruction = '{leader_instruction}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_edit = '{time_edit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_submit = '{time_submit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_arrived = '{time_arrived}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_signed = '{time_signed}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_police_dispatch = '{time_police_dispatch}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_police_arrived = '{time_police_arrived}'</isNotNull>
            <isNotNull prepend="and" isString="0">actual_occur_time = '{actual_occur_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">actual_occur_addr = '{actual_occur_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_dept_district_code = '{feedback_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_dept_code = '{feedback_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_dept_name = '{feedback_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_code = '{feedback_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_name = '{feedback_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_leader_code = '{feedback_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_leader_name = '{feedback_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_district_code = '{process_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_code = '{process_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_name = '{process_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_code = '{process_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_name = '{process_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_code = '{process_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_name = '{process_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_district_code = '{dispatch_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_code = '{dispatch_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_name = '{dispatch_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_code = '{dispatch_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_name = '{dispatch_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_code = '{dispatch_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_name = '{dispatch_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_id = '{person_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_id_type = '{person_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_nationality = '{person_nationality}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_name = '{person_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_id = '{person_slave_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_id_type = '{person_slave_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_nationality = '{person_slave_nationality}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_name = '{person_slave_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_called_no_type = '{alarm_called_no_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_first_type = '{alarm_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_second_type = '{alarm_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_third_type = '{alarm_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_fourth_type = '{alarm_fourth_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_dept_name = '{alarm_addr_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_first_type = '{alarm_addr_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_second_type = '{alarm_addr_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_third_type = '{alarm_addr_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="0">alarm_longitude = '{alarm_longitude}'</isNotNull>
            <isNotNull prepend="and" isString="0">alarm_latitude = '{alarm_latitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_region_type = '{alarm_region_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_location_type = '{alarm_location_type}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_capture = '{people_num_capture}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_rescue = '{people_num_rescue}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_slight_injury = '{people_num_slight_injury}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_serious_injury = '{people_num_serious_injury}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_death = '{people_num_death}'</isNotNull>
            <isNotNull prepend="and" isString="0">police_num_dispatch = '{police_num_dispatch}'</isNotNull>
            <isNotNull prepend="and" isString="0">police_car_num_dispatch = '{police_car_num_dispatch}'</isNotNull>
            <isNotNull prepend="and" isString="0">economy_loss = '{economy_loss}'</isNotNull>
            <isNotNull prepend="and" isString="0">retrieve_economy_loss = '{retrieve_economy_loss}'</isNotNull>
            <isNotNull prepend="and" isString="0">fire_put_out_time = '{fire_put_out_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_first_type = '{fire_building_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_second_type = '{fire_building_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_third_type = '{fire_building_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_source_type = '{fire_source_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_region_type = '{fire_region_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_cause_first_type = '{fire_cause_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_cause_second_type = '{fire_cause_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_cause_third_type = '{fire_cause_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="0">fire_area = '{fire_area}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_road_level = '{traffic_road_level}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_accident_level = '{traffic_accident_level}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_vehicle_no = '{traffic_vehicle_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_vehicle_type = '{traffic_vehicle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_slave_vehicle_no = '{traffic_slave_vehicle_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_slave_vehicle_type = '{traffic_slave_vehicle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">event_type = '{event_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="insert_icc_t_alarm_feedback_book" operation="insert">
        <statement>INSERT into public.icc_t_alarm_feedback_book(guid,id,alarm_id,process_id,result_type,result_content,leader_instruction,state,time_edit,time_submit,time_arrived,time_signed,time_police_dispatch,time_police_arrived,actual_occur_time,actual_occur_addr,feedback_dept_district_code,feedback_dept_code,feedback_dept_name,feedback_code,feedback_name,feedback_leader_code,feedback_leader_name,process_dept_district_code,process_dept_code,process_dept_name,process_code,process_name,process_leader_code,process_leader_name,dispatch_dept_district_code,dispatch_dept_code,dispatch_dept_name,dispatch_code,dispatch_name,dispatch_leader_code,dispatch_leader_name,person_id,person_id_type,person_nationality,person_name,person_slave_id,person_slave_id_type,person_slave_nationality,person_slave_name,alarm_called_no_type,alarm_first_type,alarm_second_type,alarm_third_type,alarm_fourth_type,alarm_addr_dept_name,alarm_addr_first_type,alarm_addr_second_type,alarm_addr_third_type,alarm_longitude,alarm_latitude,alarm_region_type,alarm_location_type,people_num_capture,people_num_rescue,people_num_slight_injury,people_num_serious_injury,people_num_death,police_num_dispatch,police_car_num_dispatch,economy_loss,retrieve_economy_loss,fire_put_out_time,fire_building_first_type,fire_building_second_type,fire_building_third_type,fire_source_type,fire_region_type,fire_cause_first_type,fire_cause_second_type,fire_cause_third_type,fire_area,traffic_road_level,traffic_accident_level,traffic_vehicle_no,traffic_vehicle_type,traffic_slave_vehicle_no,traffic_slave_vehicle_type,event_type,flag,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{id}','{alarm_id}','{process_id}','{result_type}','{result_content}','{leader_instruction}','{state}','{time_edit}','{time_submit}','{time_arrived}','{time_signed}','{time_police_dispatch}','{time_police_arrived}','{actual_occur_time}','{actual_occur_addr}','{feedback_dept_district_code}','{feedback_dept_code}','{feedback_dept_name}','{feedback_code}','{feedback_name}','{feedback_leader_code}','{feedback_leader_name}','{process_dept_district_code}','{process_dept_code}','{process_dept_name}','{process_code}','{process_name}','{process_leader_code}','{process_leader_name}','{dispatch_dept_district_code}','{dispatch_dept_code}','{dispatch_dept_name}','{dispatch_code}','{dispatch_name}','{dispatch_leader_code}','{dispatch_leader_name}','{person_id}','{person_id_type}','{person_nationality}','{person_name}','{person_slave_id}','{person_slave_id_type}','{person_slave_nationality}','{person_slave_name}','{alarm_called_no_type}','{alarm_first_type}','{alarm_second_type}','{alarm_third_type}','{alarm_fourth_type}','{alarm_addr_dept_name}','{alarm_addr_first_type}','{alarm_addr_second_type}','{alarm_addr_third_type}','{alarm_longitude}','{alarm_latitude}','{alarm_region_type}','{alarm_location_type}','{people_num_capture}','{people_num_rescue}','{people_num_slight_injury}','{people_num_serious_injury}','{people_num_death}','{police_num_dispatch}','{police_car_num_dispatch}','{economy_loss}','{retrieve_economy_loss}','{fire_put_out_time}','{fire_building_first_type}','{fire_building_second_type}','{fire_building_third_type}','{fire_source_type}','{fire_region_type}','{fire_cause_first_type}','{fire_cause_second_type}','{fire_cause_third_type}','{fire_area}','{traffic_road_level}','{traffic_accident_level}','{traffic_vehicle_no}','{traffic_vehicle_type}','{traffic_slave_vehicle_no}','{traffic_slave_vehicle_type}','{event_type}','{flag}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	<sql id="select_icc_t_alarm_feedback_book" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_feedback_book</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_id = '{process_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">result_type = '{result_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">result_content = '{result_content}'</isNotNull>
            <isNotNull prepend="and" isString="1">leader_instruction = '{leader_instruction}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_edit = '{time_edit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_submit = '{time_submit}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_arrived = '{time_arrived}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_signed = '{time_signed}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_police_dispatch = '{time_police_dispatch}'</isNotNull>
            <isNotNull prepend="and" isString="0">time_police_arrived = '{time_police_arrived}'</isNotNull>
            <isNotNull prepend="and" isString="0">actual_occur_time = '{actual_occur_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">actual_occur_addr = '{actual_occur_addr}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_dept_district_code = '{feedback_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_dept_code = '{feedback_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_dept_name = '{feedback_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_code = '{feedback_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_name = '{feedback_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_leader_code = '{feedback_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">feedback_leader_name = '{feedback_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_district_code = '{process_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_code = '{process_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_name = '{process_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_code = '{process_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_name = '{process_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_code = '{process_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_leader_name = '{process_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_district_code = '{dispatch_dept_district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_code = '{dispatch_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_dept_name = '{dispatch_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_code = '{dispatch_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_name = '{dispatch_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_code = '{dispatch_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dispatch_leader_name = '{dispatch_leader_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_id = '{person_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_id_type = '{person_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_nationality = '{person_nationality}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_name = '{person_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_id = '{person_slave_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_id_type = '{person_slave_id_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_nationality = '{person_slave_nationality}'</isNotNull>
            <isNotNull prepend="and" isString="1">person_slave_name = '{person_slave_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_called_no_type = '{alarm_called_no_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_first_type = '{alarm_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_second_type = '{alarm_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_third_type = '{alarm_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_fourth_type = '{alarm_fourth_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_dept_name = '{alarm_addr_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_first_type = '{alarm_addr_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_second_type = '{alarm_addr_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_addr_third_type = '{alarm_addr_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="0">alarm_longitude = '{alarm_longitude}'</isNotNull>
            <isNotNull prepend="and" isString="0">alarm_latitude = '{alarm_latitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_region_type = '{alarm_region_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_location_type = '{alarm_location_type}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_capture = '{people_num_capture}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_rescue = '{people_num_rescue}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_slight_injury = '{people_num_slight_injury}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_serious_injury = '{people_num_serious_injury}'</isNotNull>
            <isNotNull prepend="and" isString="0">people_num_death = '{people_num_death}'</isNotNull>
            <isNotNull prepend="and" isString="0">police_num_dispatch = '{police_num_dispatch}'</isNotNull>
            <isNotNull prepend="and" isString="0">police_car_num_dispatch = '{police_car_num_dispatch}'</isNotNull>
            <isNotNull prepend="and" isString="0">economy_loss = '{economy_loss}'</isNotNull>
            <isNotNull prepend="and" isString="0">retrieve_economy_loss = '{retrieve_economy_loss}'</isNotNull>
            <isNotNull prepend="and" isString="0">fire_put_out_time = '{fire_put_out_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_first_type = '{fire_building_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_second_type = '{fire_building_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_building_third_type = '{fire_building_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_source_type = '{fire_source_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_region_type = '{fire_region_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_cause_first_type = '{fire_cause_first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_cause_second_type = '{fire_cause_second_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">fire_cause_third_type = '{fire_cause_third_type}'</isNotNull>
            <isNotNull prepend="and" isString="0">fire_area = '{fire_area}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_road_level = '{traffic_road_level}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_accident_level = '{traffic_accident_level}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_vehicle_no = '{traffic_vehicle_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_vehicle_type = '{traffic_vehicle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_slave_vehicle_no = '{traffic_slave_vehicle_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">traffic_slave_vehicle_type = '{traffic_slave_vehicle_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">event_type = '{event_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">flag = '{flag}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>flag desc</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_alarm_and_process" operation="select">
        <statement>
			SELECT 
			P.dispatch_dept_code As processdispatchcode,
			COUNT(1) OVER (PARTITION by P.dispatch_dept_code)
			FROM "icc_t_alarm_process" P left join icc_t_alarm A on A.id = P.alarm_id
			where P.time_signed is null and P.time_submit >  ('{timefirst_now}')
			and ('{timesecond_now}') > P.time_submit
			and P.state != 'DIC020071' 
			and P.state != 'DIC020073'
		</statement>
    </sql>
	<sql id="select_icc_t_staff_dept" operation="select">
        <statement>
			select 
			s.name as name,
			d.code as deptcode,
			d.shortcut as deptname
			from "icc_t_staff" s left join "icc_t_dept" d on d.guid = s.dept_guid
			where s.code = '{user_code}'
		</statement>
    </sql>
	<sql id="select_icc_t_staff_all" operation="select">
        <statement>
			select * from icc_t_staff where staff_id_no = '{code}' and name = '{name}';
		</statement>
    </sql>
	<sql id="select_icc_t_jjdb_type" operation="select">
        <statement>
			select jqlbdm, jqlxdm, jqxldm, jqzldm from icc_t_jjdb where jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' and jjdbh = '{alarm_id}';
		</statement>
    </sql>
	<sql id="select_icc_t_staff_by_name" operation="select">
        <statement>
			select guid from icc_t_staff where name = '{name}' and code = '{code}';
		</statement>
    </sql>
	
	<sql id="select_icc_t_user_all" operation="select">
        <statement>
			SELECT  u.guid, a.attention_staff,u.name FROM "icc_t_alarm_attention" a left join "icc_t_staff" u ON (a.attention_staff = u.code) where a.alarm_id = '{alarm_id}';
		</statement>
    </sql>

	<sql id="select_icc_t_alarm_and_process_ex" operation="select">
        <statement>
			SELECT A.id AS alarmid,
			A.called_no_type AS callednotype,
			A.content AS content,
			P.id AS processid,
			P.time_submit As createtime,
			P.process_dept_code As processdeptcode,
			P.process_dept_name As processdeptname,
			P.dispatch_name As processdispatchname,
			P.dispatch_code As processdispatchcode,
			P.dispatch_dept_code As processdispatchdeptcode,
			P.dispatch_dept_name As processdispatchdeptname,
			count(P.id) OVER()
			FROM "icc_t_alarm_process" P left join icc_t_alarm A on A.id = P.alarm_id
			where P.time_signed is null and P.time_submit >  ('{timefirst_now}')
			and ('{timesecond_now}') > P.time_submit
			and P.dispatch_dept_code = '{dept_code}'
			and P.state != 'DIC020071'
			and P.state != 'DIC020073'
			limit {pagesize} offset {offset}
		</statement>
    </sql>
	<sql id="insert_icc_t_shift" operation="insert">
        <statement>INSERT INTO public.icc_t_shift(guid, start_time, end_time, dept_code, dept_code_path,duty_code, duty_name, duty_leader_code, duty_leader_name, receiver_code,receiver_name,receive_state,work_content, important_content, shift_content, create_user, create_time, update_user, update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{start_time}','{end_time}','{dept_code}','{dept_code_path}','{duty_code}','{duty_name}','{duty_leader_code}','{duty_leader_name}','{receiver_code}','{receiver_name}','{receive_state}','{work_content}','{important_content}','{shift_content}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	<sql id="update_icc_t_shift" operation="update">
        <statement>UPDATE public.icc_t_shift</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="0">start_time = '{start_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">end_time = '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code = '{dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">duty_code = '{duty_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">duty_name = '{duty_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">duty_leader_code = '{duty_leader_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">duty_leader_name = '{duty_leader_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">receiver_code = '{receiver_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">receiver_name = '{receiver_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">receive_state = '{receive_state}'</isNotNull>
            <isNotNull prepend="and" isString="1">work_content = '{work_content}'</isNotNull>
            <isNotNull prepend="and" isString="1">important_content = '{important_content}'</isNotNull>
            <isNotNull prepend="and" isString="1">shift_content = '{shift_content}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
	</sql>
	<sql id="select_shift" operation="select">
		<statement>SELECT a.*,b.name as name from icc_t_shift as a left join icc_t_dept as b on a.dept_code = b.code </statement>
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">a.start_time &gt;= '{start_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">a.end_time &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.receive_state = '{receive_state}'</isNotNull>
            <isNotNull prepend="and" isString="1">a.duty_code = '{duty_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.receiver_code = '{receiver_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">case when 1={enable_alarm} then (select count(*) num from icc_t_shift_relation where a.guid = shift_id) > 0 else (select count(*) num from icc_t_shift_relation where a.guid = shift_id) >= 0 end</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1"> case when 1={is_recursive} then a.dept_code='{dept_code}' else a.dept_code_path like '%{dept_code}%' end </isNotNull>
        </dynamic>
		<orderby prepend="order by">
            <isNotNull>a.start_time desc</isNotNull>
        </orderby>
		<pagedivided prepend="limit">
            <isNotNull prepend="limit">{page_size}</isNotNull>
            <isNotNull prepend="offset">{page_size}*({page_index}-1)</isNotNull>
        </pagedivided>
	</sql>
	<sql id="select_shift_count" operation="select">
		<statement>SELECT count(*) num from "icc_t_shift" a</statement>
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">a.start_time &gt;= '{start_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">a.end_time &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.receive_state = '{receive_state}'</isNotNull>
            <isNotNull prepend="and" isString="1">a.duty_code = '{duty_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.receiver_code = '{receiver_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">case when 1={enable_alarm} then (select count(*) num from icc_t_shift_relation where a.guid = shift_id) > 0 else (select count(*) num from icc_t_shift_relation where a.guid = shift_id) >= 0 end</isNotNull>
            <isNotNull prepend="and" isString="1" isNotTrans="1"> case when 1={is_recursive} then a.dept_code='{dept_code}' else a.dept_code_path like '%{dept_code}%' end </isNotNull>
        </dynamic>
		<orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
	</sql>
	<sql id="select_today_alarm" operation="select">
		<statement>select id, merge_id, title, content, "time", actual_occur_time, addr, longitude, latitude, state, level, source_type, source_id, handle_type, first_type, second_type, third_type, fourth_type, vehicle_no, vehicle_type, symbol_code, symbol_addr, fire_building_type, event_type, called_no_type, actual_called_no_type, caller_no, caller_name, caller_addr, caller_id, caller_id_type, caller_gender, caller_age, caller_birthday, contact_no, contact_name, contact_addr, contact_id, contact_id_type, contact_gender, contact_age, contact_birthday, admin_dept_district_code, admin_dept_code, admin_dept_name, receipt_dept_district_code, receipt_dept_code, receipt_dept_name, leader_code, leader_name, receipt_code, receipt_name, receipt_seatno, is_merge, dispatch_suggestion, create_user, create_time, update_user, update_time, is_feedback, is_visitor, first_submit_time, is_privacy, is_delete, remark, jjsj as received_time, bjdhyhm as caller_user_name, bjdz as alarm_addr, zars as erpetrators_number, ywcwq as is_armed, ywwxwz as is_hazardous_substances, ywbzxl as is_explosion_or_leakage, bkryqksm as desc_of_trapped, ssryqksm as desc_of_injured, swryqksm as desc_of_dead, sfswybj as is_foreign_language, fxdwjd as manual_longitude, fxdwwd as manual_latitude, yjjydjdm as emergency_rescue_level, sfswhcl as is_hazardous_vehicle, jjfw as receipt_srv_name, dqywzt as business_status from public.icc_t_alarm</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">time is not null and time &gt;= '{interval}' and state &lt;&gt; '00'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_code in (select code from public.icc_view_dept_recursive where path like '%{receipt_dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="1">called_no_type = '{called_no_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_code = '{receipt_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">handle_type = '{handle_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">first_type != '{first_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">(id like '%{query_key}%' or content like '%{query_key}%' or addr like '%{query_key}%')</isNotNull>
			<isNotNull prepend="and" isString="1">level = '{level}'</isNotNull>	
			<isNotNull prepend="and" isString="1">(is_delete is null or is_delete != 'true')</isNotNull>
        </dynamic>
		<orderby prepend="order by">
            <isNotNull>time desc</isNotNull>
        </orderby>
		<pagedivided prepend="limit">
            <isNotNull prepend="limit">{page_size}</isNotNull>
            <isNotNull prepend="offset">{page_size}*({page_index}-1)</isNotNull>
        </pagedivided>
	</sql>
	<sql id="select_today_alarm_count" operation="select">
		<statement>select count(*) num from public.icc_t_alarm</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">time is not null and time &gt;= '{interval}' and state &lt;&gt; '00'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_code in (select code from public.icc_view_dept_recursive where path like '%{receipt_dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="1">called_no_type = '{called_no_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_code = '{receipt_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">handle_type = '{handle_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">first_type != '{first_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">(id like '%{query_key}%' or content like '%{query_key}%' or addr like '%{query_key}%')</isNotNull>
            <isNotNull prepend="and" isString="1">level = '{level}'</isNotNull>	
            <isNotNull prepend="and" isString="1">(is_delete is null or is_delete != 'true')</isNotNull>			
        </dynamic>
	</sql>
	<sql id="select_web_alarm" operation="select">
		<statement>select a.id,a.content,a.time,a.source_type,a.source_id,a.addr,a.state,a.level,a.first_type,a.second_type,a.third_type,a.fourth_type,a.called_no_type,a.contact_no,
		a.contact_name,a.receipt_name,a.receipt_dept_code,a.receipt_dept_name,b.id process_id,b.state process_state,b.time_signed,c.time_submit time_feedback,b.process_dept_code  
		from icc_t_alarm a left join icc_t_alarm_process b on a.id = b.alarm_id left join icc_t_alarm_feedback c on b.id = c.process_id</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">b.process_dept_code in (select r.code from icc_view_dept_recursive r where r.path like '%{process_dept_code}%') and b.state != 'DIC020071' and b.state !='DIC020073'</isNotNull>
			<isNotNull prepend="and" isString="1">a.id='{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">content like '%{content}%'</isNotNull>
            <isNotNull prepend="and" isString="1">a.time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">time='{time}'</isNotNull>
			<isNotNull prepend="and" isString="1">addr like '%{addr}%'</isNotNull>
			<isNotNull prepend="and" isString="1">a.state = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.first_type = '{first_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.second_type = '{second_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.third_type = '{third_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.fourth_type = '{fourth_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.contact_no like '%{contact_no}%'</isNotNull>
			<isNotNull prepend="and" isString="1">a.contact_name like '%{contact_name}%'</isNotNull>
			<isNotNull prepend="and" isString="1">(b.time_signed is null OR c.time_submit IS NULL and {signed_or_feedback_is_null})</isNotNull>
			<isNotNull prepend="and" isString="1">(b.time_signed is NOT null AND c.time_submit IS NOT NULL and {signed_and_feedback_is_not_null})</isNotNull>
        </dynamic>
		<orderby prepend="order by">
            <isNotNull>A.id desc</isNotNull>
        </orderby>
		<pagedivided prepend="limit">
            <isNotNull prepend="limit">{page_size}</isNotNull>
            <isNotNull prepend="offset">{page_size}*({page_index}-1)</isNotNull>
        </pagedivided>
	</sql>
	<sql id="select_web_alarm_count" operation="select">
		<statement>select count(*) num from icc_t_alarm a left join icc_t_alarm_process b on a.id = b.alarm_id left join icc_t_alarm_feedback c on b.id = c.process_id</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">b.process_dept_code in (select r.code from icc_view_dept_recursive r where r.path like '%{process_dept_code}%') and b.state != 'DIC020071' and b.state !='DIC020073'</isNotNull>
			<isNotNull prepend="and" isString="1">a.id='{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">content like '%{content}%'</isNotNull>
			<isNotNull prepend="and" isString="1">a.time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">time='{time}'</isNotNull>
			<isNotNull prepend="and" isString="1">addr like '%{addr}%'</isNotNull>
			<isNotNull prepend="and" isString="1">a.state = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.first_type = '{first_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.second_type = '{second_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.third_type = '{third_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.fourth_type = '{fourth_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">a.contact_no like '%{contact_no}%'</isNotNull>
			<isNotNull prepend="and" isString="1">a.contact_name like '%{contact_name}%'</isNotNull>
			<isNotNull prepend="and" isString="1">(b.time_signed is null OR c.time_submit IS NULL and {signed_or_feedback_is_null})</isNotNull>
			<isNotNull prepend="and" isString="1">(b.time_signed is NOT null AND c.time_submit IS NOT NULL and {signed_and_feedback_is_not_null})</isNotNull>
        </dynamic>
	</sql>
	<sql id="select_feedback_count" operation="select">
		<statement>select count(*) num from icc_t_alarm_feedback</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">alarm_id='{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">process_id = '{process_id}'</isNotNull>
        </dynamic>
	</sql>
	<sql id="select_icc_t_alarm_transport" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_transport</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_alarm_id = '{source_alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_callref_id = '{source_callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_user_code = '{source_user_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_user_name = '{source_user_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_seat_no = '{source_seat_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_dept_code = '{source_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_dept_name = '{source_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_user_code = '{target_user_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_user_name = '{target_user_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_seat_no = '{target_seat_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_dept_code = '{target_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_dept_name = '{target_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_alarm_id = '{target_alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_callref_id = '{target_callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_alarm_transport" operation="update">
        <statement>UPDATE public.icc_t_alarm_transport</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_alarm_id = '{source_alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_callref_id = '{source_callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_user_code = '{source_user_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_user_name = '{source_user_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_seat_no = '{source_seat_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_dept_code = '{source_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_dept_name = '{source_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_user_code = '{target_user_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_user_name = '{target_user_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_seat_no = '{target_seat_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_dept_code = '{target_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_dept_name = '{target_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_alarm_id = '{target_alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_callref_id = '{target_callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_alarm_transport" operation="delete">
        <statement>DELETE FROM public.icc_t_alarm_transport</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_alarm_id = '{source_alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_callref_id = '{source_callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_user_code = '{source_user_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_user_name = '{source_user_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_seat_no = '{source_seat_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_dept_code = '{source_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">source_dept_name = '{source_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_user_code = '{target_user_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_user_name = '{target_user_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_seat_no = '{target_seat_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_dept_code = '{target_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_dept_name = '{target_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_alarm_id = '{target_alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_callref_id = '{target_callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_alarm_transport" operation="insert">
        <statement>INSERT into public.icc_t_alarm_transport(guid,source_alarm_id,source_callref_id,source_user_code,source_user_name,source_seat_no,source_dept_code,source_dept_name,target_user_code,target_user_name,target_seat_no,target_dept_code,target_dept_name,target_alarm_id,target_callref_id,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{source_alarm_id}','{source_callref_id}','{source_user_code}','{source_user_name}','{source_seat_no}','{source_dept_code}','{source_dept_name}','{target_user_code}','{target_user_name}','{target_seat_no}','{target_dept_code}','{target_dept_name}','{target_alarm_id}','{target_callref_id}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	<sql id="select_icc_t_config" operation="select">
        <statement>SELECT * FROM public.icc_t_config</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">ip = '{ip}'</isNotNull>
            <isNotNull prepend="and" isString="1">config = '{config}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_config" operation="update">
        <statement>UPDATE public.icc_t_config</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">ip = '{ip}'</isNotNull>
            <isNotNull prepend="and" isString="1">config = '{config}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_config" operation="delete">
        <statement>DELETE FROM public.icc_t_config</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">ip = '{ip}'</isNotNull>
            <isNotNull prepend="and" isString="1">config = '{config}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_config" operation="insert">
        <statement>INSERT into public.icc_t_config(ip,config,is_delete,level,sort,shortcut,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{ip}','{config}','{is_delete}','{level}','{sort}','{shortcut}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	 <sql id="select_icc_t_param" operation="select">
        <statement>SELECT * FROM public.icc_t_param</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">value = '{value}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_visibility = '{is_visibility}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_readonly = '{is_readonly}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>create_user</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_param" operation="update">
        <statement>UPDATE public.icc_t_param</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">value = '{value}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_visibility = '{is_visibility}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_readonly = '{is_readonly}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_param" operation="delete">
        <statement>DELETE FROM public.icc_t_param</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">value = '{value}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_visibility = '{is_visibility}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_readonly = '{is_readonly}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_param" operation="insert">
        <statement>INSERT into public.icc_t_param(name,value,is_visibility,is_readonly,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{name}','{value}','{is_visibility}','{is_readonly}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="update_icc_t_callevent" operation="update">
        <statement>UPDATE public.icc_t_callevent</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{create_time_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{create_time_end}'</isNotNull>
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">acd = '{acd}'</isNotNull>
			<isNotNull prepend="and" isString="1">original_acd = '{original_acd}'</isNotNull>
			<isNotNull prepend="and" isString="1">acd_dept = '{acd_dept}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_id = '{caller_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">called_id = '{called_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">call_direction = '{call_direction}'</isNotNull>
            <isNotNull prepend="and" isString="0">talk_time = '{talk_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">hangup_time = '{hangup_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">hangup_type = '{hangup_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_blackcall = '{is_blackcall}'</isNotNull>
            <isNotNull prepend="and" isString="0">incoming_time = '{incoming_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">dial_time = '{dial_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">ring_time = '{ring_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">ringback_time = '{ringback_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_callback = '{is_callback}'</isNotNull>
			<isNotNull prepend="and" isString="1">switch_type = '{switch_type}'</isNotNull>			
			<isNotNull prepend="and" isString="1">flag = '{flag}'</isNotNull>
			<isNotNull prepend="and" isString="1">acd_relation_dept = '{acd_relation_dept}'</isNotNull>
			<isNotNull prepend="and" isString="1">caller_relation_dept = '{caller_relation_dept}'</isNotNull>
			<isNotNull prepend="and" isString="1">called_relation_dept = '{called_relation_dept}'</isNotNull>
			<isNotNull prepend="and" isString="1">acd_relation_dept_name = '{acd_relation_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">caller_relation_dept_name = '{caller_relation_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">called_relation_dept_name = '{called_relation_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">acd_relation_dept_path = '{acd_relation_dept_path}'</isNotNull>
			<isNotNull prepend="and" isString="1">caller_relation_dept_path = '{caller_relation_dept_path}'</isNotNull>
			<isNotNull prepend="and" isString="1">called_relation_dept_path = '{called_relation_dept_path}'</isNotNull>
			<isNotNull prepend="and" isString="1">acd_relation_dept_identify = '{acd_relation_dept_identify}'</isNotNull>
			<isNotNull prepend="and" isString="1">caller_relation_dept_identify = '{caller_relation_dept_identify}'</isNotNull>
			<isNotNull prepend="and" isString="1">called_relation_dept_identify = '{called_relation_dept_identify}'</isNotNull>
			<isNotNull prepend="and" isString="1">caller_type = '{caller_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">called_type = '{called_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">receiver_code = '{receiver_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">receiver_name = '{receiver_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">incoming_len = '{incoming_len}'</isNotNull>
			<isNotNull prepend="and" isString="1">ring_len = '{ring_len}'</isNotNull>
			<isNotNull prepend="and" isString="1">talk_len = '{talk_len}'</isNotNull>
			<isNotNull prepend="and" isString="1">record_file_id = '{record_file_id}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_callevent" operation="delete">
        <statement>DELETE FROM public.icc_t_callevent</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">acd = '{acd}'</isNotNull>
			<isNotNull prepend="and" isString="1">original_acd = '{original_acd}'</isNotNull>
			<isNotNull prepend="and" isString="1">acd_dept = '{acd_dept}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_id = '{caller_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">called_id = '{called_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">call_direction = '{call_direction}'</isNotNull>
            <isNotNull prepend="and" isString="0">talk_time = '{talk_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">hangup_time = '{hangup_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">hangup_type = '{hangup_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_blackcall = '{is_blackcall}'</isNotNull>
            <isNotNull prepend="and" isString="0">incoming_time = '{incoming_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">dial_time = '{dial_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">ring_time = '{ring_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">ringback_time = '{ringback_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_callback = '{is_callback}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_callevent" operation="insert">
        <statement>INSERT into public.icc_t_callevent(callref_id,acd,original_acd,acd_dept,caller_id,called_id,call_direction,talk_time,hangup_time,hangup_type,is_blackcall,incoming_time,dial_time,ring_time,ringback_time,is_callback,switch_type,acd_relation_dept,caller_relation_dept,called_relation_dept,caller_type, called_type,acd_relation_dept_name,caller_relation_dept_name,called_relation_dept_name,acd_relation_dept_path,caller_relation_dept_path,called_relation_dept_path,acd_relation_dept_identify,caller_relation_dept_identify,called_relation_dept_identify,receiver_code,receiver_name,create_time,incoming_len,ring_len,talk_len, rel_alarm_id) VALUES</statement>
        <dynamic prepend="">('{callref_id}','{acd}','{original_acd}','{acd_dept}','{caller_id}','{called_id}','{call_direction}','{talk_time}','{hangup_time}','{hangup_type}','{is_blackcall}','{incoming_time}','{dial_time}','{ring_time}','{ringback_time}','{is_callback}','{switch_type}','{acd_relation_dept}','{caller_relation_dept}','{called_relation_dept}','{caller_type}','{called_type}','{acd_relation_dept_name}','{caller_relation_dept_name}','{called_relation_dept_name}','{acd_relation_dept_path}','{caller_relation_dept_path}','{called_relation_dept_path}','{acd_relation_dept_identify}','{caller_relation_dept_identify}','{called_relation_dept_identify}','{receiver_code}','{receiver_name}','{create_time}','{incoming_len}','{ring_len}','{talk_len}', '{rel_alarm_id}')</dynamic>
    </sql>
	
    <sql id="update_icc_t_sub_callevent" operation="update">
        <statement>UPDATE public.icc_t_sub_callevent</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">eventcall_state = '{eventcall_state}'</isNotNull>
            <isNotNull prepend="and" isString="0">state_time = '{state_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">sponsor = '{sponsor}'</isNotNull>
            <isNotNull prepend="and" isString="1">receiver = '{receiver}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_sub_callevent" operation="delete">
        <statement>DELETE FROM public.icc_t_sub_callevent</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">eventcall_state = '{eventcall_state}'</isNotNull>
            <isNotNull prepend="and" isString="0">state_time = '{state_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">sponsor = '{sponsor}'</isNotNull>
            <isNotNull prepend="and" isString="1">receiver = '{receiver}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_sub_callevent" operation="insert">
        <statement>INSERT into public.icc_t_sub_callevent(guid,callref_id,eventcall_state,state_time,sponsor,receiver,create_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{callref_id}','{eventcall_state}','{state_time}','{sponsor}','{receiver}','{create_time}')</dynamic>
    </sql>
	<sql id="update_icc_t_alarm_log" operation="update">
        <statement>UPDATE public.icc_t_alarm_log</statement>
        <dynamic prepend="where">		
			<isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">jjdbh = '{jjdbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">pjdbh = '{pjdbh}'</isNotNull>
			<isNotNull prepend="and" isString="1">fkdbh = '{fkdbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">operate = '{operate}'</isNotNull>
            <isNotNull prepend="and" isString="1">operatorcontent = '{operate_content}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromtype = '{from_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromcode = '{from_object}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromname = '{from_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgcode = '{from_object_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgname = '{from_object_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgidentifier = '{from_object_org_identifier}'</isNotNull>
			<isNotNull prepend="and" isString="1">targettype = '{to_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetcode = '{to_object}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetname = '{to_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgcode = '{to_object_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgname = '{to_object_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgidentifier = '{to_object_org_identifier}'</isNotNull>
			<isNotNull prepend="and" isString="0">operatetime = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">sourcename = '{source_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">operateattachdesc = '{operate_attach_desc}'</isNotNull>
			<isNotNull prepend="and" isString="1">description = '{description}'</isNotNull>
            <isNotNull prepend="and" isString="1">createuser = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">createorg = '{create_org}'</isNotNull>
			<isNotNull prepend="and" isString="1">dept_org_code = '{dept_org_code}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="delete_icc_t_alarm_log" operation="delete">
        <statement>DELETE FROM public.icc_t_alarm_log</statement>
        <dynamic prepend="where">		
			<isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">jjdbh = '{jjdbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">pjdbh = '{pjdbh}'</isNotNull>
			<isNotNull prepend="and" isString="1">fkdbh = '{fkdbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">operate = '{operate}'</isNotNull>
            <isNotNull prepend="and" isString="1">operatorcontent = '{operate_content}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromtype = '{from_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromcode = '{from_object}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromname = '{from_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgcode = '{from_object_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgname = '{from_object_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">fromorgidentifier = '{from_object_org_identifier}'</isNotNull>
			<isNotNull prepend="and" isString="1">targettype = '{to_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetcode = '{to_object}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetname = '{to_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgcode = '{to_object_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgname = '{to_object_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">targetorgidentifier = '{to_object_org_identifier}'</isNotNull>
			<isNotNull prepend="and" isString="0">operatetime = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">sourcename = '{source_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">operateattachdesc = '{operate_attach_desc}'</isNotNull>
			<isNotNull prepend="and" isString="1">description = '{description}'</isNotNull>
            <isNotNull prepend="and" isString="1">createuser = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">createorg = '{create_org}'</isNotNull>
			<isNotNull prepend="and" isString="1">dept_org_code = '{dept_org_code}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_blacklist" operation="select">
        <statement>SELECT * FROM public.icc_t_blacklist</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
			<isNotNull prepend="and" isString="1">limit_type = '{limit_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">limit_num = '{limit_num}'</isNotNull>
            <isNotNull prepend="and" isString="1">limit_minute = '{limit_minute}'</isNotNull>
            <isNotNull prepend="and" isString="1">limit_reason = '{limit_reason}'</isNotNull>
            <isNotNull prepend="and" isString="1">staff_code = '{staff_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">staff_name = '{staff_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">begin_time = '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">end_time = '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">approver = '{approver}'</isNotNull>
            <isNotNull prepend="and" isString="1">approved_info = '{approved_info}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_dept_name = '{receipt_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_dept_district_code = '{receipt_dept_district_code}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_blacklist" operation="update">
        <statement>UPDATE public.icc_t_blacklist</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
			<isNotNull prepend="and" isString="1">limit_type = '{limit_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">limit_num = '{limit_num}'</isNotNull>
            <isNotNull prepend="and" isString="1">limit_minute = '{limit_minute}'</isNotNull>
            <isNotNull prepend="and" isString="1">limit_reason = '{limit_reason}'</isNotNull>
            <isNotNull prepend="and" isString="1">staff_code = '{staff_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">staff_name = '{staff_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">begin_time = '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">end_time = '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">approver = '{approver}'</isNotNull>
            <isNotNull prepend="and" isString="0">approved_info = '{approved_info}'</isNotNull>
			<isNotNull prepend="and" isString="0">receipt_dept_name = '{receipt_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="0">receipt_dept_district_code = '{receipt_dept_district_code}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_blacklist" operation="delete">
        <statement>DELETE FROM public.icc_t_blacklist</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
			<isNotNull prepend="and" isString="1">limit_type = '{limit_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">limit_num = '{limit_num}'</isNotNull>
            <isNotNull prepend="and" isString="1">limit_minute = '{limit_minute}'</isNotNull>
            <isNotNull prepend="and" isString="1">limit_reason = '{limit_reason}'</isNotNull>
            <isNotNull prepend="and" isString="1">staff_code = '{staff_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">staff_name = '{staff_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">begin_time = '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">end_time = '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">approver = '{approver}'</isNotNull>
            <isNotNull prepend="and" isString="0">approved_info = '{approved_info}'</isNotNull>
			<isNotNull prepend="and" isString="0">receipt_dept_name = '{receipt_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="0">receipt_dept_district_code = '{receipt_dept_district_code}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_blacklist" operation="insert">
        <statement>INSERT into public.icc_t_blacklist(guid,limit_type,limit_num,limit_minute,limit_reason,staff_code,staff_name,is_delete,begin_time,end_time,create_user,create_time,update_user,update_time, approver,approved_info, receipt_dept_name, receipt_dept_district_code) VALUES</statement>
        <dynamic prepend="">('{guid}','{limit_type}','{limit_num}','{limit_minute}','{limit_reason}','{staff_code}','{staff_name}','{is_delete}','{begin_time}','{end_time}','{create_user}','{create_time}','{update_user}','{update_time}','{approver}','{approved_info}','{receipt_dept_name}','{receipt_dept_district_code}')</dynamic>
    </sql>
	
	<sql id="search_alarm_count_statistics" operation="select">
		<statement>SELECT receipt_code,COUNT(id) as alarm_count,count(CASE wxbs WHEN '1' THEN 1 ELSE NULL END) as invalid_alarm_count,SUM(&quot;count&quot;(id)) OVER() as total_alarm_count,SUM(count(CASE wxbs WHEN '1' THEN 1 ELSE NULL END)) OVER() AS total_invalid_alarm_count,count(1) OVER() as count FROM icc_t_jjdb</statement>
		<dynamic prepend="where">
			<isNotNull isString="1" prepend="">jjsj between '{begin_time}' and '{end_time}'</isNotNull>
		</dynamic>
		<dynamic prepend="group by">
			<isNotNull isString="1" prepend="">{groupby}</isNotNull>
		</dynamic>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	
	<!-- 红名单 -->
	<sql id="select_icc_t_redlist" operation="select">
        <statement>SELECT * FROM public.icc_t_redlist</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone_num = '{phone_num}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">department = '{department}'</isNotNull>
            <isNotNull prepend="and" isString="1">position = '{position}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_redlist" operation="update">
        <statement>UPDATE public.icc_t_redlist</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone_num = '{phone_num}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">department = '{department}'</isNotNull>
            <isNotNull prepend="and" isString="1">position = '{position}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_redlist" operation="delete">
        <statement>DELETE FROM public.icc_t_redlist</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone_num = '{phone_num}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">department = '{department}'</isNotNull>
            <isNotNull prepend="and" isString="1">position = '{position}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_redlist" operation="insert">
        <statement>INSERT into public.icc_t_redlist(id,phone_num,name,department,position,remark,is_delete,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{id}','{phone_num}','{name}','{department}','{position}','{remark}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	
	
	<!-- 带位置与运营商信息的历史话务查询 -->
	<sql id="call_event_search_ex_request" operation="select">
		<statement>
		select c.callref_id,c.acd,c.caller_id,c.called_id,c.call_direction,c.incoming_time,c.dial_time,c.talk_time,c.is_callback,c.hangup_time,c.hangup_type,i.name,i.address,pd.province,pd.city,pd.operator,count(c.callref_id) over()
		from icc_t_callevent c left join icc_t_phoneinfo i on case when c.caller_id = '{seat_no}' then c.called_id else c.caller_id end = i.phone
		left join icc_t_phone_division pd on pd.phone_pre = case when c.caller_id = '{seat_no}'
		then
			case when c.called_id ~ '^1\d+' then substr(c.called_id, 1, 7)
				 when c.called_id ~ '^(0[3-9])\d+|^(\+886)\d+' then substr(c.called_id, 1, 4)
				 when c.called_id ~ '^(\+91\d+)|^8\d+|^(0[1-2])\d+' then substr(c.called_id, 1, 3)
				 else c.called_id
			end
		else
			case when c.caller_id ~ '^1\d+' then substr(c.caller_id, 1, 7)
				 when c.caller_id ~ '^(0[3-9])\d+|^(\+886)\d+' then substr(c.caller_id, 1, 4)
				 when c.caller_id ~ '^(\+91\d+)|^8\d+|^(0[1-2])\d+' then substr(c.caller_id, 1, 3)
				 else c.caller_id
			end
		end
		</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and">c.acd = '{acd}'</isNotNull>
			<isNotNull prepend="and">(c.caller_id = '{seat_no}' or c.called_id = '{seat_no}')</isNotNull>
		</dynamic>
		<dynamic prepend="order by">
			<isNotNull>c.callref_id desc</isNotNull>
		</dynamic>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	<sql id="search_callref_count_statistics" operation="select">
		<statement>SELECT A.client_name,B.called_id,COUNT (DISTINCT callref_id) as callref_count,SUM (COUNT(DISTINCT callref_id))OVER() AS total_callref_count,COUNT(1) OVER() as count
FROM icc_t_client_on_off A RIGHT JOIN icc_t_callevent B ON B.called_id = A.client_id AND B.ring_time BETWEEN A.on_time and CASE WHEN A.off_time IS NULL THEN (SELECT LEAST(min(C.on_time),NOW()) FROM icc_t_client_on_off C WHERE C.client_id = A.client_id AND C.on_time>A.on_time) else A.off_time END
</statement>
		<dynamic prepend="where">
			<isNotNull isString="1" prepend="and">((B.ring_time between '{begin_time}' and '{end_time}' and B.call_direction ='in') OR (B.ringback_time between '{begin_time}' and '{end_time}' and B.call_direction ='out'))</isNotNull>			
			<isNotNull isString="1" prepend="and">B.called_id = ANY(SELECT seat.no FROM icc_t_seat seat WHERE  seat.is_delete = 'false' AND  seat.dept_code = ANY(SELECT code FROM icc_view_dept_recursive WHERE path like '%{dept_code}%'))</isNotNull>
		</dynamic>
		<dynamic prepend="group by">
			<isNotNull isString="1" prepend="">A.client_name,B.called_id</isNotNull>
		</dynamic>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>

	<sql id="select_icc_t_callevent_num" operation="select">
		<statement>select A.client_name,B.called_id,count(DISTINCT B.callref_id) as call_num,sum(count(DISTINCT B.callref_id)) over() as call_sum,count(1) over() as record_num FROM icc_t_client_on_off A RIGHT JOIN icc_t_callevent B ON and create_time &gt;= '{start_time}' and create_time &lt;= '{end_time}' and B.called_id = A.client_id and B.ring_time BETWEEN A.on_time and CASE WHEN A.off_time IS NULL THEN
(SELECT LEAST(min(C.on_time),NOW()) FROM icc_t_client_on_off C WHERE C.client_id = A.client_id AND C.on_time>A.on_time) else A.off_time END</statement>
		<dynamic prepend="where">
			<isNotNull isString="0" prepend="and">B.create_time between '{start_time}' and '{end_time}'</isNotNull>
			<isNotNull isString="1" prepend="and">hangup_type ='{status}'</isNotNull>			
			<isNotNull isString="1" prepend="and">(B.called_relation_dept_path like '%{dept_code}%')</isNotNull>
		</dynamic>
		<groupby prepend="group by">
			<isNotNull>A.client_name,B.called_id</isNotNull>
		</groupby>
	</sql>
	<sql id="select_icc_t_gps_record" operation="select">
        <statement>SELECT * FROM public.icc_t_gps_record</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone_no = '{phone_no}'</isNotNull>
            <isNotNull prepend="and" isString="0">longitude = '{longitude}'</isNotNull>
            <isNotNull prepend="and" isString="0">latitude = '{latitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
	</sql>
	<sql id="select_icc_t_phoneinfo" operation="select">
		<statement>SELECT * FROM public.icc_t_phoneinfo</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
			<isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
			<isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
			<isNotNull prepend="and" isString="1">address = '{address}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
			<isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
			<isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
		</dynamic>
		<orderby prepend="order by">
			<isNotNull>{orderby}</isNotNull>
		</orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	<sql id="insert_icc_t_phoneinfo" operation="insert">
        <statement>INSERT into public.icc_t_phoneinfo(guid,phone,name,address,is_delete,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{phone}','{name}','{address}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	<sql id="update_icc_t_phoneinfo" operation="update">
        <statement>UPDATE public.icc_t_phoneinfo</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">address = '{address}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_phone_division" operation="select">
		<statement>SELECT * FROM public.icc_t_phone_division</statement>
		<dynamic prepend="where">			
			<isNotNull prepend="and" isString="1">phone_pre = '{phone_pre}'</isNotNull>
			<isNotNull prepend="and" isString="1">province = '{province}'</isNotNull>
			<isNotNull prepend="and" isString="1">city = '{city}'</isNotNull>
			<isNotNull prepend="and" isString="1">operator = '{operator}'</isNotNull>
			<isNotNull prepend="and" isString="1">out_call_head = '{out_call_head}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
			<isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
			<isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
		</dynamic>
		<orderby prepend="order by">
			<isNotNull>{orderby}</isNotNull>
		</orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	<sql id="insert_icc_t_phone_division" operation="insert">
        <statement>INSERT into public.icc_t_phone_division(phone_pre,province,city,operator,out_call_head,remark,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{phone_pre}','{province}','{city}','{operator}','{out_call_head}','{remark}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	<sql id="update_icc_t_phone_division" operation="update">
        <statement>UPDATE public.icc_t_phone_division</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">phone_pre = '{phone_pre}'</isNotNull>
            <isNotNull prepend="and" isString="1">province = '{province}'</isNotNull>
            <isNotNull prepend="and" isString="1">city = '{city}'</isNotNull>
            <isNotNull prepend="and" isString="1">operator = '{operator}'</isNotNull>
			<isNotNull prepend="and" isString="1">out_call_head = '{out_call_head}'</isNotNull>
            <isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_user" operation="select">
        <statement>SELECT * FROM public.icc_t_user</statement>
        <dynamic prepend="where">
            <isNotNull isString="1" prepend="and">guid = '{guid}'</isNotNull>
            <isNotNull isString="1" prepend="and">code = '{code}'</isNotNull>
            <isNotNull isString="1" prepend="and">name = '{name}'</isNotNull>
            <isNotNull isString="1" prepend="and">pwd = '{pwd}'</isNotNull>
            <isNotNull isString="1" prepend="and">is_delete = '{is_delete}'</isNotNull>
            <isNotNull isString="0" prepend="and">level = '{level}'</isNotNull>
            <isNotNull isString="0" prepend="and">sort = '{sort}'</isNotNull>
            <isNotNull isString="1" prepend="and">shortcut = '{shortcut}'</isNotNull>
            <isNotNull isString="1" prepend="and">create_user = '{create_user}'</isNotNull>
            <isNotNull isString="0" prepend="and">create_time = '{create_time}'</isNotNull>
            <isNotNull isString="1" prepend="and">update_user = '{update_user}'</isNotNull>
            <isNotNull isString="0" prepend="and">update_time = '{update_time}'</isNotNull>
			<isNotNull isString="1" prepend="and">remark = '{remark}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_user" operation="update">
        <statement>UPDATE public.icc_t_user</statement>
        <dynamic prepend="where">
            <isNotNull isString="1" prepend="and">guid = '{guid}'</isNotNull>
            <isNotNull isString="1" prepend="and">code = '{code}'</isNotNull>
            <isNotNull isString="1" prepend="and">name = '{name}'</isNotNull>
            <isNotNull isString="1" prepend="and">pwd = '{pwd}'</isNotNull>
            <isNotNull isString="1" prepend="and">is_delete = '{is_delete}'</isNotNull>
            <isNotNull isString="0" prepend="and">level = '{level}'</isNotNull>
            <isNotNull isString="0" prepend="and">sort = '{sort}'</isNotNull>
            <isNotNull isString="1" prepend="and">shortcut = '{shortcut}'</isNotNull>
            <isNotNull isString="1" prepend="and">create_user = '{create_user}'</isNotNull>
            <isNotNull isString="0" prepend="and">create_time = '{create_time}'</isNotNull>
            <isNotNull isString="1" prepend="and">update_user = '{update_user}'</isNotNull>
            <isNotNull isString="0" prepend="and">update_time = '{update_time}'</isNotNull>
			<isNotNull isString="1" prepend="and">user_type = '{user_type}'</isNotNull>
			<isNotNull isString="1" prepend="and">staff_guid = '{staff_guid}'</isNotNull>
			<isNotNull isString="1" prepend="and">org_guid = '{org_guid}'</isNotNull>
			
			<isNotNull isString="1" prepend="and">remark = '{remark}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="recover_icc_t_user_flag" operation="update">
        <statement>UPDATE public.icc_t_user</statement>
        <dynamic prepend="where">
            <isNotNull isString="1" prepend="and">guid = '{guid}'</isNotNull>
            <isNotNull isString="1" prepend="and">code = '{code}'</isNotNull>
            <isNotNull isString="1" prepend="and">name = '{name}'</isNotNull>
            <isNotNull isString="1" prepend="and">pwd = '{pwd}'</isNotNull>
            <isNotNull isString="1" prepend="and">is_delete = '{is_delete}'</isNotNull>
            <isNotNull isString="0" prepend="and">level = '{level}'</isNotNull>
            <isNotNull isString="0" prepend="and">sort = '{sort}'</isNotNull>
            <isNotNull isString="1" prepend="and">shortcut = '{shortcut}'</isNotNull>
            <isNotNull isString="1" prepend="and">create_user = '{create_user}'</isNotNull>
            <isNotNull isString="0" prepend="and">create_time = '{create_time}'</isNotNull>
            <isNotNull isString="1" prepend="and">update_user = '{update_user}'</isNotNull>
            <isNotNull isString="0" prepend="and">update_time = '{update_time}'</isNotNull>
			
			<isNotNull isString="1" prepend="and">remark = '{remark}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_user" operation="delete">
        <statement>DELETE FROM public.icc_t_user</statement>
        <dynamic prepend="where">
            <isNotNull isString="1" prepend="and">guid = '{guid}'</isNotNull>
            <isNotNull isString="1" prepend="and">code = '{code}'</isNotNull>
            <isNotNull isString="1" prepend="and">name = '{name}'</isNotNull>
            <isNotNull isString="1" prepend="and">pwd = '{pwd}'</isNotNull>
            <isNotNull isString="1" prepend="and">is_delete = '{is_delete}'</isNotNull>
            <isNotNull isString="0" prepend="and">level = '{level}'</isNotNull>
            <isNotNull isString="0" prepend="and">sort = '{sort}'</isNotNull>
            <isNotNull isString="1" prepend="and">shortcut = '{shortcut}'</isNotNull>
            <isNotNull isString="1" prepend="and">create_user = '{create_user}'</isNotNull>
            <isNotNull isString="0" prepend="and">create_time = '{create_time}'</isNotNull>
            <isNotNull isString="1" prepend="and">update_user = '{update_user}'</isNotNull>
            <isNotNull isString="0" prepend="and">update_time = '{update_time}'</isNotNull>
			<isNotNull isString="1" prepend="and">remark = '{remark}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_user" operation="insert">
        <statement>INSERT into public.icc_t_user(guid,code,name,remark,pwd,is_delete,level,sort,shortcut,create_user,create_time,update_user,update_time,user_type,staff_guid,org_guid) VALUES</statement>
        <dynamic prepend="">('{guid}','{code}','{name}','{remark}','{pwd}','{is_delete}','{level}','{sort}','{shortcut}','{create_user}','{create_time}','{update_user}','{update_time}','{user_type}','{staff_guid}','{org_guid}')</dynamic>
    </sql>
    <sql id="set_icc_t_user" operation="insert">        
        <statement>INSERT into public.icc_t_user(guid,code,name,pwd,is_delete,level,sort,shortcut,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{code}','{name}','{pwd}','{is_delete}','{level}','{sort}','{shortcut}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
        <dynamic prepend="ON CONFLICT (guid) do update set">
            <isNotNull isString="1" prepend=",">guid = '{guid}'</isNotNull>
            <isNotNull isString="1" prepend=",">code = '{code}'</isNotNull>
            <isNotNull isString="1" prepend=",">name = '{name}'</isNotNull>
            <isNotNull isString="1" prepend=",">pwd = '{pwd}'</isNotNull>
            <isNotNull isString="1" prepend=",">is_delete = '{is_delete}'</isNotNull>
            <isNotNull isString="0" prepend=",">level = '{level}'</isNotNull>
            <isNotNull isString="0" prepend=",">sort = '{sort}'</isNotNull>
            <isNotNull isString="1" prepend=",">shortcut = '{shortcut}'</isNotNull>
            <isNotNull isString="1" prepend=",">create_user = '{create_user}'</isNotNull>
            <isNotNull isString="0" prepend=",">create_time = '{create_time}'</isNotNull>
            <isNotNull isString="1" prepend=",">update_user = '{update_user}'</isNotNull>
            <isNotNull isString="0" prepend=",">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_user_dept" operation="select">
        <statement>
			SELECT 
			D.code as dept_code,
			D."name" as dept_name 
			FROM "icc_t_user" U			
			left JOIN icc_t_staff S ON S.guid = U.staff_guid
			Left JOIN icc_t_dept D On S.dept_guid = D.guid
			where U.code = '{user_code}'
		</statement>
    </sql>
	<sql id="get_user_bind_func" operation="select">
        <statement>
			SELECT f.code, f.func_code, f."name" FROM icc_view_user_bind_func f where f.code = '{code}'
		</statement>
    </sql>
    <sql id="select_icc_t_client_on_off" operation="select">
        <statement>SELECT * FROM public.icc_t_client_on_off</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_id = '{client_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_name = '{client_name}'</isNotNull>
            <isNotNull prepend="and" isString="0">on_time = '{on_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">off_time is null</isNotNull>
            <isNotNull prepend="and" isString="1">duration = '{duration}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_code = '{receipt_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_name = '{receipt_name}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>on_time desc</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_client_on_off_during" operation="select">
		<statement>SELECT * from public.icc_t_client_on_off</statement>
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">client_name = '{client_name}'</isNotNull>
            <isNotNull prepend="and" isString="0">on_time &gt;='{on_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">off_time &lt;='{off_time}'</isNotNull>
        </dynamic>
		<orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
		<pagedivided prepend="limit">
            <isNotNull prepend="limit">{page_size}</isNotNull>
            <isNotNull prepend="offset">{page_size}*({page_index}-1)</isNotNull>
        </pagedivided>
	</sql>
	<sql id="select_icc_t_client_on_off_count" operation="select">
		<statement>SELECT count(*) num from public.icc_t_client_on_off</statement>
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">client_name = '{client_name}'</isNotNull>
            <isNotNull prepend="and" isString="0">on_time &gt;='{on_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">off_time &lt;='{off_time}'</isNotNull>
        </dynamic>
		<orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
	</sql>
	<sql id="select_icc_t_client_on_off_duration_sum" operation="select">
        <statement>SELECT client_name,sum(duration::int) as online_sum FROM public.icc_t_client_on_off</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="0">on_time &gt;='{on_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">off_time &lt;='{off_time}'</isNotNull>
        </dynamic>
        <groupby prepend="group by">
            <isNotNull>{groupby}</isNotNull>
        </groupby>		
    </sql>
    <sql id="update_icc_t_client_on_off" operation="update">
        <statement>UPDATE public.icc_t_client_on_off</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_id = '{client_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_name = '{client_name}'</isNotNull>
            <isNotNull prepend="and" isString="0">on_time = '{on_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">off_time = '{off_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">duration = '{duration}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_code = '{receipt_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_name = '{receipt_name}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_client_on_off" operation="delete">
        <statement>DELETE FROM public.icc_t_client_on_off</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_id = '{client_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_name = '{client_name}'</isNotNull>
            <isNotNull prepend="and" isString="0">on_time = '{on_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">off_time = '{off_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">duration = '{duration}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_code = '{receipt_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_name = '{receipt_name}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_client_on_off" operation="insert">
        <statement>INSERT into public.icc_t_client_on_off(guid,client_id,client_name,on_time,off_time,duration,create_user,create_time,update_user,update_time,dept_code,receipt_code,receipt_name) VALUES</statement>
        <dynamic prepend="">('{guid}','{client_id}','{client_name}','{on_time}','{off_time}','{duration}','{create_user}','{create_time}','{update_user}','{update_time}','{dept_code}','{receipt_code}','{receipt_name}')</dynamic>
    </sql>
	<sql id="insert_icc_t_statistic_record" operation="select">
        <statement>select public.statistic_record_online_info('{guid}','{client_name}','{client_id}','{dept_code}','{on_time}')</statement>        
    </sql>
	<sql id="update_icc_t_statistic_by_client_on_off" operation="update">
        <statement>select public.statistic_update('{guid}')</statement>        
    </sql>
	<sql id="update_icc_t_statistic_by_callevent" operation="update">
        <statement>select public.statistic_update_call_num('{hangup_type}','{caller_id}','{called_id}','{call_direction}')</statement>        
    </sql>
	<sql id="update_icc_t_statistic_by_alarm" operation="update">
        <statement>select public.statistic_update_alarm_num('{receipt_seatno}')</statement>        
    </sql>
    <sql id="select_icc_t_client_in_out" operation="select">
        <statement>SELECT * FROM public.icc_t_client_in_out</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_id = '{client_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_name = '{client_name}'</isNotNull>
            <isNotNull prepend="and" isString="0">login_time = '{login_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">logout_time = '{logout_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_client_in_out" operation="update">
        <statement>UPDATE public.icc_t_client_in_out</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_id = '{client_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_name = '{client_name}'</isNotNull>
            <isNotNull prepend="and" isString="0">login_time = '{login_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">logout_time = '{logout_time}'</isNotNull>			
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">duration = '{duration}'</isNotNull>
        </dynamic>
		 <dynamic prepend="and">
            <isNotNull prepend="and" isString="0">logout_time is null</isNotNull>	
        </dynamic>		
    </sql>
    <sql id="delete_icc_t_client_in_out" operation="delete">
        <statement>DELETE FROM public.icc_t_client_in_out</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_id = '{client_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_name = '{client_name}'</isNotNull>
            <isNotNull prepend="and" isString="0">login_time = '{login_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">logout_time = '{logout_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_client_in_out" operation="insert">
        <statement>INSERT into public.icc_t_client_in_out(guid,client_id,client_name,login_time,logout_time,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{client_id}','{client_name}','{login_time}','{logout_time}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	<sql id="select_icc_t_client_in_out_count" operation="select">
        <statement>SELECT client_name,sum(duration::int) as logout_count FROM public.icc_t_client_in_out</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="0">login_time &gt;='{login_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">logout_time &lt;='{logout_time}'</isNotNull>
        </dynamic>
        <groupby prepend="group by">
            <isNotNull>{groupby}</isNotNull>
        </groupby>		
    </sql>
	<sql id="select_icc_t_client_in_out_sum" operation="select">
        <statement>select sum(duration::int) as count_duration,count(1) over() as record_num,sum(sum(duration::int)) over() as duration_sum FROM public.icc_t_client_in_out</statement>
        <dynamic prepend="where">
             <isNotNull prepend="and" isString="0">login_time &gt;='{login_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">logout_time &lt;='{logout_time}'</isNotNull>
        </dynamic>
		<groupby prepend="group by">
            <isNotNull>{groupby}</isNotNull>
        </groupby>			
    </sql>
	<sql id="select_icc_t_client_in_out_during" operation="select">
		<statement>SELECT * from public.icc_t_client_in_out</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">client_id like '%{client_id}%'</isNotNull>
            <isNotNull prepend="and" isString="1">client_name like '%{client_name}%'</isNotNull>
			<isNotNull prepend="and" isString="0">duration &gt;= '{duration}'</isNotNull>
            <isNotNull prepend="and" isString="0">login_time &gt;='{login_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">login_time &lt;='{login_time_ex}'</isNotNull>
			<isNotNull prepend="and" isString="0">(logout_time &lt;='{logout_time}' or logout_time is null)</isNotNull>
        </dynamic>
		<orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
		<pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
	</sql>
	<sql id="select_icc_t_client_in_out_count_ex" operation="select">
		<statement>SELECT count(*) num from public.icc_t_client_in_out</statement>
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">client_id = '{client_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">client_name = '{client_name}'</isNotNull>
			<isNotNull prepend="and" isString="0">duration &gt;= '{duration}'</isNotNull>
            <isNotNull prepend="and" isString="0">login_time &gt;='{login_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">login_time &lt;='{login_time_ex}'</isNotNull>
			<isNotNull prepend="and" isString="0">(logout_time &lt;='{logout_time}' or logout_time is null)</isNotNull>
        </dynamic>
		<orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
	</sql>
	<sql id="select_icc_t_client_on_off_sum" operation="select">
        <statement>select sum(duration::int) as count_duration,count(1) over() as record_num,sum(sum(duration::int)) over() as duration_sum FROM public.icc_t_client_on_off</statement>
        <dynamic prepend="where">
             <isNotNull prepend="and" isString="0">on_time &gt;='{on_time}'</isNotNull>
			 <isNotNull prepend="and" isString="0">off_time &lt;='{off_time}'</isNotNull>
        </dynamic>	
		<groupby prepend="group by">
            <isNotNull>{groupby}</isNotNull>
        </groupby>	
    </sql>
	<sql id="select_icc_t_alarm_updatetime" operation="select">
        <statement>SELECT id, merge_id, title, content, "time", actual_occur_time, addr, longitude, latitude, state, level, source_type, source_id, handle_type, first_type, second_type, third_type, fourth_type, vehicle_no, vehicle_type, symbol_code, symbol_addr, fire_building_type, event_type, called_no_type, actual_called_no_type, caller_no, caller_name, caller_addr, caller_id, caller_id_type, caller_gender, caller_age, caller_birthday, contact_no, contact_name, contact_addr, contact_id, contact_id_type, contact_gender, contact_age, contact_birthday, admin_dept_district_code, admin_dept_code, admin_dept_name, receipt_dept_district_code, receipt_dept_code, receipt_dept_name, leader_code, leader_name, receipt_code, receipt_name, receipt_seatno, is_merge, dispatch_suggestion, create_user, create_time, update_user, update_time, is_feedback, is_visitor, first_submit_time, is_privacy, is_delete, remark, jjsj as received_time, bjdhyhm as caller_user_name, bjdz as alarm_addr, zars as erpetrators_number, ywcwq as is_armed, ywwxwz as is_hazardous_substances, ywbzxl as is_explosion_or_leakage, bkryqksm as desc_of_trapped, ssryqksm as desc_of_injured, swryqksm as desc_of_dead, sfswybj as is_foreign_language, fxdwjd as manual_longitude, fxdwwd as manual_latitude, yjjydjdm as emergency_rescue_level, sfswhcl as is_hazardous_vehicle, jjfw as receipt_srv_name, dqywzt as business_status FROM public.icc_t_alarm</statement>
        <dynamic prepend="where">        
            <isNotNull prepend="and" isString="0">update_time > '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">(is_delete is null or is_delete != 'true')</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_alarm_process_updatetime" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_process</statement>
        <dynamic prepend="where">        
            <isNotNull prepend="and" isString="0">update_time > '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_alarm_feedback_updatetime" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_feedback</statement>
        <dynamic prepend="where">        
            <isNotNull prepend="and" isString="0">update_time > '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_dept_by_code" operation="select">
        <statement>SELECT * FROM public.icc_t_dept where code = '{code}'</statement>
    </sql>
	<sql id="select_icc_t_dept" operation="select">
        <statement>SELECT * FROM public.icc_t_dept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">district_code = '{district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>sort</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_dept_by_user" operation="select">
        <statement>select * from icc_view_user_bind_data</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{sort}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_dept_count_by_user" operation="select">
        <statement>select count(*) num from icc_view_user_bind_data</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{sort}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_alarm_info" operation="select">
        <statement>SELECT A.id AS alarmid,P.id AS processid FROM public.icc_t_alarm A LEFT JOIN public.icc_t_alarm_process P ON P.alarm_id = A.id where A."content" = '{content}'</statement>
    </sql>
	<sql id="select_user_code_by_dept_code" operation="select">
        <statement>SELECT U.code AS usercode,D.code AS deptcode,D.name AS deptname FROM "icc_t_dept" D RIGHT JOIN icc_t_staff S ON D.guid = S.dept_guid RIGHT JOIN icc_t_bind B ON B.to_guid = S.guid RIGHT JOIN icc_t_user U ON U.guid = B.from_guid where D.code ='{deptcode}'</statement>
    </sql>
	<sql id="web_login_user_pwd_check" operation="select">
		<statement>select U.code as user_code,U.name as user_name,S.code as staff_code,S.name	as staff_name,S.sex	as staff_sex,S.type	as staff_type,S.post as staff_position,S.mobile as staff_mobile,S.phone as staff_phone,D.code as dept_code,D.district_code as dept_district_code,D.type as dept_type,D.name as dept_name,D.phone as dept_phone from icc_t_user U LEFT JOIN icc_t_bind B ON B."type" = 'user_bind_staff' and b.from_guid = U.guid LEFT JOIN icc_t_staff S ON S.guid = B.to_guid LEFT JOIN icc_t_dept D ON D.guid = S.dept_guid  where B.type = 'user_bind_staff' and U.code = '{code}'</statement>
	</sql>
	<sql id="web_login_user_dept_check" operation="select">
		<statement>select U.code as user_code,U.name as user_name,S.code as staff_code,S.name	as staff_name,S.sex	as staff_sex,S.type	as staff_type,S.post as staff_position,S.mobile as staff_mobile,S.phone as staff_phone,D.code as dept_code,D.district_code as dept_district_code,D.type as dept_type,D.name as dept_name,D.phone as dept_phone from icc_t_user U LEFT JOIN icc_t_bind B ON B."type" = 'user_bind_staff' and b.from_guid = U.guid LEFT JOIN icc_t_staff S ON S.guid = B.to_guid LEFT JOIN icc_t_dept D ON D.guid = S.dept_guid  where B.type = 'user_bind_staff' and U.code = '{code}' and D.type = 'DIC014002'</statement>
	</sql>
	<sql id="select_web_dict_info" operation="select">
		<statement>select D.code, B.code as parent_code, V.value from icc_t_dict D left join icc_t_dict_value V on V.dict_guid = D.guid left join icc_t_language L on L.guid = V.lang_guid LEFT JOIN icc_t_dict B ON D.parent_guid = B.guid and B.is_delete = 'false' where L.code = '{lang_code}' and D.is_delete = 'false' order by D.sort</statement>
	</sql>
	<sql id="select_icc_t_bind" operation="select">
        <statement>SELECT * FROM public.icc_t_bind</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">from_guid = '{from_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">to_guid = '{to_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_bind" operation="update">
        <statement>UPDATE public.icc_t_bind</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">from_guid = '{from_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">to_guid = '{to_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_bind" operation="delete">
        <statement>DELETE FROM public.icc_t_bind</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">from_guid = '{from_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">to_guid = '{to_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	 <sql id="delete_icc_t_user_bind" operation="delete">
        <statement>DELETE FROM public.icc_t_bind</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">type like 'user_bind_%'</isNotNull>
            <isNotNull prepend="and" isString="1">from_guid = '{from_guid}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_bind" operation="insert">
        <statement>INSERT into public.icc_t_bind(guid,type,from_guid,to_guid,is_delete,level,sort,shortcut,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{type}','{from_guid}','{to_guid}','{is_delete}','{level}','{sort}','{shortcut}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="select_icc_t_can_admin_dept" operation="select">
        <statement>SELECT * FROM public.icc_t_can_admin_dept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_dept_code = '{bind_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_parent_dept_code = '{bind_parent_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">belong_dept_code = '{belong_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_can_admin_dept" operation="update">
        <statement>UPDATE public.icc_t_can_admin_dept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_dept_code = '{bind_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_parent_dept_code = '{bind_parent_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">belong_dept_code = '{belong_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_can_admin_dept" operation="delete">
        <statement>DELETE FROM public.icc_t_can_admin_dept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_dept_code = '{bind_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_parent_dept_code = '{bind_parent_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">belong_dept_code = '{belong_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_can_admin_dept" operation="insert">
        <statement>INSERT into public.icc_t_can_admin_dept(guid,parent_guid,bind_dept_code,bind_parent_dept_code,belong_dept_code,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{parent_guid}','{bind_dept_code}','{bind_parent_dept_code}','{belong_dept_code}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="select_icc_t_can_dispatch_dept" operation="select">
        <statement>SELECT * FROM public.icc_t_can_dispatch_dept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_dept_code = '{bind_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_parent_dept_code = '{bind_parent_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">belong_dept_code = '{belong_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_can_dispatch_dept" operation="update">
        <statement>UPDATE public.icc_t_can_dispatch_dept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_dept_code = '{bind_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_parent_dept_code = '{bind_parent_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">belong_dept_code = '{belong_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_can_dispatch_dept" operation="delete">
        <statement>DELETE FROM public.icc_t_can_dispatch_dept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_dept_code = '{bind_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">bind_parent_dept_code = '{bind_parent_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">belong_dept_code = '{belong_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_can_dispatch_dept" operation="insert">
        <statement>INSERT into public.icc_t_can_dispatch_dept(guid,parent_guid,bind_dept_code,bind_parent_dept_code,belong_dept_code,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{parent_guid}','{bind_dept_code}','{bind_parent_dept_code}','{belong_dept_code}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="update_icc_t_dept" operation="update">
        <statement>UPDATE public.icc_t_dept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">district_code = '{district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
			<isNotNull prepend="and" isString="1">path = '{path}'</isNotNull>
			<isNotNull prepend="and" isString="1">depth = '{depth}'</isNotNull>
			<isNotNull prepend="and" isString="1">pucorgidentifier = '{pucorgidentifier}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_dept" operation="delete">
        <statement>DELETE FROM public.icc_t_dept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">district_code = '{district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_dept" operation="insert">
        <statement>INSERT into public.icc_t_dept(guid,parent_guid,code,district_code,type,name,path,depth,pucorgidentifier,phone,is_delete,level,sort,shortcut,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{parent_guid}','{code}','{district_code}','{type}','{name}','{path}','{depth}','{pucorgidentifier}','{phone}','{is_delete}','{level}','{sort}','{shortcut}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="select_icc_t_dict" operation="select">
        <statement>SELECT * FROM public.icc_t_dict</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_dict" operation="update">
        <statement>UPDATE public.icc_t_dict</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_dict" operation="delete">
        <statement>DELETE FROM public.icc_t_dict</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_dict" operation="insert">
        <statement>INSERT into public.icc_t_dict(guid,parent_guid,code,is_delete,level,sort,shortcut,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{parent_guid}','{code}','{is_delete}','{level}','{sort}','{shortcut}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="select_icc_t_dict_value" operation="select">
        <statement>SELECT * FROM public.icc_t_dict_value</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">value = '{value}'</isNotNull>
            <isNotNull prepend="and" isString="1">dict_guid = '{dict_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">lang_guid = '{lang_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_dict_value" operation="update">
        <statement>UPDATE public.icc_t_dict_value</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
			<isNotNull prepend="and" isString="1">dict_key = '{dict_key}'</isNotNull>
			<isNotNull prepend="and" isString="1">parent_key = '{parent_key}'</isNotNull>
			<isNotNull prepend="and" isString="1">dict_type = '{dict_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">dict_code = '{dict_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">value = '{value}'</isNotNull>
            <isNotNull prepend="and" isString="1">dict_guid = '{dict_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">lang_code = '{lang_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_dict_value" operation="delete">
        <statement>DELETE FROM public.icc_t_dict_value</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">value = '{value}'</isNotNull>
            <isNotNull prepend="and" isString="1">dict_guid = '{dict_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">lang_guid = '{lang_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_dict_value" operation="insert">
        <statement>INSERT into public.icc_t_dict_value(guid,dict_key,parent_key,dict_type,dict_code,value,dict_guid,lang_code,is_delete,level,sort,shortcut,create_user,create_time,update_user,update_time,union_key,parentunion_key,dictvalue_json) VALUES</statement>
        <dynamic prepend="">('{guid}','{dict_key}','{parent_key}','{dict_type}','{dict_code}','{value}','{dict_guid}','{lang_code}','{is_delete}','{level}','{sort}','{shortcut}','{create_user}','{create_time}','{update_user}','{update_time}','{union_key}','{parentunion_key}','{dictvalue_json}')</dynamic>
    </sql>
    <sql id="select_icc_t_dispatch" operation="select">
        <statement>SELECT * FROM public.icc_t_dispatch</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">district_code = '{district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_dispatch" operation="update">
        <statement>UPDATE public.icc_t_dispatch</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">district_code = '{district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_dispatch" operation="delete">
        <statement>DELETE FROM public.icc_t_dispatch</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">district_code = '{district_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_dispatch" operation="insert">
        <statement>INSERT into public.icc_t_dispatch(guid,parent_guid,code,district_code,type,name,phone,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{parent_guid}','{code}','{district_code}','{type}','{name}','{phone}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="select_icc_t_func" operation="select">
        <statement>SELECT * FROM public.icc_t_func</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_func" operation="update">
        <statement>UPDATE public.icc_t_func</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_func" operation="delete">
        <statement>DELETE FROM public.icc_t_func</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_func" operation="insert">
        <statement>INSERT into public.icc_t_func(guid,parent_guid,code,name,is_delete,level,sort,shortcut,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{parent_guid}','{code}','{name}','{is_delete}','{level}','{sort}','{shortcut}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="select_icc_t_keydept" operation="select">
        <statement>SELECT * FROM public.icc_t_keydept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">address = '{address}'</isNotNull>
            <isNotNull prepend="and" isString="1">longitude = '{longitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">latitude = '{latitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_keydept" operation="update">
        <statement>UPDATE public.icc_t_keydept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">address = '{address}'</isNotNull>
            <isNotNull prepend="and" isString="1">longitude = '{longitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">latitude = '{latitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_keydept" operation="delete">
        <statement>DELETE FROM public.icc_t_keydept</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">address = '{address}'</isNotNull>
            <isNotNull prepend="and" isString="1">longitude = '{longitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">latitude = '{latitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_keydept" operation="insert">
        <statement>INSERT into public.icc_t_keydept(guid,type,name,phone,address,longitude,latitude,is_delete,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{type}','{name}','{phone}','{address}','{longitude}','{latitude}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="select_icc_t_language" operation="select">
        <statement>SELECT * FROM public.icc_t_language</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_language" operation="update">
        <statement>UPDATE public.icc_t_language</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_language" operation="delete">
        <statement>DELETE FROM public.icc_t_language</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_language" operation="insert">
        <statement>INSERT into public.icc_t_language(guid,code,name,is_delete,level,sort,shortcut,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{code}','{name}','{is_delete}','{level}','{sort}','{shortcut}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="delete_icc_t_phoneinfo" operation="delete">
        <statement>DELETE FROM public.icc_t_phoneinfo</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">address = '{address}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="select_icc_t_staff" operation="select">
        <statement>SELECT * FROM public.icc_t_staff</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_guid = '{dept_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">sex = '{sex}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">post = '{post}'</isNotNull>
            <isNotNull prepend="and" isString="1">mobile = '{mobile}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
			<isNotNull prepend="and" isString="1">isleader = '{isleader}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_staff" operation="update">
        <statement>UPDATE public.icc_t_staff</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_guid = '{dept_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">sex = '{sex}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">post = '{post}'</isNotNull>
            <isNotNull prepend="and" isString="1">mobile = '{mobile}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
			<isNotNull prepend="and" isString="1">isleader = '{isleader}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">staff_id_no = '{staff_id_no}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_staff" operation="delete">
        <statement>DELETE FROM public.icc_t_staff</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_guid = '{dept_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">sex = '{sex}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">post = '{post}'</isNotNull>
            <isNotNull prepend="and" isString="1">mobile = '{mobile}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
			<isNotNull prepend="and" isString="1">isleader = '{isleader}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_staff" operation="insert">
        <statement>INSERT into public.icc_t_staff(guid,dept_guid,code,name,sex,type,post,mobile,phone,is_delete,level,sort,shortcut,isleader,create_user,create_time,update_user,update_time,staff_id_no) VALUES</statement>
        <dynamic prepend="">('{guid}','{dept_guid}','{code}','{name}','{sex}','{type}','{post}','{mobile}','{phone}','{is_delete}','{level}','{sort}','{shortcut}','{isleader}','{create_user}','{create_time}','{update_user}','{update_time}','{staff_id_no}')</dynamic>
    </sql>
    <sql id="select_icc_t_phonemark" operation="select">
        <statement>SELECT * FROM public.icc_t_phonemark</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">staff_code = '{staff_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_phonemark" operation="update">
        <statement>UPDATE public.icc_t_phonemark</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">staff_code = '{staff_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_phonemark" operation="delete">
        <statement>DELETE FROM public.icc_t_phonemark</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">staff_code = '{staff_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_phonemark" operation="insert">
        <statement>INSERT into public.icc_t_phonemark(guid,phone,type,staff_code,remark,is_delete,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{phone}','{type}','{staff_code}','{remark}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="select_icc_t_role" operation="select">
        <statement>SELECT * FROM public.icc_t_role</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_role" operation="update">
        <statement>UPDATE public.icc_t_role</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
			<isNotNull prepend="and" isString="1">org_guid = '{org_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_role" operation="delete">
        <statement>DELETE FROM public.icc_t_role</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">level = '{level}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">shortcut = '{shortcut}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_role" operation="insert">
        <statement>INSERT into public.icc_t_role(guid,parent_guid,code,name,org_guid,is_delete,level,sort,shortcut,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{parent_guid}','{code}','{name}','{org_guid}','{is_delete}','{level}','{sort}','{shortcut}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	<sql id="select_icc_t_seat_by_no" operation="select">
        <statement>SELECT * FROM public.icc_t_seat WHERE no = '{no}'</statement>
    </sql>
    <sql id="select_icc_t_seat" operation="select">
        <statement>SELECT * FROM public.icc_t_seat</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">no = '{no}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code = '{dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_name = '{dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_seat" operation="update">
        <statement>UPDATE public.icc_t_seat</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">no = '{no}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code = '{dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_name = '{dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_seat" operation="delete">
        <statement>DELETE FROM public.icc_t_seat</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">no = '{no}'</isNotNull>
            <isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code = '{dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_name = '{dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_seat" operation="insert">
        <statement>INSERT into public.icc_t_seat(guid,no,name,dept_code,dept_name,is_delete,sort,create_user,create_time,update_user,update_time) VALUES</statement>
        <dynamic prepend="">('{guid}','{no}','{name}','{dept_code}','{dept_name}','{is_delete}','{sort}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="select_icc_t_text_template" operation="select">
        <statement>SELECT * FROM public.icc_t_text_template</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">alarm_type = '{alarm_type}'</isNotNull>
			<isNotNull prepend="and" isString="0">handly_type = '{handly_type}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
    <sql id="update_icc_t_text_template" operation="update">
        <statement>UPDATE public.icc_t_text_template</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">alarm_type = '{alarm_type}'</isNotNull>
			<isNotNull prepend="and" isString="0">handly_type = '{handly_type}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="delete_icc_t_text_template" operation="delete">
        <statement>DELETE FROM public.icc_t_text_template</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">alarm_type = '{alarm_type}'</isNotNull>
			<isNotNull prepend="and" isString="0">handly_type = '{handly_type}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_text_template" operation="insert">
        <statement>INSERT into public.icc_t_text_template(guid,type,content,create_user,create_time,update_user,update_time,alarm_type,handly_type) VALUES</statement>
        <dynamic prepend="">('{guid}','{type}','{content}','{create_user}','{create_time}','{update_user}','{update_time}','{alarm_type}','{handly_type}')</dynamic>
    </sql>
	 <sql id="insert_icc_t_callback_relation" operation="insert">
        <statement>INSERT into public.icc_t_callback_relation(callref_id,alarm_id,receipt_code,receipt_name) VALUES</statement>
        <dynamic prepend="">('{callref_id}','{alarm_id}','{receipt_code}','{receipt_name}')</dynamic>
    </sql>
	<sql id="select_icc_t_callback_relation" operation="select">
        <statement>select alarm_id from icc_t_callback_relation</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_callevent_and_blacklist" operation="select">
        <statement>SELECT A.create_time, B.limit_num, B.staff_code, B.limit_reason FROM public.icc_t_callevent A JOIN public.icc_t_blacklist B ON A.caller_id = B.limit_num
		WHERE A.create_time BETWEEN '{begin_time}' AND '{end_time}'
		AND A.create_time BETWEEN B.begin_time AND B.end_time
		AND A.hangup_type='blackcall'
		ORDER BY A.create_time DESC;</statement>        
    </sql>
	<sql id="select_id_from_icc_t_alarm_process" operation="select">
        <statement>select id from icc_t_alarm_process</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">process_dept_code = '{process_dept_code}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_third_alarm_ex" operation="select">
        <statement>SELECT * FROM public.icc_t_third_alarm</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
			<isNotNull prepend="and" isString="1">to_org_id in (select v.code FROM "icc_view_dept_recursive" V left join "icc_t_dept" D ON D.code = V.code where V.path like '%{curr_dept_code}%' and D.type != 'DIC014002')</isNotNull>			
            <isNotNull prepend="and" isString="0">create_date between '{begin_time}' and '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">(address like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">user_name like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">user_phone like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">hand_phone like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">to_org_id like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">to_org_name like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">to_user_id like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">to_user_name like '%{keyword}%'</isNotNull>
			<isNotNull prepend="or" isString="1">content like '%{keyword}%')</isNotNull>			
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>create_date desc, guid desc</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{page_size}</isNotNull>
            <isNotNull prepend="offset">{page_size}*({page_index}-1)</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_third_alarm_count" operation="select">
        <statement>SELECT count(*) num FROM public.icc_t_third_alarm</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
			<isNotNull prepend="and" isString="1">to_org_id in (select v.code FROM "icc_view_dept_recursive" V left join "icc_t_dept" D ON D.code = V.code where V.path like '%{curr_dept_code}%' and D.type != 'DIC014002')</isNotNull>	
            <isNotNull prepend="and" isString="0">create_date between '{begin_time}' and '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">(address like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">user_name like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">user_phone like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">hand_phone like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">to_org_id like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">to_org_name like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">to_user_id like '%{keyword}%'</isNotNull>
            <isNotNull prepend="or" isString="1">to_user_name like '%{keyword}%'</isNotNull>
			<isNotNull prepend="or" isString="1">content like '%{keyword}%')</isNotNull>			
        </dynamic>
    </sql>
	<sql id="select_icc_t_third_alarm_ncount" operation="select">
        <statement>SELECT count(*) num FROM public.icc_t_third_alarm</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">state = '0'</isNotNull>
			<isNotNull prepend="and" isString="1">to_org_id in (select v.code FROM "icc_view_dept_recursive" V left join "icc_t_dept" D ON D.code = V.code where V.path like '%{curr_dept_code}%' and D.type != 'DIC014002')</isNotNull>          
        </dynamic>
    </sql>
	<sql id="select_icc_t_third_changeinfo" operation="select">
        <statement>SELECT * FROM public.icc_t_third_changeinfo</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">third_alarm_guid = '{third_alarm_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">orientation = '{orientation}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">open_id = '{open_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">change_type = '{change_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">change_content = '{change_content}'</isNotNull>
            <isNotNull prepend="and" isString="0">change_date = '{change_date}'</isNotNull>
            <isNotNull prepend="and" isString="1">long = '{long}'</isNotNull>
            <isNotNull prepend="and" isString="1">lat = '{lat}'</isNotNull>
            <isNotNull prepend="and" isString="1">remark1 = '{remark1}'</isNotNull>
            <isNotNull prepend="and" isString="1">remark2 = '{remark2}'</isNotNull>
            <isNotNull prepend="and" isString="1">fguid = '{fguid}'</isNotNull>
            <isNotNull prepend="and" isString="1">fname = '{fname}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>change_date</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_third_changeinfo_ncount" operation="select">
        <statement>SELECT count(*) num FROM public.icc_t_third_changeinfo</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">third_alarm_guid = '{third_alarm_guid}'</isNotNull>
			<isNotNull prepend="and" isString="1">state = '0'</isNotNull>
        </dynamic>
    </sql>
	<sql id="update_icc_t_third_alarm" operation="update">
        <statement>UPDATE public.icc_t_third_alarm</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>            
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="update_icc_t_third_changeinfo" operation="update">
        <statement>UPDATE public.icc_t_third_changeinfo</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
	    <isNotNull prepend="and" isString="1">third_alarm_guid = '{third_alarm_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="insert_icc_t_third_changeinfo" operation="insert">
        <statement>INSERT into public.icc_t_third_changeinfo(guid,third_alarm_guid,orientation,state,phone,open_id,change_type,change_content,change_date,long,lat,remark1,remark2,fguid,fname) VALUES</statement>
        <dynamic prepend="">('{guid}','{third_alarm_guid}','{orientation}','{state}','{phone}','{open_id}','{change_type}','{change_content}','{change_date}','{long}','{lat}','{remark1}','{remark2}','{fguid}','{fname}')</dynamic>
    </sql>
	<sql id="select_icc_t_third_alarm" operation="select">
        <statement>SELECT * FROM public.icc_t_third_alarm</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
            <isNotNull prepend="and" isString="1">address = '{address}'</isNotNull>
            <isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_phone = '{is_phone}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_date = '{create_date}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_code = '{user_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_name = '{user_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_phone = '{user_phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_address = '{user_address}'</isNotNull>
            <isNotNull prepend="and" isString="1">unit_contactor = '{unit_contactor}'</isNotNull>
            <isNotNull prepend="and" isString="1">hand_phone = '{hand_phone}'</isNotNull>
            <isNotNull prepend="and" isString="1">to_org_id = '{to_org_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">to_org_name = '{to_org_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">to_user_id = '{to_user_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">to_user_name = '{to_user_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
            <isNotNull prepend="and" isString="1">com_no = '{com_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">open_id = '{open_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">long = '{long}'</isNotNull>
            <isNotNull prepend="and" isString="1">lat = '{lat}'</isNotNull>
            <isNotNull prepend="and" isString="1">remark1 = '{remark1}'</isNotNull>
            <isNotNull prepend="and" isString="1">remark2 = '{remark2}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>create_date desc</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="insert_icc_t_third_alarm" operation="insert">
        <statement>INSERT into public.icc_t_third_alarm(guid,type,address,content,is_phone,create_date,user_code,user_name,user_phone,user_address,unit_contactor,hand_phone,to_org_id,to_org_name,to_user_id,to_user_name,state,com_no,open_id,long,lat,remark1,remark2) VALUES</statement>
        <dynamic prepend="">('{guid}','{type}','{address}','{content}','{is_phone}','{create_date}','{user_code}','{user_name}','{user_phone}','{user_address}','{unit_contactor}','{hand_phone}','{to_org_id}','{to_org_name}','{to_user_id}','{to_user_name}','{state}','{com_no}','{open_id}','{long}','{lat}','{remark1}','{remark2}')</dynamic>
    </sql>
	<sql id="select_is_changeinfo" operation="select">
        <statement>SELECT guid FROM public.icc_t_third_alarm</statement>
		<dynamic prepend="where">
			 <isNotNull prepend="and" isString="1">user_phone = '{user_phone}'</isNotNull>
			 <isNotNull prepend="and" isString="0">create_date &gt;= (now() - interval '{ischangeinfotime} day')</isNotNull>
		</dynamic>
		<orderby prepend="order by">
            <isNotNull>create_date desc</isNotNull>
        </orderby>
    </sql>
    <sql id="select_icc_t_alarm_visit" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_visit</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="0">time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%')</isNotNull>
            <isNotNull prepend="and" isString="1">dept_name = '{dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_name = '{caller_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">visitor_code = '{visitor_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">visitor_name = '{visitor_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_no = '{caller_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">satisfaction = '{satisfaction}'</isNotNull>
            <isNotNull prepend="and" isString="1">suggest = '{suggest}'</isNotNull>
            <isNotNull prepend="and" isString="1">result_content = '{result_content}'</isNotNull>
	    <isNotNull prepend="and" isString="1">call_type = '{call_type}'</isNotNull>
	    <isNotNull prepend="and" isString="1">reason = '{reason}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>id desc</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{page_size}</isNotNull>
            <isNotNull prepend="offset">{page_size}*({page_index}-1)</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_alarm_visit_count" operation="select">
        <statement>SELECT count(*) num FROM public.icc_t_alarm_visit</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="0">time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">dept_code in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%')</isNotNull>
            <isNotNull prepend="and" isString="1">dept_name = '{dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_name = '{caller_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">visitor_code = '{visitor_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">visitor_name = '{visitor_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_no = '{caller_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">satisfaction = '{satisfaction}'</isNotNull>
            <isNotNull prepend="and" isString="1">suggest = '{suggest}'</isNotNull>
            <isNotNull prepend="and" isString="1">result_content = '{result_content}'</isNotNull>
	    <isNotNull prepend="and" isString="1">call_type = '{call_type}'</isNotNull>
	    <isNotNull prepend="and" isString="1">reason = '{reason}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="update_icc_t_alarm_visit_calltype_by_alarmid" operation="select">
        <statement>update public.icc_t_alarm_visit set call_type = '{call_type}' where alarm_id = '{alarm_id}'</statement>		
    </sql>
	
	<sql id="select_icc_t_alarm_visit_child_depts_by_deptcode" operation="select">
        <statement>select code from public.icc_view_dept_recursive where path like '%{dept_code}%'</statement>		
    </sql>	
	<sql id="select_icc_t_dept_recursive_by_deptcode" operation="select">
        <statement>select count(*) from public.icc_view_dept_recursive where path like '%{dept_code}%' and code = '{code}'</statement>
    </sql>	
	
	<sql id="select_icc_t_alarm_visit_statistic_dept" operation="select">
        <statement>select code, name, depth from public.icc_view_dept_recursive where path like '%{dept_code}%' and depth &lt;='2'</statement>
		<orderby prepend="order by">
            <isNotNull>depth</isNotNull>
        </orderby>
		<pagedivided prepend="limit">
            <isNotNull prepend="limit">{page_size}</isNotNull>
            <isNotNull prepend="offset">{page_size}*({page_index}-1)</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_alarm_visit_statistic_dept_count" operation="select">
        <statement>select count(1) as count from public.icc_view_dept_recursive where path like '%{dept_code}%' and depth &lt;='2'</statement>		
    </sql>	
	<sql id="select_icc_t_alarm_visit_statistic_alarm" operation="select">
        <statement>select count(*) alarm_count from "icc_t_alarm"</statement>
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="0">time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_code = '{dept_code}'</isNotNull>           
        </dynamic>        
    </sql>
	<sql id="select_icc_t_alarm_visit_statistic_visit_availcount" operation="select">
        <statement>select count(distinct(alarm_id)) as visit_count from "icc_t_alarm_visit"</statement>
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="0">time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code = '{dept_code}'</isNotNull>           
        </dynamic>
    </sql>
	<sql id="select_icc_t_alarm_visit_statistic_visit" operation="select">
        <statement>select count(*) visit_count from "icc_t_alarm_visit"</statement>
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="0">time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code = '{dept_code}'</isNotNull>           
        </dynamic>
    </sql>
	<sql id="select_icc_t_alarm_visit_statistic_statisfactory" operation="select">
        <statement>select count(*) satisfactory_count from "icc_t_alarm_visit"</statement>
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="0">time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">satisfaction = '0'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code = '{dept_code}'</isNotNull>           
        </dynamic>
    </sql>
    <sql id="update_icc_t_alarm_visit" operation="update">
        <statement>UPDATE public.icc_t_alarm_visit</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
            <isNotNull prepend="and" isString="0">time = '{time}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code = '{dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_name = '{dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_name = '{caller_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">visitor_code = '{visitor_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">visitor_name = '{visitor_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">caller_no = '{caller_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">satisfaction = '{satisfaction}'</isNotNull>
            <isNotNull prepend="and" isString="1">suggest = '{suggest}'</isNotNull>
            <isNotNull prepend="and" isString="1">result_content = '{result_content}'</isNotNull>
	    <isNotNull prepend="and" isString="1">call_type = '{call_type}'</isNotNull>
	    <isNotNull prepend="and" isString="1">reason = '{reason}'</isNotNull>
        </dynamic>
    </sql>
    <sql id="insert_icc_t_alarm_visit" operation="insert">
        <statement>INSERT into public.icc_t_alarm_visit(id,alarm_id,callref_id,time,dept_code,dept_name,caller_name,visitor_code,visitor_name,caller_no,satisfaction,suggest,result_content,call_type,reason) VALUES</statement>
        <dynamic prepend="">('{id}','{alarm_id}','{callref_id}','{time}','{dept_code}','{dept_name}','{caller_name}','{visitor_code}','{visitor_name}','{caller_no}','{satisfaction}','{suggest}','{result_content}','{call_type}','{reason}')</dynamic>
    </sql>
	<sql id="select_icc_t_alarm_depts_by_time" operation="select">
        <statement>select distinct(receipt_dept_code) as dept_code, receipt_dept_name as dept_name from icc_t_alarm where (create_time &gt;= '{begin_time}' and create_time &lt;= '{end_time}')</statement>        
    </sql>
	<sql id="select_icc_t_alarm_count_by_deptcode_and_time" operation="select">
        <statement>select count(1) as count from icc_t_alarm where receipt_dept_code = '{dept_code}' and (create_time &gt;= '{begin_time}' and create_time &lt;= '{end_time}') and merge_id=''</statement>        
    </sql>
	<sql id="select_icc_t_callevent_depts_by_time" operation="select">
        <statement>select distinct(b.dept_code) as dept_code, b.dept_name as dept_name from icc_t_callevent as a left join icc_t_seat as b on a.called_id=b.no where (a.create_time &gt;= '{begin_time}' and a.create_time &lt;= '{end_time}')</statement>        
    </sql>
	<sql id="select_icc_t_callevent_count_by_hangup_release" operation="select">
        <statement>select count(1) from icc_t_callevent as a left join icc_t_seat as b on a.called_id=b.no where a.hangup_type='release' and b.dept_code='{dept_code}' and (a.create_time &gt;= '{begin_time}' and a.create_time &lt;= '{end_time}')</statement>        
    </sql>
	<sql id="select_icc_t_callevent_count_by_deptcode_and_time" operation="select">
        <statement>select count(1) from icc_t_callevent as a left join icc_t_seat as b on a.called_id=b.no where a.hangup_type!='release' and b.dept_code='{dept_code}' and (a.create_time &gt;= '{begin_time}' and a.create_time &lt;= '{end_time}')</statement>        
    </sql>
	<sql id="select_icc_t_callback_relation_count_by_deptcode_and_time" operation="select">
        <statement>select count(1) from icc_t_callback_relation as a left join icc_t_callevent as b on b.create_time &gt;= '{begin_time}' and b.create_time &lt;= '{end_time}' and a.callref_id=b.callref_id left join icc_t_seat as c on b.caller_id=c.no where c.dept_code='{dept_code}' and (b.hangup_time &gt;= '{begin_time}' and b.hangup_time &lt;= '{end_time}')</statement>        
    </sql>
	<sql id="select_icc_t_seat_dept_and_name_by_no" operation="select">
        <statement>select dept_code, dept_name, name from icc_t_seat where no='{number}' and is_delete = 'false'</statement>        
    </sql>
	<sql id="select_icc_t_seat_all" operation="select">
        <statement>select dept_code, dept_name, name,no from icc_t_seat where is_delete = 'false'</statement>        
    </sql>
	<sql id="select_icc_t_language_by_langcode" operation="select">
        <statement>select guid from icc_t_language where code = '{code}';</statement>        
    </sql>
	<sql id="select_icc_t_dict_guid_by_code" operation="select">
        <statement>select guid from icc_t_dict where code = '{code}'</statement>        
    </sql>
	<sql id="select_icc_t_dict_value_by_dictguid_and_langguid" operation="select">
        <statement>select value from icc_t_dict_value where dict_guid = '{dict_guid}' and lang_guid = '{lang_guid}'</statement>        
    </sql>
	<sql id="select_icc_t_alarm_limit_by_time" operation="select">
        <statement>select * from icc_t_alarm where state &gt;= '03' and state &lt;= '05' order by time desc limit {limit_count}</statement>        
    </sql>
	<sql id="select_icc_t_staff_processer_deptcode_by_processercode" operation="select">
        <statement>select code from icc_t_dept where guid = (select dept_guid from icc_t_staff where code = '{code}')</statement>        
    </sql>
	<sql id="select_icc_t_process_id_by_alarm_id_and_deptcode" operation="select">
        <statement>select id from icc_t_alarm_process where alarm_id='{alarm_id}' and process_dept_code='{dept_code}' and state &lt;= 'DIC020060'</statement>        
    </sql>
	<sql id="select_icc_t_process_id_and_deptcode_by_alarm_id" operation="select">
        <statement>select id as processid,process_dept_code as deptcode,process_dept_name as deptname from icc_t_alarm_process where alarm_id='{alarm_id}' and state &lt;= 'DIC020060'</statement>        
    </sql>
	<sql id="statistics_receive_valid_alarm_call_count" operation="select">
        <statement>select count(1) from icc_t_callevent where (create_time &gt;= '{begin_time}' and create_time &lt;= '{end_time}') and (acd is not null and acd != '') and talk_time is not null;</statement>        
    </sql>
	<sql id="insert_statistics_result" operation="insert">
        <statement>insert into icc_t_alarm_statistics(statistics_id,statistics_type,statistics_date,statistics_result,statistics_time,remark) values</statement> 
        <dynamic prepend="">('{statistics_id}','{statistics_type}','{statistics_date}','{statistics_result}','{statistics_time}','{remark}');</dynamic>		
    </sql>	
	<sql id="select_statistics_result" operation="select">
        <statement>select statistics_result from icc_t_alarm_statistics where statistics_type='{statistics_type}' and statistics_date='{statistics_date}';</statement>        
    </sql>
	<sql id="update_statistics_result" operation="select">
        <statement>update icc_t_alarm_statistics set statistics_result='{statistics_result}',statistics_time='{statistics_time}' where statistics_type='{statistics_type}' and statistics_date='{statistics_date}';</statement>        
    </sql>
	<sql id="statistics_call_in_count" operation="select">
        <statement>select count(1) from icc_t_callevent where acd is not null and acd != '' and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}');</statement>        
    </sql>
	<sql id="statistics_feedback_alarm_count" operation="select">
        <statement>select count(1) from icc_t_alarm_feedback where create_time &gt;= '{begin_time}' and create_time &lt;= '{end_time}';</statement>        
    </sql>
	<sql id="statistics_process_deptinfo" operation="select">
        <statement>SELECT DISTINCT(a.process_dept_code), b.name FROM icc_t_alarm_process as a left join icc_t_dept as b on a.process_dept_code=b.code where (a.create_time &gt;= '{begin_time}' and a.create_time &lt;= '{end_time}');</statement>        
    </sql>	
	<sql id="statistics_receive_alarm_count_by_area" operation="select">
        <statement>select count(1) from icc_t_alarm_process where state &gt;= 'DIC020030' and process_dept_code= '{dept_code}' and (create_time &gt;= '{begin_time}' and create_time &lt;= '{end_time}');</statement>        
    </sql>
	<sql id="statistics_feedback_alarm_count_by_area" operation="select">
        <statement>select count(1) from icc_t_alarm_process where state = 'DIC020060' and process_dept_code= '{dept_code}' and (create_time &gt;= '{begin_time}' and create_time &lt;= '{end_time}');</statement>        
    </sql>
    <sql id="insert_statistics_result_by_area" operation="insert">
        <statement>insert into icc_t_alarm_statistics(statistics_id,statistics_type,statistics_date,statistics_result,dept_code,dept_name,statistics_time) values</statement> 
        <dynamic prepend="">('{statistics_id}','{statistics_type}','{statistics_date}','{statistics_result}','{dept_code}','{dept_name}','{statistics_time}');</dynamic>		
    </sql>	
	<sql id="select_statistics_result_by_area" operation="select">
        <statement>select statistics_result from icc_t_alarm_statistics where statistics_type='{statistics_type}' and statistics_date='{statistics_date}' and dept_code='{dept_code}';</statement>        
    </sql>
	<sql id="update_statistics_result_by_area" operation="select">
        <statement>update icc_t_alarm_statistics set statistics_result='{statistics_result}',statistics_time='{statistics_time}' where statistics_type='{statistics_type}' and statistics_date='{statistics_date}' and dept_code='{dept_code}';</statement>        
    </sql>	
	<sql id="statistics_count_by_callnumber_110" operation="select">
        <statement>select count(1) from icc_t_callevent where acd ='110' and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}');</statement>        
    </sql>
	<sql id="statistics_count_by_callnumber_119" operation="select">
        <statement>select count(1) from icc_t_callevent where acd ='119' and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}');</statement>        
    </sql>
	<sql id="statistics_count_by_callnumber_122" operation="select">
        <statement>select count(1) from icc_t_callevent where acd ='122' and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}');</statement>        
    </sql>
	<sql id="statistics_count_by_release_call" operation="select">
        <statement>select count(1) from icc_t_callevent where hangup_type ='release' and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}');</statement>        
    </sql>
	<sql id="statistics_count_by_disturbance_call" operation="select">
        <statement>select count(1) from icc_t_phonemark where type = 'DIC030001' and (update_time &gt;= '{begin_time}' and update_time &lt;= '{end_time}');</statement>        
    </sql>
	<sql id="statistics_count_by_inside_call" operation="select">
        <statement>select count(1) from icc_t_callevent where call_direction = 'in' and (acd is null or acd = '') and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}');</statement>        
    </sql>
	<sql id="statistics_count_by_waiting_call" operation="select">
        <statement>select * from icc_t_sub_callevent where (state_time &gt;= '{begin_time}' and state_time &lt;= '{end_time}') and eventcall_state='waiting';</statement>        
    </sql>
	<sql id="statistics_count_by_callevent" operation="select">
        <statement>select count(1) from icc_t_callevent where hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}';</statement>        
    </sql>
	<sql id="statistics_talktime" operation="select">
        <statement>select sum(hangup_time - talk_time) from icc_t_callevent where talk_time is not null and hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}';</statement>        
    </sql>
	<sql id="statistics_count_by_seatno" operation="select">
        <statement>select count(1) from icc_t_callevent where hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}' and (caller_id='{caller_id}' or called_id='{called_id}');</statement>        
    </sql>
	<sql id="insert_statistics_result_by_field" operation="insert">
        <statement>insert into icc_t_alarm_statistics(statistics_id,statistics_type,statistics_date,statistics_result,dept_code,dept_name,statistics_time,remark) values</statement> 
        <dynamic prepend="">('{statistics_id}','{statistics_type}','{statistics_date}','{statistics_result}','{dept_code}','{dept_name}','{statistics_time}','{remark}');</dynamic>		
    </sql>	
	<sql id="select_statistics_result_by_field" operation="select">
        <statement>select statistics_result from icc_t_alarm_statistics where statistics_type='{statistics_type}' and statistics_date='{statistics_date}' and remark='{remark}';</statement>        
    </sql>
	<sql id="update_statistics_result_by_field" operation="select">
        <statement>update icc_t_alarm_statistics set statistics_result='{statistics_result}',statistics_time='{statistics_time}' where statistics_type='{statistics_type}' and statistics_date='{statistics_date}' and remark='{remark}';</statement>        
    </sql>

	<sql id="query_dateinfo_when_updatetime_is_update_for_processtable" operation="select">
        <statement>select DISTINCT(substring(to_char(create_time,'YYYY-MM-DD HH24:MI:SS') from 1 for 10))  from icc_t_process where (update_time &gt;= '{begin_time}' and update_time &lt;= '{end_time}') and (extract(day from update_time) != extract(day from create_time));</statement>        
    </sql>
	<sql id="query_dateinfo_when_updatetime_is_update_for_feedbacktable" operation="select">
        <statement>select DISTINCT(substring(to_char(create_time,'YYYY-MM-DD HH24:MI:SS') from 1 for 10))  from icc_t_feedback where (update_time &gt;= '{begin_time}' and update_time &lt;= '{end_time}') and (extract(day from update_time) != extract(day from create_time));</statement>        
    </sql>
	<sql id="get_chat_window" operation="select">
        <statement>select * from (
		select t.sender,s1.name sender_name, t.receiver, s2.name receiver_name, t.time, g.group_id, g.group_name,t.is_group_msg
						from (select distinct on( foo.receiver) * from icc_t_chat_records as foo order by foo.receiver, foo.time desc)
						as t left join icc_t_chat_group g on t.receiver = g.group_id
						left join icc_t_chat_group_members m on g.group_id = m.group_id
						left join icc_t_staff s1 on t.sender = s1.code
					  left join icc_t_staff s2 on t.receiver = s2.code
						where m.staff_code = '{staff_code}' and g.is_delete = '0'
				union all	
				select distinct on( r.receiver) r.sender,s1.name sender_name, r.receiver, s2.name receiver_name ,r.time , '' as group_id, '' as group_name, r.is_group_msg from icc_t_chat_records as r
				left join icc_t_staff s1 on r.sender = s1.code
				left join icc_t_staff s2 on r.receiver = s2.code
		  	where (r.sender = '{staff_code}' or r.receiver = '{staff_code}')  and r.is_group_msg = '0' ) as tt  order by tt.time desc  limit {page_size} offset {page_size}*({page_index}-1)
		</statement>        
    </sql>
	<sql id="get_p2p_records" operation="select">
        <statement>select t.msg_id, t.sender,s1.name sender_name, t.receiver, s2.name receiver_name, t.seat_no, t.time, t.content, t.type, tag.is_read from  icc_t_chat_records t 
		left join icc_t_chat_records_tag tag on t.msg_id = tag.msg_id
		left join icc_t_staff s1 on s1.code = t.sender
		left join icc_t_staff s2 on s2.code = t.receiver
		where (t.sender = '{sender}' and t.receiver = '{receiver}') or (t.sender = '{receiver}' and t.receiver = '{sender}') and t.is_group_msg = '0' order by t.time desc limit {page_size} offset {page_size}*({page_index}-1)
		</statement>        
    </sql>
	<sql id="get_group_records" operation="select">
        <statement>select t.msg_id, t.sender, s1.name sender_name, t.receiver group_id, g.group_name, g.admin_code, t.seat_no, t.time, t.content, t.type, tag.receiver, s2.name receiver_name, tag.is_read from icc_t_chat_records t 
		left join icc_t_chat_records_tag tag on t.msg_id = tag.msg_id 
		left join icc_t_staff s1 on s1.code = t.sender
		left join icc_t_staff s2 on s2.code = tag.receiver
		left join icc_t_chat_group g on g.group_id = t.receiver
		where t.receiver = '{receiver}' and t.is_group_msg = '1' and t.sender &lt;&gt; tag.receiver and g.is_delete = '0' order by t.time desc limit {page_size} offset {page_size}*({page_index}-1)
		</statement>        
    </sql>
    <sql id="add_chat_group" operation="insert">
        <statement>insert into icc_t_chat_group(group_id,group_name,admin_code,is_delete) values</statement>
        <dynamic prepend="">('{group_id}','{group_name}','{admin_code}','{is_delete}')</dynamic>
    </sql>
    <sql id="edit_chat_group" operation="update">
        <statement>update icc_t_chat_group</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">group_id = '{group_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">group_name = '{group_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">admin_code = '{admin_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="get_chat_groups" operation="select">
        <statement>select g.group_id, g.group_name, g.admin_code from icc_t_chat_group g where g.is_delete = '0'</statement>        
    </sql>
	<sql id="get_chat_groupinfo" operation="select">
        <statement>select g.group_id, g.group_name, g.admin_code, m.* from icc_t_chat_group g 
		left join icc_t_chat_group_members m on g.group_id = m.group_id where g.group_id = '{group_id}'</statement>        
    </sql>
	<sql id="add_chat_group_member" operation="insert">
        <statement>insert into icc_t_chat_group_members(group_id,staff_code, staff_name) values</statement>
        <dynamic prepend="">('{group_id}','{staff_code}','{staff_name}')</dynamic>
    </sql>
    <sql id="delete_chat_group_member" operation="delete">
        <statement>delete from icc_t_chat_group_members</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">group_id = '{group_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">staff_code = '{staff_code}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="get_chat_group_admin" operation="select">
        <statement>select g.admin_code from icc_t_chat_group g where g.group_id = '{group_id}'</statement>        
    </sql>
	<sql id="get_new_group_admin" operation="select">
        <statement>select g.admin_code from icc_t_chat_group g where g.group_id = '{group_id}' and g.admin_code &lt;&gt; '{admin_code}'</statement>        
    </sql>
	<sql id="get_chat_item_count" operation="select">
        <statement>select count(1) total_count from (
				select t.*
						from (select distinct on( foo.receiver) * from icc_t_chat_records as foo order by foo.receiver, foo.time desc)
						as t left join icc_t_chat_group g on t.receiver = g.group_id
						left join icc_t_chat_group_members m on g.group_id = m.group_id
						left join icc_view_user_bind_staff u on t.receiver = u.code
						where m.staff_code = '{staff_code}'
				union all	
				select distinct on( r.receiver) * from icc_t_chat_records as r where (r.sender = '{staff_code}' or r.receiver = '{staff_code}') and r.is_group_msg = '0') as t
		</statement>        
    </sql>
	<sql id="get_p2p_records_count" operation="select">
        <statement>select count(1) total_count from icc_t_chat_records t where (t.sender = '{sender}' and t.receiver = '{receiver}') or (t.sender = '{receiver}' and t.receiver = '{sender}') and t.is_group_msg = '0'</statement>        
    </sql>
	<sql id="get_group_records_count" operation="select">
        <statement>select count(1) total_count from icc_t_chat_records t where t.receiver = '{group_id}' and t.is_group_msg = '1'</statement>        
    </sql>
	<sql id="save_chat_message" operation="insert">
        <statement>insert into icc_t_chat_records(msg_id,sender, seat_no, receiver, time, is_group_msg, content, type) values</statement>
        <dynamic prepend="">('{msg_id}','{sender}','{seat_no}','{receiver}','{time}','{is_group_msg}','{content}','{type}')</dynamic>
    </sql>
	<sql id="save_chat_message_tag" operation="insert">
        <statement>insert into icc_t_chat_records_tag(msg_id, receiver, is_read) values</statement>
        <dynamic prepend="">('{msg_id}','{receiver}','{is_read}')</dynamic>
    </sql>
	<sql id="get_user_by_staff" operation="select">
        <statement>select s.code from icc_view_user_bind_staff s where s.staff_code = '{staff_code}'</statement>
    </sql>
    <sql id="get_bindInfo_by_code" operation="select">
        <statement>select s.code, s.staff_code, s.name, s.dept_code, s.dept_name from icc_view_user_bind_staff s where s.code = '{code}'</statement>
    </sql>
	<sql id="set_msg_state" operation="update">
        <statement>update icc_t_chat_records_tag</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">msg_id = '{msg_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">receiver = '{receiver}'</isNotNull>
            <isNotNull prepend="and" isString="1">is_read = '{is_read}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="upgrade_group_admin" operation="update">
        <statement>update icc_t_chat_group</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">group_id = '{group_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">admin_code = '{admin_code}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="insert_icc_t_notice" operation="insert">
        <statement>insert into icc_t_notice(notice_id,user_code,user_name,seat_no,dept_code,dept_name,target_dept_code,target_dept_name,notice_type,title,content,time,is_delete,create_user,create_time,update_user,update_time) values</statement>
        <dynamic prepend="">('{notice_id}','{user_code}','{user_name}','{seat_no}','{dept_code}','{dept_name}','{target_dept_code}','{target_dept_name}','{notice_type}','{title}','{content}','{time}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="update_icc_t_notice" operation="update">
        <statement>update icc_t_notice</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">notice_id = '{notice_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_code = '{user_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_name = '{user_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">seat_no = '{seat_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code = '{dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_name = '{dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">target_dept_code = '{target_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_dept_name = '{target_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">notice_type = '{notice_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">title = '{title}'</isNotNull>
			<isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>
			<isNotNull prepend="and" isString="1">time = '{time}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_notice" operation="select">
        <statement>select t.notice_id, t.user_code, t.user_name, t.seat_no, t.dept_code, t.dept_name, t.target_dept_code, t.target_dept_name, t.notice_type, t.title, t.content, t.time from icc_t_notice t</statement>   
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">notice_id = '{notice_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">user_code = '{user_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_name = '{user_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">seat_no = '{seat_no}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code = '{dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_name = '{dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">target_dept_code = '{target_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">target_dept_name = '{target_dept_name}'</isNotNull>
            <isNotNull prepend="and" isString="1">notice_type = '{notice_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">title = '{title}'</isNotNull>
			<isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>
			<isNotNull prepend="and" isString="1">time = '{time}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
        </dynamic> 		
    </sql>
	<sql id="insert_icc_t_tips" operation="insert">
        <statement>insert into icc_t_tips(tips_id,called_no_type,level,first_type,tips_content,is_delete,create_user,create_time,update_user,update_time) values</statement>
        <dynamic prepend="">('{tips_id}','{called_no_type}','{level}','{first_type}','{tips_content}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="update_icc_t_tips" operation="update">
        <statement>update icc_t_tips</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">tips_id = '{tips_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">called_no_type = '{called_no_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">level = '{level}'</isNotNull>
			<isNotNull prepend="and" isString="1">first_type = '{first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">tips_content = '{tips_content}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_tips" operation="select">
        <statement>select t.tips_id, t.called_no_type, t.level, t.first_type, t.tips_content from icc_t_tips t</statement>   
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">tips_id = '{tips_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">called_no_type = '{called_no_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">level = '{level}'</isNotNull>
			<isNotNull prepend="and" isString="1">first_type = '{first_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">tips_content = '{tips_content}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
        </dynamic> 		
    </sql>
	<sql id="insert_icc_t_timeout_event" operation="insert">
        <statement>insert into icc_t_timeout_event(guid,alarm_id,callref_id,receipt_dept_code,receipt_dept_name,receipt_code,receipt_name,receipt_seatno,start_time,end_time,alarm_type,is_delete,create_user,create_time,update_user,update_time) values</statement>
        <dynamic prepend="">('{guid}','{alarm_id}','{callref_id}','{receipt_dept_code}','{receipt_dept_name}','{receipt_code}','{receipt_name}','{receipt_seatno}','{start_time}','{end_time}','{alarm_type}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="update_icc_t_timeout_event" operation="update">
        <statement>update icc_t_timeout_event</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_dept_code = '{receipt_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_name = '{receipt_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_code = '{receipt_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_name = '{receipt_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_seatno = '{receipt_seatno}'</isNotNull>
            <isNotNull prepend="and" isString="1">start_time = '{start_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">end_time = '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_type = '{alarm_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_timeout_event" operation="select">
        <statement>select t.guid, t.alarm_id, t.callref_id, t.receipt_dept_code, t.receipt_dept_name, t.receipt_code, t.receipt_name, t.receipt_seatno, t.start_time, t.end_time, t.alarm_type, t.is_delete from icc_t_timeout_event t</statement>   
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_dept_code = '{receipt_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_dept_name = '{receipt_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_code = '{receipt_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">receipt_name = '{receipt_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">receipt_seatno = '{receipt_seatno}'</isNotNull>
            <isNotNull prepend="and" isString="1">start_time = '{start_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">end_time = '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_type = '{alarm_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
        </dynamic> 		
    </sql>
	
	<sql id="insert_icc_t_addressbook_org" operation="insert">
        <statement>insert into icc_t_addressbook_org(guid,parent_guid,code,name,phone,remark,sort,is_delete,create_user,create_time,update_user,update_time) values</statement>
        <dynamic prepend="">('{guid}','{parent_guid}','{code}','{name}','{phone}','{remark}','{sort}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="update_icc_t_addressbook_org" operation="update">
        <statement>update icc_t_addressbook_org</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
			<isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_addressbook_org" operation="select">
        <statement>select t.guid, t.parent_guid, t.code, t.name, t.phone, t.remark, t.sort from icc_t_addressbook_org t</statement>   
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">parent_guid = '{parent_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
			<isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">sort = '{sort}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
        </dynamic> 		
    </sql>
	
	<sql id="insert_icc_t_addressbook_phone" operation="insert">
        <statement>insert into icc_t_addressbook_phone(guid,org_guid,code,name,gender,mobile,phone,remark,sort,is_delete,create_user,create_time,update_user,update_time) values</statement>
        <dynamic prepend="">('{guid}','{org_guid}','{code}','{name}','{gender}','{mobile}','{phone}','{remark}','{sort}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="update_icc_t_addressbook_phone" operation="update">
        <statement>update icc_t_addressbook_phone</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">org_guid = '{org_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
			<isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
			<isNotNull prepend="and" isString="1">gender = '{gender}'</isNotNull>
			<isNotNull prepend="and" isString="1">mobile = '{mobile}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_addressbook_phone" operation="select">
        <statement>select t.guid, t.org_guid, t.code, t.name, t.gender, t.mobile, t.phone, t.remark, t.sort from icc_t_addressbook_phone t</statement>   
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">org_guid = '{org_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">code = '{code}'</isNotNull>
			<isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
			<isNotNull prepend="and" isString="1">gender = '{gender}'</isNotNull>
			<isNotNull prepend="and" isString="1">mobile = '{mobile}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">sort = '{sort}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
        </dynamic> 		
    </sql>
	
	<sql id="insert_icc_t_addressbook_group" operation="insert">
        <statement>insert into icc_t_addressbook_group(guid,title,user_code,type,sort,is_delete,create_user,create_time,update_user,update_time) values</statement>
        <dynamic prepend="">('{guid}','{title}','{user_code}','{type}','{sort}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="update_icc_t_addressbook_group" operation="update">
        <statement>update icc_t_addressbook_group</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">title = '{title}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_code = '{user_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
			<isNotNull prepend="and" isString="0">sort = '{sort}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_addressbook_group" operation="select">
        <statement>select t.guid, t.title, t.user_code, t.type, t.sort from icc_t_addressbook_group t</statement>   
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">title = '{title}'</isNotNull>
            <isNotNull prepend="and" isString="1">user_code = '{user_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
			<isNotNull prepend="and" isString="1">sort = '{sort}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
        </dynamic> 		
    </sql>
	
	<sql id="insert_icc_t_addressbook_contact" operation="insert">
        <statement>insert into icc_t_addressbook_contact(guid,group_guid,type,name,mobile,phone,sort,remark,is_delete,create_user,create_time,update_user,update_time) values</statement>
        <dynamic prepend="">('{guid}','{group_guid}','{type}','{name}','{mobile}','{phone}','{sort}','{remark}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
    <sql id="update_icc_t_addressbook_contact" operation="update">
        <statement>update icc_t_addressbook_contact</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">group_guid = '{group_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
			<isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
			<isNotNull prepend="and" isString="1">mobile = '{mobile}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
			<isNotNull prepend="and" isString="1">sort = '{sort}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_addressbook_contact" operation="select">
        <statement>select t.guid, t.group_guid, t.type, t.name, t.mobile, t.phone, t.sort, t.remark from icc_t_addressbook_contact t</statement>   
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">group_guid = '{group_guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">type = '{type}'</isNotNull>
			<isNotNull prepend="and" isString="1">name = '{name}'</isNotNull>
			<isNotNull prepend="and" isString="1">mobile = '{mobile}'</isNotNull>
            <isNotNull prepend="and" isString="1">phone = '{phone}'</isNotNull>
			<isNotNull prepend="and" isString="1">sort = '{sort}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
        </dynamic> 		
    </sql>
	
	<sql id="insert_icc_t_bind_ip_seat" operation="insert">
        <statement>insert into icc_t_bind_ip_seat(guid,ip,seat_no,is_delete,create_user,create_time,update_user,update_time) values</statement>
        <dynamic prepend="">('{guid}','{ip}','{seat_no}','{is_delete}','{create_user}','{create_time}','{update_user}','{update_time}')</dynamic>
    </sql>
	 <sql id="update_icc_t_bind_ip_seat" operation="update">
        <statement>update icc_t_bind_ip_seat</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">ip = '{ip}'</isNotNull>
            <isNotNull prepend="and" isString="1">seat_no = '{seat_no}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="1">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_bind_ip_seat" operation="select">
        <statement>select t.guid, t.ip, t.seat_no, t.is_delete from icc_t_bind_ip_seat t</statement>   
		<dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">ip = '{ip}'</isNotNull>
            <isNotNull prepend="and" isString="1">seat_no = '{seat_no}'</isNotNull>
			<isNotNull prepend="and" isString="1">is_delete = '{is_delete}'</isNotNull>
        </dynamic> 		
    </sql>
	
	<sql id="query_statistics_call_in_info_count" operation="select">
        <statement>select count(DISTINCT(no)) as rcount from icc_t_seat where dept_code = any(select code from icc_view_dept_recursive where path like '%{dept_code}%') and is_delete='false';</statement>
    </sql>
	<sql id="query_statistics_call_in_info" operation="select">
        <statement>select DISTINCT(no),
(select count(1) as counttotalcall from icc_t_callevent where (acd is not null and acd != '')  and called_id = no and call_direction = 'in' and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}')),
(select count(1) as count110 from icc_t_callevent where acd = '110' and called_id = no and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}')),
(select count(1) as count119 from icc_t_callevent where acd = '119' and called_id = no and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}')),
(select count(1) as count122 from icc_t_callevent where acd = '122' and called_id = no and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}')),
(select count(1) as counthangupbycaller from icc_t_callevent where (acd is not null and acd != '') and called_id = no and hangup_type = 'caller' and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}')),
(select count(1) as counthangupbycalled from icc_t_callevent where (acd is not null and acd != '') and called_id = no and hangup_type = 'called' and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}')),
(select count(1) as counthangupbyblack from icc_t_callevent where (acd is not null and acd != '') and called_id = no and hangup_type = 'blackcall' and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}')),
(select count(1) as counthangupbyrelease from icc_t_callevent where (acd is not null and acd != '') and called_id = no and hangup_type = 'release' and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}')),
(select count(1) as counthangupbytransfer from icc_t_callevent where (acd is not null and acd != '') and called_id = no and hangup_type = 'transfer' and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}')),
(select sum(hangup_time - talk_time) as talktime from icc_t_callevent where (acd is not null and acd != '') and called_id = no and (hangup_time &gt;= '{begin_time}' and hangup_time &lt;= '{end_time}'))
from icc_t_seat where dept_code = any(select code from icc_view_dept_recursive where path like '%{dept_code}%') and is_delete='false' order by no desc limit {page_size} offset {page_size}*({page_index}-1);;</statement>
    </sql>
	<sql id="query_statistics_receive_alarm_info_count" operation="select">
        <statement>select count(aa.admin_dept_code) as rcount 
from (SELECT aaa.receipt_dept_code as admin_dept_code FROM "icc_t_alarm" as aaa where (aaa.time &gt;= '{begin_time}' and aaa.time &lt;= '{end_time}') and  (aaa.receipt_dept_code=any(select code from icc_view_dept_recursive where path like '%{dept_code}%')) UNION SELECT bb.process_dept_code as admin_dept_code FROM "icc_t_alarm_process" as bb where (bb.create_time &gt;= '{begin_time}' and bb.create_time &lt;= '{end_time}') and  (bb.process_dept_code=any(select code from icc_view_dept_recursive where path like '%{dept_code}%'))) as aa;</statement>
    </sql>
	<sql id="query_alarm_process_id_by_alarm_id_and_process_dept_code" operation="select">
        <statement>select id from icc_t_alarm_process where alarm_id='{alarm_id}' and process_dept_code='{process_dept_code}';</statement>
    </sql>
	<sql id="insert_icc_t_backalarm_reason" operation="insert">
        <statement>insert into icc_t_backalarm(guid,process_id,back_reason) values</statement> 
        <dynamic prepend="">('{guid}','{process_id}','{back_reason}');</dynamic>		
    </sql>
	<sql id="query_call_waiting_count" operation="select">
        <statement>select count(1) as rcount from icc_t_callevent as aa left join icc_t_sub_callevent as bb on aa.callref_id=bb.callref_id and bb.eventcall_state='incoming' and bb.create_time &gt;= '{create_time_begin}' and bb.create_time &lt;= '{create_time_end}'</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">aa.create_time &gt;= '{create_time_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">aa.create_time &lt;= '{create_time_end}'</isNotNull>
            <isNotNull prepend="and" isString="1">(nullif(aa.acd, '') is not null)</isNotNull>
            <isNotNull prepend="and" isString="1">bb.state_time &gt;= '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">exists(select 1 from icc_t_sub_callevent c where c.create_time &gt;= '{create_time_begin}' and c.create_time &lt;= '{create_time_end}' and aa.callref_id = c.callref_id and c.eventcall_state='waiting')</isNotNull>
            <isNotNull prepend="and" isString="0">bb.state_time &lt;= '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">aa.caller_id = '{caller_id}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="query_call_waiting_info" operation="select">
        <statement>select aa.callref_id,aa.acd,aa.original_acd,aa.acd_dept,aa.caller_id as callernumber,aa.incoming_time as state_time,(case when aa.ring_time is not null then aa.ring_time else aa.hangup_time end - aa.incoming_time) as waittime,aa.hangup_type from icc_t_callevent as aa </statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">aa.create_time &gt;= '{create_time_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">aa.create_time &lt;= '{create_time_end}'</isNotNull>
            <isNotNull prepend="and" isString="1">(nullif(aa.acd, '') is not null)</isNotNull>
            <isNotNull prepend="and" isString="1">aa.incoming_time &gt;= '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">exists(select 1 from icc_t_sub_callevent c where c.create_time &gt;= '{create_time_begin}' and c.create_time &lt;= '{create_time_end}' and aa.callref_id = c.callref_id and c.eventcall_state='waiting')</isNotNull>
            <isNotNull prepend="and" isString="0">aa.incoming_time &lt;= '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">aa.caller_id like '%{caller_id}%'</isNotNull>
			<isNotNull prepend="and" isString="1">aa.acd like '%{called_id}%'</isNotNull>
			<isNotNull prepend="and" isString="1">aa.hangup_type = '{hangup_type}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">((case when aa.ring_time is not null then aa.ring_time else aa.hangup_time end - aa.incoming_time) &gt;= '{wait_len}')</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>aa.create_time desc</isNotNull>
        </orderby>
		<pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="query_back_alarm_count" operation="select">
        <statement>select count(1) as rcount from icc_t_backalarm as aa left join icc_t_alarm_process as bb on aa.process_id=bb.id where bb.process_dept_code=any(select code from icc_view_dept_recursive where path like '%{dept_code}%') and (bb.update_time &gt;= '{begin_time}' and bb.update_time &lt;= '{end_time}');</statement>
    </sql>
	<sql id="query_back_alarm_info" operation="select">
        <statement>select aa.process_id,bb.alarm_id, bb.update_user, (select name from icc_t_staff where code = bb.update_user) as update_user_name,bb.update_time,(select code from icc_t_dept where guid=(select dept_guid from icc_t_staff where code=bb.update_user or name = bb.update_user)) as back_dept_code, (select name from icc_t_dept where guid=(select dept_guid from icc_t_staff where code=bb.update_user or name = bb.update_user)) as back_dept_name ,aa.back_reason from icc_t_backalarm as aa left join icc_t_alarm_process as bb on aa.process_id=bb.id where bb.process_dept_code=any(select code from icc_view_dept_recursive where path like '%{dept_code}%') and (bb.update_time &gt;= '{begin_time}' and bb.update_time &lt;= '{end_time}') limit {page_size} offset {page_size}*({page_index}-1);</statement>
    </sql>
	<sql id="update_icc_t_client_in_out_when_server_start" operation="select">
        <statement>update icc_t_client_in_out set logout_time='{current_time}',duration=EXTRACT ( EPOCH FROM ('{current_time}'  - login_time )) where guid='{guid}';</statement>		
    </sql>
	<sql id="update_icc_t_client_on_off_when_server_start" operation="select">
        <statement>update icc_t_client_on_off set off_time='{current_time}',duration=EXTRACT ( EPOCH FROM ('{current_time}'  - on_time )) where guid='{guid}';</statement>		
    </sql>	
	<sql id="update_icc_t_alarm_submittime_by_alarm_id" operation="select">
        <statement>update icc_t_alarm set first_submit_time = '{first_submit_time}' where id = '{alarm_id}' and first_submit_time is null;</statement>
    </sql>
	<sql id="insert_icc_t_keyword" operation="select">
        <statement>insert into public.icc_t_keyword(guid,key_word,content,create_user,create_time) values('{guid}','{key_word}','{content}','{create_user}','{create_time}');</statement>
    </sql>
	<sql id="update_icc_t_keyword" operation="update">
        <statement>update public.icc_t_keyword</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
			<isNotNull prepend="and" isString="1">key_word = '{key_word}'</isNotNull>
            <isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>			
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
            <isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="delete_icc_t_keyword" operation="select">
        <statement>delete from public.icc_t_keyword where guid = '{guid}';</statement>
    </sql>
	<sql id="query_icc_t_keyword_all_count" operation="select">
        <statement>select count(1) as count from public.icc_t_keyword;</statement>
    </sql>
	<sql id="query_icc_t_keyword_all" operation="select">
        <statement>select * from public.icc_t_keyword;</statement>
    </sql>
	<sql id="query_icc_t_keyword_by_page" operation="select">
        <statement>select * from public.icc_t_keyword ORDER BY create_time desc limit {page_size} offset {begin_index};</statement>
    </sql>
	<sql id="query_icc_t_keyword_by_alarm_content" operation="select">
        <statement>select * from public.icc_t_keyword where position( key_word in '{content}' )>0 ORDER BY create_time desc;</statement>
    </sql>
	<sql id="insert_icc_t_alarm_monitor_seat_approval" operation="insert">
        <statement>insert into public.icc_t_alarm_monitor_seat_approval(guid,apply_type,apply_target_id,apply_time,apply_body,apply_staff_code,apply_staff_name,apply_org_code,apply_org_name,approve_staff_code,approve_staff_name,approve_result,approve_time,approve_remark) values</statement> 
        <dynamic prepend="">('{guid}','{apply_type}','{apply_target_id}','{apply_time}','{apply_body}','{apply_staff_code}','{apply_staff_name}','{apply_org_code}','{apply_org_name}','{approve_staff_code}','{approve_staff_name}','{approve_result}','{approve_time}','{approve_remark}');</dynamic>		
    </sql>
	<sql id="select_icc_t_alarm_monitor_seat_approval_count" operation="select">
        <statement>select count(1) num from public.icc_t_alarm_monitor_seat_approval</statement>
       <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">apply_type = '{apply_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">apply_target_id = '{apply_target_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">apply_org_code = '{apply_org_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">apply_time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">approve_result = '{approve_result}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
		<sql id="select_icc_t_alarm_monitor_seat_approval" operation="select">
        <statement>SELECT * FROM public.icc_t_alarm_monitor_seat_approval</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">apply_type = '{apply_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">apply_target_id = '{apply_target_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">apply_org_code = '{apply_org_code}'</isNotNull>
            <isNotNull prepend="and" isString="1">apply_time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">approve_result = '{approve_result}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull isNotTrans="1">{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
	</sql>
	<sql id="update_icc_t_alarm_monitor_seat_approval" operation="update">
        <statement>UPDATE public.icc_t_alarm_monitor_seat_approval set approve_staff_code ='{approve_staff_code}', approve_staff_name ='{approve_staff_name}', approve_result ='{approve_result}', approve_time ='{approve_time}', approve_remark ='{approve_remark}' where guid = '{guid}';</statement>
    </sql>
	<sql id="insert_into_record_file_item" operation="insert">
        <statement>insert into public.icc_t_record_files_item(guid,record_file_id,callref_id,record_file_name,record_file_url,agent_phone_ip,agent_phone_no,caller_no,called_no,cti_refreshed,start_time,stop_time) values</statement> 
        <dynamic prepend="">('{guid}','{file_id}','{call_id}','{record_file_name}','{record_file_url}','{agent_phone_ip}','{agent_phone_no}','{caller_no}','{called_no}','{cti_refreshed}','{start_time}','{stop_time}');</dynamic>		
    </sql>
	<sql id="select_icc_t_violation_count" operation="select">
        <statement>select count(1) num from icc_t_violation</statement>
       <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">violation_type = '{violation_type}'</isNotNull>
			<isNotNull prepend="and" isString="0">dept_code in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%')</isNotNull>
            <isNotNull prepend="and" isString="1">violation_time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
		<sql id="select_icc_t_violation" operation="select">
        <statement>SELECT * FROM public.icc_t_violation</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">violation_type = '{violation_type}'</isNotNull>
			<isNotNull prepend="and" isString="0">dept_code in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%')</isNotNull>
            <isNotNull prepend="and" isString="1">violation_time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
	</sql>
	
	<sql id="insert_icc_t_violation" operation="insert">
        <statement>insert into icc_t_violation(guid,violation_id,violation_type,violation_target,violation_user,violation_time,timeout_value,dept_code,create_time,update_time) values</statement> 
        <dynamic prepend="">('{guid}','{violation_id}','{violation_type}','{violation_target}','{violation_user}','{violation_time}','{timeout_value}','{dept_code}','{create_time}','{update_time}');</dynamic>		
    </sql>
	
	<sql id="insert_icc_t_keyword_alarm" operation="insert">
        <statement>insert into public.icc_t_keyword_alarm(guid,alarm_id,key_word,key_word_content, content, state, dept_code, create_user,create_time) values</statement> 
        <dynamic prepend="">('{guid}','{alarm_id}','{key_word}','{key_word_content}','{content}', '{state}','{dept_code}','{create_user}','{create_time}');</dynamic>		
    </sql>
	<sql id="select_icc_t_keyword_alarm" operation="select">
        <statement>SELECT * FROM public.icc_t_keyword_alarm</statement>	
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">key_word = '{key_word}'</isNotNull>
			<isNotNull prepend="and" isString="1">key_word_content = '{key_word_content}'</isNotNull>
			<isNotNull prepend="and" isString="1">content = '{content}'</isNotNull>
			<isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="update_icc_t_keyword_alarm" operation="update">
        <statement>UPDATE public.icc_t_keyword_alarm set state ='{state}' where alarm_id = '{alarm_id}';</statement>
    </sql>
	<sql id="delete_icc_t_keyword_alarm" operation="delete">
        <statement>DELETE FROM public.icc_t_keyword_alarm where alarm_id = '{alarm_id}';</statement>
    </sql>
	<sql id="select_icc_t_keyword_alarm_count" operation="select">
        <statement>SELECT count(1) as num FROM icc_t_keyword_alarm</statement>
		 <dynamic prepend="where">
		    <isNotNull prepend="and" isString="1">state != '07'</isNotNull>
            <isNotNull prepend="and" isString="0">dept_code in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">create_time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_keyword_alarm_bypage" operation="select">
        <statement>SELECT * FROM icc_t_keyword_alarm</statement>
		 <dynamic prepend="where">
		    <isNotNull prepend="and" isString="1">state != '07'</isNotNull>
            <isNotNull prepend="and" isString="0">dept_code in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">create_time BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
        </dynamic>
		 <orderby prepend="order by">
            <isNotNull>create_time desc</isNotNull>
        </orderby>
		 <pagedivided prepend="limit">
            <isNotNull prepend="limit">{page_size}</isNotNull>
            <isNotNull prepend="offset">{begin_index}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="select_icc_t_seat_address" operation="select">
        <statement>SELECT * FROM public.icc_t_seat_address;</statement>	
    </sql>
	<sql id="insert_icc_t_seat_address" operation="insert">
        <statement>insert into public.icc_t_seat_address(guid,seat_no,address,create_time) values</statement>
        <dynamic prepend="">('{guid}','{seat_no}','{address}','{create_time}')</dynamic>
    </sql>
	<sql id="update_icc_t_seat_address" operation="update">
        <statement>UPDATE public.icc_t_seat_address set address='{address}', update_time='{update_time}' where seat_no = '{seat_no}';</statement>
    </sql>
	<sql id="query_icc_t_seat_address_by_seatno" operation="select">
        <statement>select * from public.icc_t_seat_address where seat_no = '{seat_no}';</statement>
    </sql>
	<sql id="delete_icc_t_seat_address" operation="delete">
        <statement>DELETE FROM public.icc_t_seat_address where seat_no = '{seat_no}';</statement>	
    </sql>
		<sql id="statistics_icc_t_alarm_count_by_deptcode" operation="select">
        <statement>select level, sum(1) as num from public.icc_t_alarm</statement> 
        <dynamic prepend="where">
		    <isNotNull prepend="and" isString="0">receipt_dept_code ='{receipt_dept_code}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time &gt;= '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">(is_delete is null or is_delete != 'true')</isNotNull>
        </dynamic>
		<groupby prepend="group by">
            <isNotNull>{groupby}</isNotNull>
	    </groupby>			
 </sql>
 <sql id="statistics_icc_t_alarm_count_by_seatcode" operation="select">
        <statement>select level, sum(1) as num from public.icc_t_alarm</statement>  
        <dynamic prepend="where">
		    <isNotNull prepend="and" isString="0">receipt_seatno ='{receipt_seatno}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time &gt;= '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">(is_delete is null or is_delete != 'true')</isNotNull>
        </dynamic>
		<groupby prepend="group by">
            <isNotNull>{groupby}</isNotNull>
	    </groupby>		
 </sql>
 <sql id="statistics_icc_t_callevent_count_by_seatcode" operation="select">
        <statement>select count(1) as num from public.icc_t_callevent</statement>      
      <dynamic prepend="where">
			<isNotNull prepend="and" isString="0">(called_id = '{seat_no}' or caller_id = '{seat_no}')</isNotNull>
            <isNotNull prepend="and" isString="0">create_time &gt;= '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">create_time &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">(hangup_type is not null and hangup_type != 'blackcall')</isNotNull>
        </dynamic>  
 </sql>
 <sql id="statistics_icc_t_violation_count_by_seatcode" operation="select">
        <statement>select violation_type, sum(1) as num from public.icc_t_violation</statement>
		 <dynamic prepend="where">
		    <isNotNull prepend="and" isString="0">violation_target ='{seat_no}'</isNotNull>
            <isNotNull prepend="and" isString="0">violation_time &gt;= '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">violation_time &lt;= '{end_time}'</isNotNull>
        </dynamic>
		<groupby prepend="group by">
            <isNotNull>{groupby}</isNotNull>
	    </groupby>
 </sql>
  <sql id="statistics_icc_t_blacklist_count_by_phone" operation="select">
        <statement>select count(1) as num from public.icc_t_blacklist</statement>
        <dynamic prepend="where">
		    <isNotNull prepend="and" isString="0">limit_num ='{limit_num}'</isNotNull>
            <isNotNull prepend="and" isString="0">begin_time &gt;= '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">begin_time &lt;= '{end_time}'</isNotNull>
        </dynamic>  
 </sql>
 <sql id="statistics_icc_t_phonemark_by_phone" operation="select">
        <statement>select bb.type, sum(1) as num from public.icc_t_phonemark as bb where phone='{phone}' and (is_delete is null or is_delete != 'true') group by bb.type</statement>        
 </sql>
 
  <sql id="query_icc_t_jqdsrdb_by_alarm_id" operation="select">
	<statement>select jqdsrdbh as "id",jjdbh as "alarm_id",pjdbh as "process_id",fkdbh as "feedback_id",jqdsrxm  as "name",xbdm  as "sex",zjdm  as "identification_type",zjhm  as "identification_id",sf as "identity",sfzdry as "is_focus_pesron",zdrysx as "focus_pesron_info",hjxzqh as "registered_address_division",hjxz as "registered_address",xzxzqh as "current_address_division",xzxz as "current_address",gzdw as "work_unit",zy as "occupation",lxdh as "contact_number",qtzj as "other_certificates",sswpxx as "lost_item_information",cjsj as "create_time",csrq as "date_of_birth",gxsj as "update_time",szqm as digital_signature, scbs as is_delete,cjzdbs as createteminal,gxzdbs as updateteminal from icc_t_jqdsrdb where jjdbh = '{alarm_id}';</statement>
  </sql>
  <sql id="query_icc_t_jqdsrdb_by_id" operation="select">
	<statement>select jqdsrdbh as "id",jjdbh as "alarm_id",pjdbh as "process_id",fkdbh as "feedback_id",jqdsrxm  as "name",xbdm  as "sex",zjdm  as "identification_type",zjhm  as "identification_id",sf as "identity",sfzdry as "is_focus_pesron",zdrysx as "focus_pesron_info",hjxzqh as "registered_address_division",hjxz as "registered_address",xzxzqh as "current_address_division",xzxz as "current_address",gzdw as "work_unit",zy as "occupation",lxdh as "contact_number",qtzj as "other_certificates",sswpxx as "lost_item_information",cjsj as "create_time",csrq as "date_of_birth",gxsj as "update_time",szqm as digital_signature, scbs as is_delete,cjzdbs as createteminal,gxzdbs as updateteminal from icc_t_jqdsrdb where jqdsrdbh = '{id}';</statement>
  </sql>
  <sql id="select_icc_t_jqdsrdb_count" operation="select">
    <statement>select count(1) num from icc_t_jqdsrdb where cjsj BETWEEN '{begin_time}' and '{end_time}';</statement>
  </sql>
  <sql id="search_icc_t_jqdsrdb_by_create_time" operation="select">
        <statement>select jqdsrdbh as "id",jjdbh as "alarm_id",pjdbh as "process_id",fkdbh as "feedback_id",jqdsrxm  as "name",xbdm  as "sex",zjdm  as "identification_type",zjhm  as "identification_id",sf as "identity",sfzdry as "is_focus_pesron",zdrysx as "focus_pesron_info",hjxzqh as "registered_address_division",hjxz as "registered_address",xzxzqh as "current_address_division",xzxz as "current_address",gzdw as "work_unit",zy as "occupation",lxdh as "contact_number",qtzj as "other_certificates",sswpxx as "lost_item_information",cjsj as "create_time",csrq as "date_of_birth",gxsj as "update_time",szqm as digital_signature, scbs as is_delete, rybq as person_tag,cjzdbs as createteminal,gxzdbs as updateteminal from icc_t_jqdsrdb </statement>
                <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">cjsj BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
        </dynamic>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
        </sql>
  
  <sql id="insert_icc_t_jqdsrdb" operation="insert">
	<statement>insert into icc_t_jqdsrdb(jqdsrdbh,jjdbh,pjdbh,fkdbh,jqdsrxm,xbdm,zjdm,zjhm,sf,sfzdry,zdrysx,hjxzqh,hjxz,xzxzqh,xzxz,gzdw,zy,lxdh,qtzj,sswpxx,cjsj,csrq,gxsj,scbs,szqm,cjzdbs,gxzdbs) values</statement> 
	<dynamic prepend="">('{id}','{alarm_id}','{process_id}','{feedback_id}','{name}','{sex}','{identification_type}','{identification_id}','{identity}','{is_focus_pesron}','{focus_pesron_info}','{registered_address_division}','{registered_address}','{current_address_division}','{current_address}','{work_unit}','{occupation}','{contact_number}','{other_certificates}','{lost_item_information}','{create_time}','{date_of_birth}','{update_time}','{is_delete}','{digital_signature}','{createTeminal}','{updateTeminal}');</dynamic>	
  </sql>
  
  <sql id="delete_icc_t_jqdsrdb_by_guid" operation="delete">
	<statement>delete from icc_t_jqdsrdb where jqdsrdbh = '{id}';</statement>
  </sql>
  
  <sql id="update_icc_t_jqdsrdb" operation="update">
        <statement>update icc_t_jqdsrdb</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">jqdsrdbh = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{alarm_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">pjdbh = '{process_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">fkdbh = '{feedback_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqdsrxm = '{name}'</isNotNull>			
			<isNotNull prepend="and" isString="1">xbdm = '{sex}'</isNotNull>
			<isNotNull prepend="and" isString="1">zjdm = '{identification_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">zjhm = '{identification_id}'</isNotNull>
            <isNotNull prepend="and" isString="1">sf = '{identity}'</isNotNull>
            <isNotNull prepend="and" isString="1">sfzdry = '{is_focus_pesron}'</isNotNull>
			<isNotNull prepend="and" isString="1">zdrysx = '{focus_pesron_info}'</isNotNull>
            <isNotNull prepend="and" isString="1">hjxzqh = '{registered_address_division}'</isNotNull>	
			<isNotNull prepend="and" isString="1">hjxz = '{registered_address}'</isNotNull>
			<isNotNull prepend="and" isString="1">xzxzqh = '{current_address_division}'</isNotNull>
            <isNotNull prepend="and" isString="1">xzxz = '{current_address}'</isNotNull>
            <isNotNull prepend="and" isString="1">gzdw = '{work_unit}'</isNotNull>
			<isNotNull prepend="and" isString="1">zy = '{occupation}'</isNotNull>
            <isNotNull prepend="and" isString="1">lxdh = '{contact_number}'</isNotNull>
			<isNotNull prepend="and" isString="1">qtzj = '{other_certificates}'</isNotNull>
			<isNotNull prepend="and" isString="1">sswpxx = '{lost_item_information}'</isNotNull>
            <isNotNull prepend="and" isString="1">cjsj = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="1">csrq = '{date_of_birth}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxsj = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">scbs = '{is_delete}'</isNotNull>
			<isNotNull prepend="and" isString="1">szqm = '{digital_signature}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjzdbs = '{createTeminal}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxzdbs = '{updateTeminal}'</isNotNull>
        </dynamic>
    </sql>
  
	<sql id="query_icc_t_jqclb_by_alarm_id" operation="select">
		<statement>select jqsaclbh as id,jjdbh as alarm_id,zldm as car_type,czxm as car_user_name, czdh as car_user_phone,czzjhm as car_user_number,cph as car_number, sfswhcl as is_hazardous_vehicle,cjsj as create_time,gxsj as update_time,scbs as deleted,cjzdbs as createteminal,gxzdbs as updateteminal from icc_t_jqclb where jjdbh = '{alarm_id}';</statement>
	</sql> 
  
	<sql id="search_icc_t_jqclb_by_create_time" operation="select">
		<statement>select jqsaclbh as id,jjdbh as alarm_id,zldm as car_type,czxm as car_user_name, czdh as car_user_phone,czzjhm as car_user_number,cph as car_number, sfswhcl as is_hazardous_vehicle,cjsj as create_time,gxsj as update_time,scbs as deleted,cjzdbs as createteminal,gxzdbs as updateteminal from icc_t_jqclb</statement>
	<dynamic prepend="where">
		<isNotNull prepend="and" isString="1">cjsj BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
	</dynamic>
	<pagedivided prepend="limit">
		<isNotNull prepend="limit">{limit}</isNotNull>
		<isNotNull prepend="offset">{offset}</isNotNull>
	</pagedivided>
	</sql>
	
	
	<sql id="select_icc_t_jqclb_count" operation="select">
        <statement>select count(1) num from icc_t_jqclb</statement>
       <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">cjsj BETWEEN '{begin_time}' and '{end_time}'</isNotNull>
        </dynamic>
    </sql>
 
 <sql id="query_icc_t_jqclb_by_id" operation="select">
	<statement>select jqsaclbh as id,jjdbh as alarm_id,zldm as car_type,czxm as car_user_name, czdh as car_user_phone,czzjhm as car_user_number,cph as car_number, sfswhcl as is_hazardous_vehicle,cjsj as create_time,gxsj as update_time,scbs as deleted,cjzdbs as createteminal,gxzdbs as updateteminal from icc_t_jqclb where jqsaclbh = '{id}'; </statement>
  </sql>
  
  <sql id="insert_icc_t_jqclb" operation="insert">
	<statement>insert into icc_t_jqclb(jqsaclbh,jjdbh,zldm,czxm,czdh,czzjhm,cph,sfswhcl,cjsj,gxsj,scbs,cjzdbs,gxzdbs) values</statement> 
	<dynamic prepend="">('{id}','{alarm_id}','{car_type}','{car_user_name}','{car_user_phone}','{car_user_number}','{car_number}','{is_hazardous_vehicle}','{create_time}','{update_time}','{deleted}','{createTeminal}','{updateTeminal}');</dynamic>
  </sql>

  <sql id="delete_icc_t_jqclb_by_guid" operation="delete">
	<statement>delete from icc_t_jqclb where jqsaclbh = '{id}';</statement>
  </sql>
  
  <sql id="update_icc_t_jqclb" operation="update">
        <statement>update icc_t_jqclb</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">jqsaclbh = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">zldm = '{car_type}'</isNotNull>		
			<isNotNull prepend="and" isString="1">czxm = '{car_user_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">czdh = '{car_user_phone}'</isNotNull>
			<isNotNull prepend="and" isString="1">czzjhm = '{car_user_number}'</isNotNull>
			<isNotNull prepend="and" isString="1">cph = '{car_number}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfswhcl = '{is_hazardous_vehicle}'</isNotNull>
            <isNotNull prepend="and" isString="0">cjsj = '{create_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">gxsj = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">scbs = '{deleted}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjzdbs = '{createTeminal}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxzdbs = '{updateTeminal}'</isNotNull>
        </dynamic>
    </sql>
	<!-- new begin 2022-4-7 modify by zhuhaibo-->
	 <sql id="select_icc_t_jjdb_brothers_num" operation="select">
        <statement>SELECT (count(*)-1) AS brothers_num FROM public.icc_t_jjdb where jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' and glzjjdbh = '{id}';</statement>        
    </sql>
	
	<sql id="update_icc_t_jjdb_is_merge" operation="select">
		<statement>UPDATE icc_t_jjdb set hbbs = '0',gxsj='{update_time}' where jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' and jjdbh = '{id}';</statement>
    </sql>
	
	<!-- 未签收警情实际使用不应出现超过1000条的，此处限制1000为了应付不规范的压测 -->
	<sql id="select_icc_t_jjdb_by_process_dept_code" operation="select">
        <statement>SELECT xzqhdm as receipt_dept_district_code, jjdwdm as receipt_dept_code, jjdbh as id, glzjjdbh as merge_id, gllx as merge_type, jjlx as called_no_type, jqlyfs as source_type, lhlx as handle_type, jjlyh as source_id, jjybh as receipt_code, jjyxm as receipt_name, bjsj as receiving_time, jjsj as received_time,jjwcsj as first_submit_time,bjdh as caller_no,bjdhyhm as caller_user_name,bjdhyhdz as caller_addr,bjrmc as caller_name,bjrxbdm as caller_gender,lxdh as contact_no,bjrzjdm as caller_id_type,bjrzjhm as caller_id, bjdz as alarm_addr, jqdz as addr,bjnr as content, gxdwdm as admin_dept_code,jqlbdm as first_type, jqlxdm as second_type,  jqxldm as third_type,jqzldm as fourth_type,tzdbh as symbol_code, zars as erpetrators_number, ywcwq as is_armed,ywwxwz as is_hazardous_substances,ywbzxl as is_explosion_or_leakage,bkryqksm as desc_of_trapped,ssryqksm as desc_of_injured,swryqksm as desc_of_dead,sfswybj as is_foreign_language,bjrxzb as longitude,bjryzb as latitude,fxdwjd as manual_longitude,fxdwwd as manual_latitude,bcjjnr as remark,jqdjdm as level,jqclztdm as state,yjjydjdm as emergency_rescue_level,sjchpzldm as vehicle_type,sjcph as vehicle_no,sfswhcl as is_hazardous_vehicle,rksj as create_time,gxsj as update_time,jqbq as label,sfbm as is_privacy,jjfs as receipt_srv_name,gxdwmc as admin_dept_name,gxdwdmbs as admin_dept_org_code,jjdwmc as receipt_dept_name,jjdwdmbs as receipt_dept_org_code,scbs as is_delete,wxbs as is_invalid,dqywzt as business_status,jjxwh as receipt_seatno,hbbs as is_merge,cjry as create_user,gxry as update_user,hfbs as is_visitor,fkbs as is_feedback,ybjxxyz as is_sameforbackground,tbcjbs as is_processflagsynchronized,tzhgxdwdm as jurisdictional_orgcode,tzhgxdwmc as jurisdictional_orgname,tzhgxdwdmbs as jurisdictional_orgidentifier,sftsjz as had_push,sfja as is_over FROM "icc_t_jjdb" where jjdbh in (select alarm_id from icc_t_alarm_process B where B.process_dept_code = '{process_dept_code}' AND B.time_signed is null AND B.state = 'DIC020010') ORDER BY time DESC LIMIT 1000;</statement>        
    </sql>
	
	<sql id="select_icc_t_jjdb_by_alarm_id" operation="select">
        <statement>SELECT a.*, b.guid as alarmer_code from icc_t_jjdb a LEFT JOIN icc_t_staff b ON a.jjybh = b.staff_id_no where a.jjsj &gt;= '{jjsj_begin}' and a.jjsj &lt;= '{jjsj_end}' and jjdbh = '{id}';</statement>
    </sql>
	<sql id="select_icc_t_jjdb_ex" operation="select">
        <statement>SELECT a.dict_key, a.value, b.jqlbdm, b.jqlxdm, b.jqxldm, b.jqzldm from icc_t_dict_value a LEFT JOIN icc_t_jjdb b ON b.jjsj &gt;= '{jjsj_begin}' and b.jjsj &lt;= '{jjsj_end}' and ((a.dict_key = b.jqlbdm) or (a.dict_key = b.jqlxdm) or (a.dict_key = b.jqxldm) or (a.dict_key = b.jqzldm)) and lang_code = '{lang_code}' and dict_code = 'DIC003' where b.jjsj &gt;= '{jjsj_begin}' and b.jjsj &lt;= '{jjsj_end}' and b.jjdbh = '{jjdbh}';</statement>
    </sql>
	<sql id="select_icc_t_jjdb" operation="select">
        <statement>SELECT xzqhdm as receipt_dept_district_code, jjdwdm as receipt_dept_code, jjdbh as id, glzjjdbh as merge_id,gllx as merge_type,jjlx as called_no_type, jqlyfs as source_type, lhlx as handle_type, jjlyh as source_id, jjybh as receipt_code, jjyxm as receipt_name, bjsj as receiving_time, jjsj as received_time,jjwcsj as first_submit_time,bjdh as caller_no,bjdhyhm as caller_user_name,bjdhyhdz as caller_addr,bjrmc as caller_name,bjrxbdm as caller_gender,lxdh as contact_no,bjrzjdm as caller_id_type,bjrzjhm as caller_id, bjdz as alarm_addr, jqdz as addr,bjnr as content, gxdwdm as admin_dept_code,jqlbdm as first_type, jqlxdm as second_type,  jqxldm as third_type,jqzldm as fourth_type,tzdbh as symbol_code, zars as erpetrators_number, ywcwq as is_armed,ywwxwz as is_hazardous_substances,ywbzxl as is_explosion_or_leakage,bkryqksm as desc_of_trapped,ssryqksm as desc_of_injured,swryqksm as desc_of_dead,sfswybj as is_foreign_language,bjrxzb as longitude,bjryzb as latitude,fxdwjd as manual_longitude,fxdwwd as manual_latitude,bcjjnr as remark,jqdjdm as level,jqclztdm as state,yjjydjdm as emergency_rescue_level,sjchpzldm as vehicle_type,sjcph as vehicle_no,sfswhcl as is_hazardous_vehicle,rksj as create_time,gxsj as update_time,jqbq as label,sfbm as is_privacy,jjfs as receipt_srv_name,gxdwmc as admin_dept_name,gxdwdmbs as admin_dept_org_code,jjdwmc as receipt_dept_name,jjdwdmbs as receipt_dept_org_code,scbs as is_delete,wxbs as is_invalid,dqywzt as business_status,jjxwh as receipt_seatno,hbbs as is_merge,cjry as create_user,gxry as update_user,hfbs as is_visitor,fkbs as is_feedback,ybjxxyz as is_sameforbackground,tbcjbs as is_processflagsynchronized,tzhgxdwdm as jurisdictional_orgcode,tzhgxdwmc as jurisdictional_orgname,tzhgxdwdmbs as jurisdictional_orgidentifier,sftsjz as had_push,sfja as is_over,cjzdbs as createteminal,gxzdbs as updateteminal,jjlylx as alarm_source_type,jjlybh as alarm_source_id, bjjjdbm as centre_dept_code, bjglzjjdbm as centre_relation_dept_code, xzqhmc as receipt_dept_district_name, jcjxtjsdwdm as develop_dept_code, jcjxtjsdwmc as  develop_dept_name, shlddwdm as linked_dispatch_code, sfyqs as is_signed, jasj as over_time, csjqlbdm as initial_first_type, csjqlxdm as initial_second_type, csjqxldm as initial_third_type,csjqzldm  as initial_fourth_type, csgxdwdm as initial_admin_dept_code, csgxdwmc as initial_admin_dept_name, csgxdwdmbs as initial_admin_dept_org_code, csjqdz as initial_addr, jjdwjc as receipt_dept_short_name, gxdwjc as admin_dept_short_name FROM public.icc_t_jjdb</statement>
        <dynamic prepend="where"> 
			<isNotNull prepend="and" isString="0">jjsj &gt;= '{jjsj_begin}'</isNotNull>
			<isNotNull prepend="and" isString="0">jjsj &lt;= '{jjsj_end}'</isNotNull>
			<isNotNull prepend="and" isString="1">xzqhdm = '{receipt_dept_district_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdwdm = '{receipt_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">glzjjdbh = '{merge_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">gllx = '{merge_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjlx = '{called_no_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjlybh = '{alarm_source_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqlyfs = '{source_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">lhlx = '{handle_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjlyh = '{source_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjybh = '{receipt_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjyxm = '{receipt_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjsj = '{receiving_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjsj = '{received_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjwcsj = '{first_submit_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjdh = '{caller_no}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjdhyhm = '{caller_user_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjdhyhdz = '{caller_addr}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjrmc = '{caller_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjrxbdm = '{caller_gender}'</isNotNull>
			<isNotNull prepend="and" isString="1">lxdh = '{contact_no}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjrzjdm = '{caller_id_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjrzjhm = '{caller_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjdz = '{alarm_addr}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqdz = '{addr}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjnr = '{content}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxdwdm = '{admin_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqlbdm = '{first_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqlxdm = '{second_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqxldm = '{third_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqzldm = '{fourth_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">tzdbh = '{symbol_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">zars = '{erpetrators_number}'</isNotNull>
			<isNotNull prepend="and" isString="1">ywcwq = '{is_armed}'</isNotNull>
			<isNotNull prepend="and" isString="1">ywwxwz = '{is_hazardous_substances}'</isNotNull>
			<isNotNull prepend="and" isString="1">ywbzxl = '{is_explosion_or_leakage}'</isNotNull>
			<isNotNull prepend="and" isString="1">bkryqksm = '{desc_of_trapped}'</isNotNull>
			<isNotNull prepend="and" isString="1">ssryqksm = '{desc_of_injured}'</isNotNull>
			<isNotNull prepend="and" isString="1">swryqksm = '{desc_of_dead}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfswybj = '{is_foreign_language}'</isNotNull>
			<isNotNull prepend="and" isString="0">bjrxzb = '{longitude}'</isNotNull>
			<isNotNull prepend="and" isString="0">bjryzb = '{latitude}'</isNotNull>
			<isNotNull prepend="and" isString="0">fxdwjd = '{manual_longitude}'</isNotNull>
			<isNotNull prepend="and" isString="0">fxdwwd = '{manual_latitude}'</isNotNull>
			<isNotNull prepend="and" isString="1">bcjjnr = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqdjdm = '{level}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqclztdm = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="1">yjjydjdm = '{emergency_rescue_level}'</isNotNull>
			<isNotNull prepend="and" isString="1">sjchpzldm = '{vehicle_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">sjcph = '{vehicle_no}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfswhcl = '{is_hazardous_vehicle}'</isNotNull>
			<isNotNull prepend="and" isString="0">rksj = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">gxsj = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqbq = '{label}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfbm = '{is_privacy}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjfs = '{receipt_srv_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxdwmc = '{admin_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxdwdmbs = '{admin_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdwmc = '{receipt_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdwdmbs = '{receipt_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">wxbs = '{is_invalid}'</isNotNull>
			<isNotNull prepend="and" isString="1">dqywzt = '{business_status}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjxwh = '{receipt_seatno}'</isNotNull>
			<isNotNull prepend="and" isString="1">hbbs = '{is_merge}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjry = '{create_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxry = '{update_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">hfbs = '{is_visitor}'</isNotNull>
			<isNotNull prepend="and" isString="1">fkbs = '{is_feedback}'</isNotNull>
			<isNotNull prepend="and" isString="1">(scbs is null or scbs != '1')</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>	
	<sql id="select_icc_t_involved_party" operation="select">
        <statement>SELECT jqdsrdbh as id , jjdbh as alarm_id , pjdbh as process_id , fkdbh as feedback_id , bjjqdsrdbm as centre_process_dept_code , bjjjdbm as centre_alarm_dept_code , bjpjdbm as centre_process_id , bjfkdbm as centre_feedback_id , xzqhdm as district , xzqhmc as district_name , jqdsrxm as name , xbdm as sex , zjdm as identification_type , zjhm as identification_id , sf as identity , sfzdry as is_focus_pesron , zdrysx as focus_pesron_info , hjxzqh as registered_address_division , hjxz as registered_address , xzxzqh as current_address_division , xzxz as current_address , gzdw as work_unit , zy as occupation , lxdh as contact_number , qtzj as other_certificates , sswpxx as lost_item_information , rksj as create_time , gxsj as update_time , csrq as date_of_birth , szqm as digital_signature , scbs as is_delete , cjzdbs as createteminal , gxzdbs as updateteminal , gj as nationality , mz as nation , whcd as educationlevel , hyzk as marriagestatus , zzmm as politicaloutlook , sfrddb as is_npc_deputy , gjgzry as is_national_staff , cjrzh as createuserid , cjrxm as createusername , cjdw as createuserorgcode , cjdwmc as createuserorgname , gxrzh as updateuserid , gxrxm as updateusername , gxdw as updateuserorgcode , gxdwmc as updateuserorgname  FROM public.icc_t_involved_party</statement>
        <dynamic prepend="where"> 
			<isNotNull prepend="and" isString="0">rksj &gt;= '{jjsj_begin}'</isNotNull>
			<isNotNull prepend="and" isString="0">rksj &lt;= '{jjsj_end}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqdsrdbh = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdbh = '{process_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">fkdbh = '{feedback_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">zjhm = '{identification_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">lxdh = '{contact_number}'</isNotNull>
			<isNotNull prepend="and" isString="1">xzqhmc = '{district_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">hjxzqh = '{registered_address_division}'</isNotNull>
			<isNotNull prepend="and" isString="1">(scbs is null or scbs != '1')</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="insert_icc_t_involved_party" operation="insert">
        <statement>INSERT into public.icc_t_involved_party(jqdsrdbh,jjdbh,pjdbh,fkdbh,bjjqdsrdbm,bjjjdbm,bjpjdbm,bjfkdbm,xzqhdm,xzqhmc,jqdsrxm,xbdm,zjdm,zjhm,sf,sfzdry,zdrysx,hjxzqh,hjxz,xzxzqh,xzxz,gzdw,zy,lxdh,qtzj,sswpxx,rksj,gxsj,csrq,szqm,scbs,cjzdbs,gxzdbs,gj,mz,whcd,hyzk,zzmm,sfrddb,gjgzry,cjrzh,cjrxm,cjdw,cjdwmc,gxrzh,gxrxm,gxdw,gxdwmc ) VALUES</statement>
        <dynamic prepend="">('{id}','{alarm_id}','{process_id}','{feedback_id}','{centre_process_dept_code}','{centre_alarm_dept_code}','{centre_process_id}','{centre_feedback_id}','{district}','{district_name}','{name}','{sex}','{identification_type}','{identification_id}','{identity}','{is_focus_pesron}','{focus_pesron_info}','{registered_address_division}','{registered_address}','{current_address_division}','{current_address}','{work_unit}','{occupation}','{contact_number}','{other_certificates}','{lost_item_information}','{create_time}','{update_time}','{date_of_birth}','{digital_signature}','{is_delete}','{createTeminal}','{updateTeminal}','{nationality}','{nation}','{educationLevel}','{marriageStatus}','{politicalOutlook}','{is_NPC_deputy}','{is_national_staff}','{createUserId}','{createUserName}','{createUserOrgCode}','{createUserOrgName}','{updateUserId}','{updateUserName}','{updateUserOrgCode}','{updateUserOrgName}')</dynamic>
    </sql>
	<sql id="update_icc_t_involved_party" operation="update">
        <statement>UPDATE public.icc_t_involved_party</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">jqdsrdbh = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdbh = '{process_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">fkdbh = '{feedback_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjjqdsrdbm = '{centre_process_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjjjdbm = '{centre_alarm_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjpjdbm = '{centre_process_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjfkdbm = '{centre_feedback_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">xzqhdm = '{district}'</isNotNull>
			<isNotNull prepend="and" isString="1">xzqhmc = '{district_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqdsrxm = '{name}'</isNotNull>
			<isNotNull prepend="and" isString="1">xbdm = '{sex}'</isNotNull>
			<isNotNull prepend="and" isString="1">zjdm = '{identification_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">zjhm = '{identification_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">sf = '{identity}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfzdry = '{is_focus_pesron}'</isNotNull>
			<isNotNull prepend="and" isString="1">zdrysx = '{focus_pesron_info}'</isNotNull>
			<isNotNull prepend="and" isString="1">hjxzqh = '{registered_address_division}'</isNotNull>
			<isNotNull prepend="and" isString="1">hjxz = '{registered_address}'</isNotNull>
			<isNotNull prepend="and" isString="1">xzxzqh = '{current_address_division}'</isNotNull>
			<isNotNull prepend="and" isString="1">xzxz = '{current_address}'</isNotNull>
			<isNotNull prepend="and" isString="1">gzdw = '{work_unit}'</isNotNull>
			<isNotNull prepend="and" isString="1">zy = '{occupation}'</isNotNull>
			<isNotNull prepend="and" isString="1">lxdh = '{contact_number}'</isNotNull>
			<isNotNull prepend="and" isString="1">qtzj = '{other_certificates}'</isNotNull>
			<isNotNull prepend="and" isString="1">sswpxx = '{lost_item_information}'</isNotNull>
			<isNotNull prepend="and" isString="1">rksj = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxsj = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">csrq = '{date_of_birth}'</isNotNull>
			<isNotNull prepend="and" isString="1">szqm = '{digital_signature}'</isNotNull>
			<isNotNull prepend="and" isString="1">scbs = '{is_delete}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjzdbs = '{createTeminal}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxzdbs = '{updateTeminal}'</isNotNull>
			<isNotNull prepend="and" isString="1">gj = '{nationality}'</isNotNull>
			<isNotNull prepend="and" isString="1">mz = '{nation}'</isNotNull>
			<isNotNull prepend="and" isString="1">whcd = '{educationLevel}'</isNotNull>
			<isNotNull prepend="and" isString="1">hyzk = '{marriageStatus}'</isNotNull>
			<isNotNull prepend="and" isString="1">zzmm = '{politicalOutlook}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfrddb = '{is_NPC_deputy}'</isNotNull>
			<isNotNull prepend="and" isString="1">gjgzry = '{is_national_staff}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjrzh = '{createUserId}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjrxm = '{createUserName}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdw = '{createUserOrgCode}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwmc = '{createUserOrgName}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxrzh = '{updateUserId}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxrxm = '{updateUserName}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxdw = '{updateUserOrgCode}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxdwmc = '{updateUserOrgName}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_similar_alarm" operation="select">
        <statement>SELECT xzqhdm as receipt_dept_district_code, jjdwdm as receipt_dept_code, jjdbh as id, glzjjdbh as merge_id,gllx as merge_type,jjlx as called_no_type, jqlyfs as source_type, lhlx as handle_type, jjlyh as source_id, jjybh as receipt_code, jjyxm as receipt_name, bjsj as receiving_time, jjsj as received_time,jjwcsj as first_submit_time,bjdh as caller_no,bjdhyhm as caller_user_name,bjdhyhdz as caller_addr,bjrmc as caller_name,bjrxbdm as caller_gender,lxdh as contact_no,bjrzjdm as caller_id_type,bjrzjhm as caller_id, bjdz as alarm_addr, jqdz as addr,bjnr as content, gxdwdm as admin_dept_code,jqlbdm as first_type, jqlxdm as second_type,  jqxldm as third_type,jqzldm as fourth_type,tzdbh as symbol_code, zars as erpetrators_number, ywcwq as is_armed,ywwxwz as is_hazardous_substances,ywbzxl as is_explosion_or_leakage,bkryqksm as desc_of_trapped,ssryqksm as desc_of_injured,swryqksm as desc_of_dead,sfswybj as is_foreign_language,bjrxzb as longitude,bjryzb as latitude,fxdwjd as manual_longitude,fxdwwd as manual_latitude,bcjjnr as remark,jqdjdm as level,jqclztdm as state,yjjydjdm as emergency_rescue_level,sjchpzldm as vehicle_type,sjcph as vehicle_no,sfswhcl as is_hazardous_vehicle,rksj as create_time,gxsj as update_time,jqbq as label,sfbm as is_privacy,jjfs as receipt_srv_name,gxdwmc as admin_dept_name,gxdwdmbs as admin_dept_org_code,jjdwmc as receipt_dept_name,jjdwdmbs as receipt_dept_org_code,scbs as is_delete,wxbs as is_invalid,dqywzt as business_status,jjxwh as receipt_seatno,hbbs as is_merge,cjry as create_user,gxry as update_user,hfbs as is_visitor,fkbs as is_feedback,ybjxxyz as is_sameforbackground,tbcjbs as is_processflagsynchronized,tzhgxdwdm as jurisdictional_orgcode,tzhgxdwmc as jurisdictional_orgname,tzhgxdwdmbs as jurisdictional_orgidentifier,sftsjz as had_push,sfja as is_over FROM public.icc_t_jjdb</statement>
        <dynamic prepend="where"> 
			<isNotNull prepend="and" isString="1">jjsj is not null and jjsj >= '{receiving_time}' and jjsj &lt;= '{cur_time}'</isNotNull>
			<isNotNull prepend="or" isString="1">(jjsj is not null and jjsj >= '{start_time}' and jjsj &lt;= '{cur_time}' and bjdh = '{telhotline}')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({like_condition})</isNotNull>
			<isNotNull prepend="and" isString="1">(scbs is null or scbs != '1')</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	<sql id="insert_icc_t_jjdb" operation="insert">
        <statement>INSERT into public.icc_t_jjdb(xzqhdm,jjdwdm,jjdbh,glzjjdbh,gllx,jjlx,jqlyfs,lhlx,jjlyh,jjybh,jjyxm,bjsj,jjsj,jjwcsj,bjdh,bjdhyhm,bjdhyhdz,bjrmc,bjrxbdm,lxdh,bjrzjdm,bjrzjhm,bjdz,jqdz,bjnr,gxdwdm,jqlbdm,jqlxdm,jqxldm,jqzldm,tzdbh,zars,ywcwq,ywwxwz,ywbzxl,bkryqksm,ssryqksm,swryqksm,sfswybj,bjrxzb,bjryzb,fxdwjd,fxdwwd,bcjjnr,jqdjdm,jqclztdm,yjjydjdm,sjchpzldm,sjcph,sfswhcl,rksj,gxsj,jqbq,sfbm,jjfs,gxdwmc,gxdwdmbs,jjdwmc,jjdwdmbs,scbs,wxbs,dqywzt,jjxwh,hbbs,cjry,gxry,hfbs,fkbs,ybjxxyz,tbcjbs,tzhgxdwdm,tzhgxdwmc,tzhgxdwdmbs,sftsjz,sfja,cjzdbs,gxzdbs,jjlylx,jjlybh, bjjjdbm, bjglzjjdbm, xzqhmc, jcjxtjsdwdm, jcjxtjsdwmc, shlddwdm, sfyqs, jasj, csjqlbdm, csjqlxdm,csjqxldm, csjqzldm, csgxdwdm, csgxdwmc, csgxdwdmbs, csjqdz, jjdwjc, gxdwjc ) VALUES</statement>
        <dynamic prepend="">('{receipt_dept_district_code}','{receipt_dept_code}','{id}','{merge_id}','{merge_type}','{called_no_type}','{source_type}','{handle_type}','{source_id}','{receipt_code}','{receipt_name}', '{receiving_time}','{received_time}', '{first_submit_time}','{caller_no}','{caller_user_name}','{caller_addr}', '{caller_name}','{caller_gender}','{contact_no}', '{caller_id_type}','{caller_id}', '{alarm_addr}','{addr}','{content}', '{admin_dept_code}', '{first_type}', '{second_type}','{third_type}','{fourth_type}', '{symbol_code}','{erpetrators_number}', '{is_armed}', '{is_hazardous_substances}','{is_explosion_or_leakage}', '{desc_of_trapped}', '{desc_of_injured}', '{desc_of_dead}', '{is_foreign_language}', '{longitude}', '{latitude}', '{manual_longitude}','{manual_latitude}', '{remark}','{level}','{state}', '{emergency_rescue_level}', '{vehicle_type}', '{vehicle_no}', '{is_hazardous_vehicle}', '{create_time}', '{update_time}', '{label}','{is_privacy}',  '{receipt_srv_name}', '{admin_dept_name}', '{admin_dept_org_code}', '{receipt_dept_name}',  '{receipt_dept_org_code}', '{is_delete}','{is_invalid}','{business_status}','{receipt_seatno}', '{is_merge}','{create_user}','{update_user}','{is_visitor}','{is_feedback}' ,'{ybjxxyz}','{tbcjbs}','{jurisdictional_orgcode}','{jurisdictional_orgname}','{jurisdictional_orgidentifier}','{had_push}','{is_over}','{createTeminal}','{updateTeminal}','{alarm_source_type}','{alarm_source_id}', '{centre_dept_code}', '{centre_relation_dept_code}', '{receipt_dept_district_name}', '{develop_dept_code}', '{develop_dept_name}', '{linked_dispatch_code}', '{is_signed}', '{over_time}', '{initial_first_type}', '{initial_second_type}', '{initial_third_type}', '{initial_fourth_type}', '{initial_admin_dept_code}', '{initial_admin_dept_name}', '{initial_admin_dept_org_code}', '{initial_addr}', '{receipt_dept_short_name}', '{admin_dept_short_name}')</dynamic>
    </sql>
	<sql id="insert_icc_t_jjdb_book" operation="insert">
        <statement>INSERT into public.icc_t_jjdb_book(guid, xzqhdm,jjdwdm,jjdbh,glzjjdbh,gllx,jjlx,jqlyfs,lhlx,jjlyh,jjybh,jjyxm,bjsj,jjsj,jjwcsj,bjdh,bjdhyhm,bjdhyhdz,bjrmc,bjrxbdm,lxdh,bjrzjdm,bjrzjhm,bjdz,jqdz,bjnr,gxdwdm,jqlbdm,jqlxdm,jqxldm,jqzldm,tzdbh,zars,ywcwq,ywwxwz,ywbzxl,bkryqksm,ssryqksm,swryqksm,sfswybj,bjrxzb,bjryzb,fxdwjd,fxdwwd,bcjjnr,jqdjdm,jqclztdm,yjjydjdm,sjchpzldm,sjcph,sfswhcl,rksj,gxsj,jqbq,sfbm,jjfs,gxdwmc,gxdwdmbs,jjdwmc,jjdwdmbs,scbs,wxbs,dqywzt,jjxwh,hbbs,cjry,gxry,hfbs,fkbs, flag) VALUES</statement>
        <dynamic prepend="">('{guid}','{receipt_dept_district_code}','{receipt_dept_code}','{id}','{merge_id}','{merge_type}','{called_no_type}','{source_type}','{handle_type}','{source_id}','{receipt_code}','{receipt_name}', '{receiving_time}','{received_time}', '{first_submit_time}','{caller_no}','{caller_user_name}','{caller_addr}', '{caller_name}','{caller_gender}','{contact_no}', '{caller_id_type}','{caller_id}', '{alarm_addr}','{addr}','{content}', '{admin_dept_code}', '{first_type}', '{second_type}','{third_type}','{fourth_type}', '{symbol_code}','{erpetrators_number}', '{is_armed}', '{is_hazardous_substances}','{is_explosion_or_leakage}', '{desc_of_trapped}', '{desc_of_injured}', '{desc_of_dead}', '{is_foreign_language}', '{longitude}', '{latitude}', '{manual_longitude}','{manual_latitude}', '{remark}','{level}','{state}', '{emergency_rescue_level}', '{vehicle_type}', '{vehicle_no}', '{is_hazardous_vehicle}', '{create_time}', '{update_time}', '{label}','{is_privacy}',  '{receipt_srv_name}', '{admin_dept_name}', '{admin_dept_org_code}', '{receipt_dept_name}',  '{receipt_dept_org_code}', '{is_delete}','{is_invalid}','{business_status}','{receipt_seatno}', '{is_merge}','{create_user}','{update_user}','{is_visitor}','{is_feedback}','{flag}' )</dynamic>
    </sql>
	<sql id="update_icc_t_jjdb" operation="update">
        <statement>UPDATE public.icc_t_jjdb</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="0">jjsj &gt;= '{jjsj_begin}'</isNotNull>
			<isNotNull prepend="and" isString="0">jjsj &lt;= '{jjsj_end}'</isNotNull>
            <isNotNull prepend="and" isString="1">xzqhdm = '{receipt_dept_district_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdwdm = '{receipt_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">glzjjdbh = '{merge_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">gllx = '{merge_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjlx = '{called_no_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjlylx  = '{alarm_source_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjlybh = '{alarm_source_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjjjdbm = '{centre_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjglzjjdbm = '{centre_relation_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">xzqhmc = '{receipt_dept_district_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">jcjxtjsdwdm = '{develop_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jcjxtjsdwmc = '{develop_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">shlddwdm = '{linked_dispatch_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfyqs = '{is_signed}'</isNotNull>
			<isNotNull prepend="and" isString="1">jasj = '{over_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">csjqlbdm = '{initial_first_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">csjqlxdm = '{initial_second_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">csjqxldm = '{initial_third_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">csjqzldm = '{initial_fourth_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">csgxdwdm = '{initial_admin_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">csgxdwmc = '{initial_admin_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">csgxdwdmbs = '{initial_admin_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">csjqdz = '{initial_addr}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdwjc = '{receipt_dept_short_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxdwjc = '{admin_dept_short_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqlyfs = '{source_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">lhlx = '{handle_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjlyh = '{source_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjybh = '{receipt_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjyxm = '{receipt_name}'</isNotNull>
			<isNotNull prepend="and" isString="0">bjsj = '{receiving_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">jjsj = '{received_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">jjwcsj = '{first_submit_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjdh = '{caller_no}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjdhyhm = '{caller_user_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjdhyhdz = '{caller_addr}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjrmc = '{caller_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjrxbdm = '{caller_gender}'</isNotNull>
			<isNotNull prepend="and" isString="1">lxdh = '{contact_no}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjrzjdm = '{caller_id_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjrzjhm = '{caller_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjdz = '{alarm_addr}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqdz = '{addr}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjnr = '{content}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxdwdm = '{admin_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqlbdm = '{first_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqlxdm = '{second_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqxldm = '{third_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqzldm = '{fourth_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">tzdbh = '{symbol_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">zars = '{erpetrators_number}'</isNotNull>
			<isNotNull prepend="and" isString="1">ywcwq = '{is_armed}'</isNotNull>
			<isNotNull prepend="and" isString="1">ywwxwz = '{is_hazardous_substances}'</isNotNull>
			<isNotNull prepend="and" isString="1">ywbzxl = '{is_explosion_or_leakage}'</isNotNull>
			<isNotNull prepend="and" isString="1">bkryqksm = '{desc_of_trapped}'</isNotNull>
			<isNotNull prepend="and" isString="1">ssryqksm = '{desc_of_injured}'</isNotNull>
			<isNotNull prepend="and" isString="1">swryqksm = '{desc_of_dead}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfswybj = '{is_foreign_language}'</isNotNull>
			<isNotNull prepend="and" isString="0">bjrxzb = '{longitude}'</isNotNull>
			<isNotNull prepend="and" isString="0">bjryzb = '{latitude}'</isNotNull>
			<isNotNull prepend="and" isString="0">fxdwjd = '{manual_longitude}'</isNotNull>
			<isNotNull prepend="and" isString="0">fxdwwd = '{manual_latitude}'</isNotNull>
			<isNotNull prepend="and" isString="1">bcjjnr = '{remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqdjdm = '{level}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqclztdm = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="1">yjjydjdm = '{emergency_rescue_level}'</isNotNull>
			<isNotNull prepend="and" isString="1">sjchpzldm = '{vehicle_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">sjcph = '{vehicle_no}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfswhcl = '{is_hazardous_vehicle}'</isNotNull>
			<isNotNull prepend="and" isString="0">rksj = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">gxsj = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqbq = '{label}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfbm = '{is_privacy}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjfs = '{receipt_srv_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxdwmc = '{admin_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxdwdmbs = '{admin_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdwmc = '{receipt_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdwdmbs = '{receipt_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">scbs= '{is_delete}'</isNotNull>
			<isNotNull prepend="and" isString="1">wxbs = '{is_invalid}'</isNotNull>
			<isNotNull prepend="and" isString="1">dqywzt = '{business_status}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjxwh = '{receipt_seatno}'</isNotNull>
			<isNotNull prepend="and" isString="1">hbbs = '{is_merge}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjry = '{create_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxry = '{update_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">hfbs = '{is_visitor}'</isNotNull>
			<isNotNull prepend="and" isString="1">fkbs = '{is_feedback}'</isNotNull>
			<isNotNull prepend="and" isString="1">ybjxxyz = '{ybjxxyz}'</isNotNull>
			<isNotNull prepend="and" isString="1">tbcjbs = '{tbcjbs}'</isNotNull>
			<isNotNull prepend="and" isString="1">tzhgxdwdm = '{jurisdictional_orgcode}'</isNotNull>
			<isNotNull prepend="and" isString="1">tzhgxdwmc = '{jurisdictional_orgname}'</isNotNull>
			<isNotNull prepend="and" isString="1">tzhgxdwdmbs = '{jurisdictional_orgidentifier}'</isNotNull>
			<isNotNull prepend="and" isString="1">sftsjz = '{had_push}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfja = '{is_over}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjzdbs = '{createTeminal}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxzdbs = '{updateTeminal}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_today_jjdb" operation="select">
		<statement isNotTrans="1">select xzqhdm as receipt_dept_district_code, jjdwdm as receipt_dept_code, jjdbh as id, glzjjdbh as merge_id, gllx as merge_type,jjlx as called_no_type, jqlyfs as source_type, lhlx as handle_type, jjlyh as source_id, jjybh as receipt_code, jjyxm as receipt_name, bjsj as receiving_time, jjsj as received_time,jjwcsj as first_submit_time,bjdh as caller_no,bjdhyhm as caller_user_name,bjdhyhdz as caller_addr,bjrmc as caller_name,bjrxbdm as caller_gender,lxdh as contact_no,bjrzjdm as caller_id_type,bjrzjhm as caller_id, bjdz as alarm_addr, jqdz as addr,bjnr as content, gxdwdm as admin_dept_code,jqlbdm as first_type, jqlxdm as second_type,  jqxldm as third_type,jqzldm as fourth_type,tzdbh as symbol_code, zars as erpetrators_number, ywcwq as is_armed,ywwxwz as is_hazardous_substances,ywbzxl as is_explosion_or_leakage,bkryqksm as desc_of_trapped,ssryqksm as desc_of_injured,swryqksm as desc_of_dead,sfswybj as is_foreign_language,bjrxzb as longitude,bjryzb as latitude,fxdwjd as manual_longitude,fxdwwd as manual_latitude,bcjjnr as remark,jqdjdm as level,jqclztdm as state,yjjydjdm as emergency_rescue_level,sjchpzldm as vehicle_type,sjcph as vehicle_no,sfswhcl as is_hazardous_vehicle,rksj as create_time,gxsj as update_time,jqbq as label,sfbm as is_privacy,jjfs as receipt_srv_name,gxdwmc as admin_dept_name,gxdwdmbs as admin_dept_org_code,jjdwmc as receipt_dept_name,jjdwdmbs as receipt_dept_org_code,scbs as is_delete,wxbs as is_invalid,dqywzt as business_status,jjxwh as receipt_seatno,hbbs as is_merge,cjry as create_user,gxry as update_user,hfbs as is_visitor,fkbs as is_feedback,sfyqs as is_signed,ybjxxyz as is_sameforbackground,tbcjbs as is_processflagsynchronized,tzhgxdwdm as jurisdictional_orgcode,tzhgxdwmc as jurisdictional_orgname,tzhgxdwdmbs as jurisdictional_orgidentifier,sftsjz as had_push,sfja as is_over, case when wxbs ='1' then '08' else (case when jqclztdm='04' then '065' else jqclztdm end) end as sortdm from public.icc_t_jjdb</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">jjsj is not null and jjsj &gt;= '{interval}' and jqclztdm &lt;&gt; '00'</isNotNull>
            <isNotNull prepend="and" isString="1">jjdwdm in (select code from public.icc_view_dept_recursive where path like '%{in_receipt_dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">jjdwdm = '{receipt_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqclztdm = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjlx = '{called_no_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjybh = '{receipt_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">wxbs = '{is_invalid}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfja = '{is_over}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqlbdm != '{first_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">(jjdbh like '%{query_key}%' or bjnr like '%{query_key}%' or jqdz like '%{query_key}%')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({level})</isNotNull>	
			<isNotNull prepend="and" isString="1">(scbs is null or scbs != '1')</isNotNull>
			<isNotNull prepend="and" isString="1">jjxwh = '{receipt_seatno}'</isNotNull>
			<isNotNull prepend="and" isString="1">(bjdh like '%{caller_key}%' or bjrzjhm like '%{caller_key}%' or bjrmc like '%{caller_key}%' or lxdh like '%{caller_key}%')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({master_point})</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh in (select alarm_id from icc_t_alarm_attention where attention_staff='{staff_code}')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({receiver_code_condition})</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({is_signed})</isNotNull>
        </dynamic>
		<orderby prepend="order by">
            <isNotNull>{sort_parm}</isNotNull>
        </orderby>
		<pagedivided prepend="limit">
            <isNotNull prepend="limit">{page_size}</isNotNull>
            <isNotNull prepend="offset">{page_size}*({page_index}-1)</isNotNull>
        </pagedivided>
	</sql>
	
	<sql id="select_type_name_jqgjz" operation ="select">
		<statement>select type_value from icc_t_major_alarm_config where type_name='jqgjz'</statement>
	</sql>
	
	<sql id="select_today_jjdb_count" operation="select">
		<statement>select count(1) num from public.icc_t_jjdb</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">jjsj is not null and jjsj &gt;= '{interval}' and jqclztdm &lt;&gt; '00'</isNotNull>
            <isNotNull prepend="and" isString="1">jjdwdm in (select code from public.icc_view_dept_recursive where path like '%{in_receipt_dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">jjdwdm = '{receipt_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqclztdm = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjlx = '{called_no_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjybh = '{receipt_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">wxbs = '{is_invalid}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfja = '{is_over}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqlbdm != '{first_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">(jjdbh like '%{query_key}%' or bjnr like '%{query_key}%' or jqdz like '%{query_key}%')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({level})</isNotNull>	
			<isNotNull prepend="and" isString="1">(scbs is null or scbs != '1')</isNotNull>	
			<isNotNull prepend="and" isString="1">jjxwh = '{receipt_seatno}'</isNotNull>
			<isNotNull prepend="and" isString="1">(bjdh like '%{caller_key}%' or bjrzjhm like '%{caller_key}%' or bjrmc like '%{caller_key}%' or lxdh like '%{caller_key}%')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({master_point})</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh in (select alarm_id from icc_t_alarm_attention where attention_staff='{staff_code}')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({receiver_code_condition})</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({is_signed})</isNotNull>
        </dynamic>
	</sql>
	<sql id="select_today_jjdb_up_attention" operation="select">
		<statement isNotTrans="1">select xzqhdm as receipt_dept_district_code, jjdwjc as receipt_dept_short_name, gxdwjc as admin_dept_short_name, jjdwdm as receipt_dept_code, jjdbh as id, glzjjdbh as merge_id, gllx as 
			merge_type,jjlx as called_no_type, jqlyfs as source_type, lhlx as handle_type, jjlyh as source_id, jjybh as receipt_code, 
			jjyxm as receipt_name, bjsj as receiving_time, jjsj as received_time,jjwcsj as first_submit_time,bjdh as caller_no,bjdhyhm 
			as caller_user_name,bjdhyhdz as caller_addr,bjrmc as caller_name,bjrxbdm as caller_gender,lxdh as contact_no,bjrzjdm as 
			caller_id_type,bjrzjhm as caller_id, bjdz as alarm_addr, jqdz as addr,bjnr as content, gxdwdm as admin_dept_code,jqlbdm as 
			first_type, jqlxdm as second_type,  jqxldm as third_type,jqzldm as fourth_type,tzdbh as symbol_code, zars as 
			erpetrators_number, ywcwq as is_armed,ywwxwz as is_hazardous_substances,ywbzxl as is_explosion_or_leakage,bkryqksm as 
			desc_of_trapped,ssryqksm as desc_of_injured,swryqksm as desc_of_dead,sfswybj as is_foreign_language,bjrxzb as longitude,
			bjryzb as latitude,fxdwjd as manual_longitude,fxdwwd as manual_latitude,bcjjnr as remark,jqdjdm as level,jqclztdm as state,
			yjjydjdm as emergency_rescue_level,sjchpzldm as vehicle_type,sjcph as vehicle_no,sfswhcl as is_hazardous_vehicle,rksj as 
			create_time,gxsj as update_time,jqbq as label,sfbm as is_privacy,jjfs as receipt_srv_name,gxdwmc as admin_dept_name,
			gxdwdmbs as admin_dept_org_code,jjdwmc as receipt_dept_name,jjdwdmbs as receipt_dept_org_code,scbs as is_delete,wxbs as 
			is_invalid,dqywzt as business_status,jjxwh as receipt_seatno,hbbs as is_merge,cjry as create_user,gxry as update_user,hfbs
			as is_visitor,fkbs as is_feedback,ybjxxyz as is_sameforbackground,tbcjbs as is_processflagsynchronized,tzhgxdwdm as 
			jurisdictional_orgcode,tzhgxdwmc as jurisdictional_orgname, sfyqs as is_signed, tzhgxdwdmbs as jurisdictional_orgidentifier,sftsjz as had_push,
			sfja as is_over, b.alarm_id as att_alarm_id, case when b.attention_staff = '{attention_staff}' then '00' when wxbs ='1' then '08' when sfja='1' then '074' when jqclztdm='04' then '075' else jqclztdm end as sortdm from  public.icc_t_jjdb as a left join (select * from icc_t_alarm_attention where attention_staff = '{staff_code}') as b on a.jjdbh=b.alarm_id where {query_condition} order by att_alarm_id desc nulls last,{sort_parm} limit {page_size} offset {page_size}*({page_index}-1);
		</statement>			
	</sql>
	<sql id="select_today_jjdb_count_up_attention" operation="select">
		<statement isNotTrans="1">
		select a.jjdbh as id from public.icc_t_jjdb  as a left join icc_t_alarm_attention as b  on a.jjdbh=b.alarm_id and 
b.attention_staff='{attention_staff}' where b.attention_staff != '' and b.attention_staff is not null and {query_condition} 
UNION 
select a.jjdbh as id from public.icc_t_jjdb as a left join icc_t_alarm_attention as b on a.jjdbh=b.alarm_id
where {query_condition};
		</statement>		
	</sql>
	<sql id="select_icc_t_jjdb_and_pjdb" operation="select">
        <statement>
			SELECT 
			P.cjdwdm As process_dept_code,
			COUNT(1) OVER (PARTITION by P.xzqhdm)
			FROM "icc_t_alarm_process" P left join icc_t_jjdb A on A.jjdbh = P.jjdbh
			where P.pdqssj is null and P.pjsj >  ('{timefirst_now}')
			and ('{timesecond_now}') > P.pjsj
			and P.jqclztdm != 'DIC020071' 
			and P.jqclztdm != 'DIC020073'
		</statement>
    </sql>
	<sql id="select_icc_t_jjdb_and_pjdb_ex" operation="select">
        <statement>
			SELECT A.jjdbh AS alarmid,
			A.jjlx AS callednotype,
			A.bjnr AS content,
			P.pjdbh AS processid,
			P.pjsj As createtime,
			P.cjdwdm As processdeptcode,
			P.cjdwmc As processdeptname,
			P.pjyxm As processdispatchname,
			P.pjybh As processdispatchcode,
			P.pjdwdm As processdispatchdeptcode,
			P.pjdwmc As processdispatchdeptname,
			count(P.pjdbh) OVER()
			FROM "icc_t_pjdb" P left join icc_t_jjdb A on A.jjdbh = P.jjdbh
			where P.pdqssj is null and P.pjsj >  ('{timefirst_now}')
			and ('{timesecond_now}') > P.pjsj
			and P.pjdwdm = '{dept_code}'
			and P.jqclztdm != 'DIC020071'
			and P.jqclztdm != 'DIC020073'
			limit {pagesize} offset {offset}
		</statement>
    </sql>
		<sql id="search_statistic_analysis_info" operation="select">
		<statement>
		WITH TEMP AS(
			SELECT 
				A.client_name,
				A.client_id,
				B.name AS dept_name,
				A.on_time AS online_time,
				A.off_time AS offline_time,
				ROUND(EXTRACT ( EPOCH FROM CASE WHEN A.off_time IS NULL THEN now() ELSE A.off_time END - A.on_time )) AS online_time_len,
				ROUND(EXTRACT(EPOCH FROM (SELECT LEAST(A.off_time,NOW())-A.on_time-SUM(least(B.logout_time,LEAST(A.off_time,now())) - B.login_time) FROM icc_t_client_in_out B where B.login_time BETWEEN A.on_time AND CASE WHEN A.off_time is null THEN now() ELSE A.off_time END AND B.client_id=A.client_id AND B.client_name = A.client_name ))) AS offseat_time_len,
				COUNT (DISTINCT CASE WHEN C.hangup_type = 'release' THEN C.callref_id ELSE NULL END) AS release_call_num,
				COUNT(DISTINCT C.callref_id ) AS total_alarm_num,
				COUNT ( 1 ) OVER () AS COUNT
			FROM
				PUBLIC.icc_t_client_on_off A LEFT JOIN icc_t_callevent C ON ((C.called_id = A.client_id AND C.call_direction = 'in') OR (C.caller_id = A.client_id AND C.call_direction='out')) AND C.ring_time BETWEEN A.on_time AND CASE WHEN A.off_time IS NULL THEN now() ELSE A.off_time END
				LEFT JOIN icc_t_dept B ON B.code = A.dept_code
        </statement>
		<dynamic prepend="	WHERE">
			<isNotNull isString="1" prepend="and">A.on_time &gt;= '{begin_time}'</isNotNull>
			<isNotNull isString="1" prepend="and">A.on_time &lt;= '{end_time}'</isNotNull>
			<isNotNull isString="1" prepend="and">(A.off_time &gt;= A.on_time or A.off_time is null)</isNotNull>
			<isNotNull isString="1" prepend="and">A.client_id like '%{client_id}%'</isNotNull>
			<isNotNull isString="1" prepend="and">A.client_name = '{client_name}'</isNotNull>
			<isNotNull isString="1" prepend="and">A.dept_code = any (SELECT dept.code FROM icc_view_dept_recursive dept WHERE dept."path" like '%{cur_dept_code}%')</isNotNull>
		</dynamic>
		<dynamic prepend="GROUP BY">
			<isNotNull isString="1" prepend="">A.client_name,A.client_id,A.on_time,A.off_time,B.name</isNotNull>
		</dynamic>
		<dynamic prepend="ORDER BY">
			<isNotNull>A.on_time DESC</isNotNull>
		</dynamic>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
		<dynamic prepend="">)
       SELECT TEMP.*,COUNT ( alarm.ID ) AS alarm_num
        FROM
            TEMP LEFT JOIN icc_t_jjdb alarm ON alarm.jjxwh = TEMP.client_id AND alarm.bjsj BETWEEN TEMP.online_time AND CASE WHEN TEMP.offline_time IS NULL THEN now() ELSE TEMP.offline_time END					
        GROUP BY
            TEMP.client_name,
            TEMP.client_id,
			TEMP.dept_name,
            TEMP.online_time,
            TEMP.offline_time,
            TEMP.online_time_len,
            TEMP.offseat_time_len,
            TEMP.release_call_num,
            TEMP.total_alarm_num,			
			TEMP.count
        </dynamic>
		<dynamic prepend="ORDER BY">
			<isNotNull>TEMP.online_time DESC</isNotNull>
		</dynamic>		
	</sql>
	<sql id="select_icc_t_jjdb_info" operation="select">
        <statement>SELECT A.jjdbh AS alarmid,P.pjdbh AS processid FROM public.icc_t_jjdb A LEFT JOIN public.icc_t_pjdb P ON P.jjdbh = A.jjdbh where A.bjnr = '{content}'</statement>
    </sql>
	<sql id="check_admin_dept_by_alarm" operation="select">
		<statement>select position((select path from icc_view_dept_recursive where code =(select jjdwdm from icc_t_jjdb where jjdbh = '{alarm_id}') and jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}') in (select path from icc_view_dept_recursive where code = '{new_admin_dept_code}')) as find_result</statement>
	</sql>
	<sql id="select_icc_t_jjdb_depts_by_time" operation="select">
        <statement>select distinct(jjdwdm) as dept_code, jjdwmc as dept_name from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') </statement>        
    </sql>
	<sql id="select_icc_t_jjdb_count_by_deptcode_and_time" operation="select">
        <statement>select count(1) as count from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and jjdwdm = '{dept_code}' and glzjjdbh=''</statement>   
    </sql>
		<sql id="select_icc_t_jjdb_limit_by_time" operation="select">
        <statement>select xzqhdm as receipt_dept_district_code, jjdwdm as receipt_dept_code, jjdbh as id, glzjjdbh as merge_id,gllx as merge_type, jjlx as called_no_type, jqlyfs as source_type, lhlx as handle_type, jjlyh as source_id, jjybh as receipt_code, jjyxm as receipt_name, bjsj as receiving_time, jjsj as received_time,jjwcsj as first_submit_time,bjdh as caller_no,bjdhyhm as caller_user_name,bjdhyhdz as caller_addr,bjrmc as caller_name,bjrxbdm as caller_gender,lxdh as contact_no,bjrzjdm as caller_id_type,bjrzjhm as caller_id, bjdz as alarm_addr, jqdz as addr,bjnr as content, gxdwdm as admin_dept_code,jqlbdm as first_type, jqlxdm as second_type,  jqxldm as third_type,jqzldm as fourth_type,tzdbh as symbol_code, zars as erpetrators_number, ywcwq as is_armed,ywwxwz as is_hazardous_substances,ywbzxl as is_explosion_or_leakage,bkryqksm as desc_of_trapped,ssryqksm as desc_of_injured,swryqksm as desc_of_dead,sfswybj as is_foreign_language,bjrxzb as longitude,bjryzb as latitude,fxdwjd as manual_longitude,fxdwwd as manual_latitude,bcjjnr as remark,jqdjdm as level,jqclztdm as state,yjjydjdm as emergency_rescue_level,sjchpzldm as vehicle_type,sjcph as vehicle_no,sfswhcl as is_hazardous_vehicle,rksj as create_time,gxsj as update_time,jqbq as label,sfbm as is_privacy,jjfs as receipt_srv_name,gxdwmc as admin_dept_name,gxdwdmbs as admin_dept_org_code,jjdwmc as receipt_dept_name,jjdwdmbs as receipt_dept_org_code,scbs as is_delete,wxbs as is_invalid,dqywzt as business_status,jjxwh as receipt_seatno,hbbs as is_merge,cjry as create_user,gxry as update_user,hfbs as is_visitor,fkbs as is_feedback,sftsjz as had_push,sfja as is_over,ybjxxyz as is_sameforbackground,tbcjbs as is_processflagsynchronized from icc_t_jjdb where jqclztdm &gt;= '03' and jqclztdm &lt;= '05' order by bjsj desc limit {limit_count}</statement>        
    </sql>
    <sql id="statistics_auxiliaryreceivealarm_count" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and (jjlyh is null or jjlyh = '');</statement>        
    </sql>
	<sql id="statistics_real_alarm_count" operation="select">
        <statement>select count(1) from icc_t_jjdb where wxbs != '1' and (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and jqlbdm is not null and jqlbdm != '';</statement>        
    </sql>
	<sql id="statistics_process_alarm_count" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and jqclztdm >= '03';</statement>        
    </sql>
	<sql id="statistics_alarm_count_by_first_type" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and jqdjdm = 'DIC017001';</statement>        
    </sql>
	<sql id="statistics_alarm_count_by_second_type" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and jqdjdm = 'DIC017002';</statement>        
    </sql>
	<sql id="statistics_alarm_count_by_third_type" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and jqdjdm = 'DIC017003';</statement>        
    </sql>
	<sql id="statistics_alarm_count_by_fourth_type" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and jqdjdm = 'DIC017004';</statement>        
    </sql>
	<sql id="statistics_alarm_result_processed_count" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and jqclztdm &gt;= '03';</statement>        
    </sql>	
	<sql id="statistics_alarm_result_feekback_count" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and jqclztdm = '05';</statement>        
    </sql>
	<sql id="statistics_alarm_deptinfo" operation="select">
        <statement>SELECT DISTINCT(a.gxdwdm), b.name FROM icc_t_jjdb as a left join icc_t_dept as b on a.gxdwdm=b.code where (a.jjsj &gt;= '{begin_time}' and a.jjsj &lt;= '{end_time}');</statement>        
    </sql>	
	<sql id="statistics_alarm_count_by_Area_and_first_type" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and gxdwdm= '{dept_code}' and jqdjdm = 'DIC017001';</statement>        
    </sql>
	<sql id="statistics_alarm_count_by_Area_and_second_type" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and gxdwdm= '{dept_code}' and jqdjdm = 'DIC017002';</statement>        
    </sql>
	<sql id="statistics_alarm_count_by_Area_and_third_type" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and gxdwdm= '{dept_code}' and jqdjdm = 'DIC017003';</statement>        
    </sql>
	<sql id="statistics_alarm_count_by_Area_and_fourth_type" operation="select">
        <statement>select count(1) from icc_t_jjdb where (jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}') and gxdwdm= '{dept_code}' and jqdjdm = 'DIC017004';</statement>        
    </sql>
	<sql id="statistics_alarm_seatnoinfo" operation="select">
        <statement>SELECT DISTINCT(jjxwh) FROM icc_t_jjdb where jjsj &gt;= '{begin_time}' and jjsj &lt;= '{end_time}';</statement>        
    </sql>
	<sql id="query_dateinfo_when_updatetime_is_update_for_alarmtable" operation="select">
        <statement>select DISTINCT(substring(to_char(rksj,'YYYY-MM-DD HH24:MI:SS') from 1 for 10))  from icc_t_jjdb where (gxsj &gt;= '{begin_time}' and gxsj &lt;= '{end_time}') and (extract(day from gxsj) != extract(day from rksj));</statement>        
    </sql>
	<sql id="query_statistics_receive_alarm_info" operation="select">
        <statement>select aa.admin_dept_code,(select name from icc_view_dept_recursive where code=aa.admin_dept_code) as dept_name ,
(select count(1) as alarmcount from icc_t_jjdb as b  where jqclztdm > '00' and b.jjdwdm=aa.admin_dept_code and (b.jjsj &gt;= '{begin_time}' and b.jjsj &lt;= '{end_time}')),
(select count(1) as processcount from icc_t_pjdb as bb where bb.cjdwdm=aa.admin_dept_code and (bb.jjsj
 &gt;= '{begin_time}' and bb.jjsj
 &lt;= '{end_time}')),
(select count(1) as feedbackcount from icc_t_alarm_feedback as bbb where bbb.feedback_dept_code=aa.admin_dept_code and (bbb.create_time &gt;= '{begin_time}' and bbb.create_time &lt;= '{end_time}')),
(select count(1) as realalarmcount from icc_t_jjdb bbbb where jqclztdm > '00' and bbbb.jjdwdm=aa.admin_dept_code and bbbb.wxbs != '1' and bbbb.jqlbdm is not null and bbbb.jqlbdm != '' and (bbbb.jjsj &gt;= '{begin_time}' and bbbb.jjsj &lt;= '{end_time}')),
(select count(1) as callcount from icc_t_jjdb as bbbbb  where bbbbb.jqclztdm > '00' and bbbbb.jjdwdm=aa.admin_dept_code and (bbbbb.jjsj &gt;= '{begin_time}' and bbbbb.jjsj &lt;= '{end_time}') and (bbbbb.jjlyh != '' and bbbbb.jjlyh is not null))
from (SELECT aaa.jjdwdm as admin_dept_code FROM "icc_t_jjdb" as aaa where (aaa.jjsj &gt;= '{begin_time}' and aaa.jjsj &lt;= '{end_time}') and  (aaa.jjdwdm=any(select code from icc_view_dept_recursive where path like '%{dept_code}%')) UNION SELECT bb.cjdwdm as admin_dept_code FROM "icc_t_pjdb" as bb where (bb.jjsj &gt;= '{begin_time}' and bb.jjsj &lt;= '{end_time}') and  (bb.cjdwdm=any(select code from icc_view_dept_recursive where path like '%{dept_code}%'))) as aa order by aa.admin_dept_code
limit {page_size} offset {page_size}*({page_index}-1);</statement>
    </sql>	
	<sql id="query_statistics_alarm_info_count" operation="select">
        <statement>select count(1) as rcount from (SELECT aa.gxdwdm, aa.jqlbdm, (select value from icc_view_dict_zh_cn where code=first_type) as first_type_name,  (select name from icc_view_dept_recursive where code=aa.admin_dept_code) as dept_name,
(select count(1) as alarmcount from icc_t_jjdb as b  where jqclztdm > '00' and b.gxdwdm=aa.gxdwdm and b.jqlbdm = aa.jqlbdm and (b.jjsj &gt;= '{begin_time}' and b.jjsj &lt;= '{end_time}')),
(select count(1) as processcount from icc_t_jjdb as bb where jqclztdm >= '03' and bb.gxdwdm=aa.gxdwdm and bb.jqlbdm = aa.jqlbdm and (bb.jjsj &gt;= '{begin_time}' and bb.jjsj &lt;= '{end_time}')),
(select count(1) as feedbackcount from icc_t_jjdb as bbb where jqclztdm = '05' and bbb.gxdwdm=aa.gxdwdm and bbb.jqlbdm = aa.jqlbdm and (bbb.jjsj &gt;= '{begin_time}' and bbb.jjsj &lt;= '{end_time}'))
FROM "icc_t_jjdb" as aa where (aa.jjsj &gt;= '{begin_time}' and aa.jjsj &lt;= '{end_time}') and aa.gxdwdm=any(select code from icc_view_dept_recursive where path like '%{dept_code}%') group by aa.gxdwdm,aa.jqlbdm) as tt where tt.alarmcount != 0 or tt.processcount != 0 or tt.feedbackcount != 0 ;</statement>
    </sql>
	<sql id="query_statistics_alarm_info" operation="select">
        <statement>select * from (SELECT aa.gxdwdm, aa.jqlbdm, (select value from icc_view_dict_zh_cn where code=first_type) as first_type_name,  (select name from icc_view_dept_recursive where code=aa.gxdwdm) as dept_name,
(select count(1) as alarmcount from icc_t_jjdb as b  where jqclztdm > '00' and b.gxdwdm=aa.gxdwdm and b.jqlbdm = aa.jqlbdm and (b.jjsj &gt;= '{begin_time}' and b.jjsj &lt;= '{end_time}')),
(select count(1) as processcount from icc_t_jjdb as bb where jqclztdm >= '03' and bb.gxdwdm=aa.gxdwdm and bb.jqlbdm = aa.jqlbdm and (bb.jjsj &gt;= '{begin_time}' and bb.jjsj &lt;= '{end_time}')),
(select count(1) as feedbackcount from icc_t_jjdb as bbb where jqclztdm = '05' and bbb.gxdwdm=aa.gxdwdm and bbb.jqlbdm = aa.jqlbdm and (bbb.jjsj &gt;= '{begin_time}' and bbb.jjsj &lt;= '{end_time}'))
FROM "icc_t_jjdb" as aa where (aa.jjsj &gt;= '{begin_time}' and aa.jjsj &lt;= '{end_time}') and aa.gxdwdm=any(select code from icc_view_dept_recursive where path like '%{dept_code}%') group by aa.gxdwdm,aa.jqlbdm) as tt where tt.alarmcount != 0 or tt.processcount != 0 or tt.feedbackcount != 0 
limit {page_size} offset {page_size}*({page_index}-1);</statement>
    </sql>
	<sql id="query_statistics_alarm_info_count_by_first_type" operation="select">
        <statement>select count(1) as rcount from (SELECT aa.gxdwdm, aa.jqlbdm, (select value from icc_view_dict_zh_cn where code=first_type) as first_type_name,  (select name from icc_view_dept_recursive where code=aa.gxdwdm) as dept_name,
(select count(1) as alarmcount from icc_t_jjdb as b  where jqclztdm > '00' and b.gxdwdm=aa.gxdwdm and b.jqlbdm = aa.jqlbdm and (b.jjsj &gt;= '{begin_time}' and b.jjsj &lt;= '{end_time}')),
(select count(1) as processcount from icc_t_jjdb as bb where jqclztdm >= '03' and bb.gxdwdm=aa.gxdwdm and bb.jqlbdm = aa.jqlbdm and (bb.jjsj &gt;= '{begin_time}' and bb.jjsj &lt;= '{end_time}')),
(select count(1) as feedbackcount from icc_t_jjdb as bbb where jqclztdm = '05' and bbb.gxdwdm=aa.gxdwdm and bbb.jqlbdm = aa.jqlbdm and (bbb.jjsj &gt;= '{begin_time}' and bbb.jjsj &lt;= '{end_time}'))
FROM "icc_t_jjdb" as aa where (aa.jjsj &gt;= '{begin_time}' and aa.jjsj &lt;= '{end_time}') and aa.gxdwdm=any(select code from icc_view_dept_recursive where path like '%{dept_code}%') and aa.jqlbdm='{first_type}' group by aa.gxdwdm,aa.jqlbdm) as tt where tt.alarmcount != 0 or tt.processcount != 0 or tt.feedbackcount != 0 ;</statement>
    </sql>
	<sql id="query_statistics_alarm_info_by_first_type" operation="select">
        <statement>select * from (SELECT aa.gxdwdm, aa.jqlbdm, (select value from icc_view_dict_zh_cn where code=first_type) as first_type_name,  (select name from icc_view_dept_recursive where code=aa.gxdwdm) as dept_name,
(select count(1) as alarmcount from icc_t_jjdb as b  where jqclztdm > '00' and b.gxdwdm=aa.gxdwdm and b.jqlbdm = aa.jqlbdm and (b.jjsj &gt;= '{begin_time}' and b.jjsj &lt;= '{end_time}')),
(select count(1) as processcount from icc_t_jjdb as bb where jqclztdm >= '03' and bb.gxdwdm=aa.gxdwdm and bb.jqlbdm = aa.jqlbdm and (bb.jjsj &gt;= '{begin_time}' and bb.jjsj &lt;= '{end_time}')),
(select count(1) as feedbackcount from icc_t_jjdb as bbb where jqclztdm = '05' and bbb.gxdwdm=aa.gxdwdm and bbb.jqlbdm = aa.jqlbdm and (bbb.jjsj &gt;= '{begin_time}' and bbb.jjsj &lt;= '{end_time}'))
FROM "icc_t_jjdb" as aa where (aa.jjsj &gt;= '{begin_time}' and aa.jjsj &lt;= '{end_time}') and aa.gxdwdm=any(select code from icc_view_dept_recursive where path like '%{dept_code}%') and aa.jqlbdm='{first_type}' group by aa.gxdwdm,aa.jqlbdm) as tt where tt.alarmcount != 0 or tt.processcount != 0 or tt.feedbackcount != 0 
limit {page_size} offset {page_size}*({page_index}-1);</statement>
    </sql>
	<sql id="update_icc_t_jjdb_submittime_by_alarm_id" operation="select">
        <statement>update icc_t_jjdb set jjwcsj = '{first_submit_time}' where jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' and jjdbh = '{alarm_id}' and jjwcsj is null;</statement>
    </sql>
	<sql id="select_icc_t_jjdb_updatetime" operation="select">
        <statement>SELECT xzqhdm as receipt_dept_district_code, jjdwdm as receipt_dept_code, jjdbh as id, glzjjdbh as merge_id,gllx as merge_type, jjlx as called_no_type, jqlyfs as source_type, lhlx as handle_type, jjlyh as source_id, jjybh as receipt_code, jjyxm as receipt_name, bjsj as receiving_time, jjsj as received_time,jjwcsj as first_submit_time,bjdh as caller_no,bjdhyhm as caller_user_name,bjdhyhdz as caller_addr,bjrmc as caller_name,bjrxbdm as caller_gender,lxdh as contact_no,bjrzjdm as caller_id_type,bjrzjhm as caller_id, bjdz as alarm_addr, jqdz as addr,bjnr as content, gxdwdm as admin_dept_code,jqlbdm as first_type, jqlxdm as second_type,  jqxldm as third_type,jqzldm as fourth_type,tzdbh as symbol_code, zars as erpetrators_number, ywcwq as is_armed,ywwxwz as is_hazardous_substances,ywbzxl as is_explosion_or_leakage,bkryqksm as desc_of_trapped,ssryqksm as desc_of_injured,swryqksm as desc_of_dead,sfswybj as is_foreign_language,bjrxzb as longitude,bjryzb as latitude,fxdwjd as manual_longitude,fxdwwd as manual_latitude,bcjjnr as remark,jqdjdm as level,jqclztdm as state,yjjydjdm as emergency_rescue_level,sjchpzldm as vehicle_type,sjcph as vehicle_no,sfswhcl as is_hazardous_vehicle,rksj as create_time,gxsj as update_time,jqbq as label,sfbm as is_privacy,jjfs as receipt_srv_name,gxdwmc as admin_dept_name,gxdwdmbs as admin_dept_org_code,jjdwmc as receipt_dept_name,jjdwdmbs as receipt_dept_org_code,scbs as is_delete,wxbs as is_invalid,dqywzt as business_status,jjxwh as receipt_seatno,hbbs as is_merge,cjry as create_user,gxry as update_user,hfbs as is_visitor,fkbs as is_feedback,sftsjz as had_push,sfja as is_over FROM public.icc_t_alarm</statement>
        <dynamic prepend="where">    
			<isNotNull prepend="and" isString="0">jjsj &lt;= '{jjsj_end}'</isNotNull>
            <isNotNull prepend="and" isString="0">gxsj > '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">(scbs is null or scbs != '1')</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
			<sql id="statistics_icc_t_jjdb_count_by_deptcode" operation="select">
        <statement>select jqdjdm as level, sum(1) as num from public.icc_t_jjdb</statement> 
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="0">jjsj &gt;= '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">jjsj &lt;= '{end_time}'</isNotNull>
		    <isNotNull prepend="and" isString="0">jjdwdm ='{receipt_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">(scbs is null or scbs != '1')</isNotNull>
        </dynamic>
		<groupby prepend="group by">
            <isNotNull>{groupby}</isNotNull>
	    </groupby>			
 </sql>
 	<sql id="statistics_icc_t_jjdb_count_groupby_seatno" operation="select">
        <statement>select jjxwh as receipt_seatno, sum(1) as num from public.icc_t_jjdb</statement> 
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="0">jjsj &gt;= '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">jjsj &lt;= '{end_time}'</isNotNull>
		    <isNotNull prepend="and" isString="0">jjdwdm ='{receipt_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">(scbs is null or scbs != '1')</isNotNull>
        </dynamic>
		<groupby prepend="group by">
            <isNotNull>{groupby}</isNotNull>
	    </groupby>			
 </sql>
 <sql id="select_icc_t_jjdb_count_groupby_seatno" operation="select">
        <statement>select jjxwh as receipt_seatno, sum(1) as num from public.icc_t_jjdb</statement> 
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">(jjsj &gt;= current_date)</isNotNull>
		    <isNotNull prepend="and" isString="0">jjdwdm ='{receipt_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">(scbs is null or scbs != '1')</isNotNull>
        </dynamic>
		<groupby prepend="group by">
            <isNotNull>{groupby}</isNotNull>
	    </groupby>			
 </sql>
 
  <sql id="statistics_icc_t_jjdb_count_groupby_staff" operation="select">
        <statement>select jjybh as staff_code, jjyxm as staff_name, sum(1) as num from public.icc_t_jjdb</statement> 
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="0">jjsj &gt;= '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">jjsj &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">(scbs is null or scbs != '1')</isNotNull>
        </dynamic>
		<groupby prepend="group by">
            <isNotNull>(jjybh,jjyxm)</isNotNull>
	    </groupby>			
 </sql>
 
 <sql id="statistics_icc_t_jjdb_count_by_seatcode" operation="select">
        <statement>select jqdjdm as level, sum(1) as num from public.icc_t_jjdb</statement>  
        <dynamic prepend="where">
		    <isNotNull prepend="and" isString="0">jjxwh ='{receipt_seatno}'</isNotNull>
            <isNotNull prepend="and" isString="0">rksj &gt;= '{begin_time}'</isNotNull>
            <isNotNull prepend="and" isString="0">rksj &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">(scbs is null or scbs != '1')</isNotNull>
        </dynamic>
		<groupby prepend="group by">
            <isNotNull>{groupby}</isNotNull>
	    </groupby>		
 </sql>
	<!-- new end 2022-4-7 modify by zhuhaibo-->
	<sql id="seach_pjdb_count" operation="select">
		<statement>SELECT count(*) num from public.icc_t_pjdb</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">(gxsj BETWEEN '{begin_time}' and '{end_time}')</isNotNull>
			<isNotNull prepend="and" isString="1">xzqhdm = '{dispatch_dept_district_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdbh = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwdm = '{dispatch_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjybh = '{dispatch_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjyxm = '{dispatch_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjlyh = '{record_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjyj = '{dispatch_suggestion}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwdm = '{process_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="0">pjsj = '{time_submit}'</isNotNull>
			<isNotNull prepend="and" isString="0">xtzdddsj = '{time_arrived}'</isNotNull>
			<isNotNull prepend="and" isString="0">pdqssj = '{time_signed}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsryxm = '{process_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsrybm = '{process_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdry = '{dispatch_personnel}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdcl = '{dispatch_vehicles}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdct = '{dispatch_boats}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqclztdm = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="0">rksj = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">gxsj = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwmc = '{dispatch_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwdmbs = '{dispatch_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwmc = '{process_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwdmbs = '{process_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxlx = '{process_object_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxmc = '{process_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxid = '{process_object_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxdm = '{process_object_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">dqywzt = '{business_status}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsrydm = '{seat_code}'</isNotNull>
			<isNotNull prepend="and" isString="0">tdsj = '{cancel_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">cxyy = '{cancel_reason}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfzddpcj = '{is_auto_assign_job}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjry = '{create_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxry = '{update_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">cszt = '{overtime_state}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjsj &gt;= '{jjsj_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjsj &lt;= '{jjsj_end}'</isNotNull>
		</dynamic>
	</sql>
	
	<sql id="select_icc_t_pjdb" operation="select">
		<statement>SELECT xzqhdm as dispatch_dept_district_code,pjdbh as id,jjdbh as alarm_id,pjdwdm as dispatch_dept_code,pjybh as dispatch_code,pjyxm as dispatch_name,
		pjlyh as record_id,pjyj as dispatch_suggestion,cjdwdm as process_dept_code,pjsj as time_submit,xtzdddsj as time_arrived,pdqssj as time_signed,qsryxm as process_name,qsrybm as process_code,cdry as dispatch_personnel,cdcl as dispatch_vehicles,
		cdct as dispatch_boats,jqclztdm as state,rksj as create_time,gxsj as update_time,pjdwmc as dispatch_dept_name,pjdwdmbs as dispatch_dept_org_code,cjdwmc as process_dept_name,
		cjdwdmbs as process_dept_org_code,cjdxlx as process_object_type,cjdxmc as process_object_name,cjdxid as process_object_id,cjdxdm as process_object_code,dqywzt as business_status,qsrydm as seat_code,tdsj as cancel_time,
		cxyy as cancel_reason,sfzddpcj as is_auto_assign_job,cjry as create_user,gxry as update_user,cszt as overtime_state,kjyjbh as transfers_dept_org_code,sfja as is_over,jasm as over_remark,sjpjdbh as parent_id,gzldm as flow_code,cjzdbs as createteminal,gxzdbs as updateteminal,jjsj as received_time, bjpjdbm as centre_process_dept_code, bjjjdbm as centre_alarm_dept_code, xzqhmc as dispatch_dept_district_name, shlddwdm as linked_dispatch_code, jasj as over_time, wbcszt as finished_timeout_state, jylxbm as police_type, cjdwjc as process_dept_short_name, pjdwjc as dispatch_dept_short_name  FROM public.icc_t_pjdb</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">(gxsj BETWEEN '{begin_time}' and '{end_time}')</isNotNull>
			<isNotNull prepend="and" isString="1">xzqhdm = '{dispatch_dept_district_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdbh = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwdm = '{dispatch_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjybh = '{dispatch_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjyxm = '{dispatch_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjlyh = '{record_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjyj = '{dispatch_suggestion}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwdm = '{process_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="0">pjsj = '{time_submit}'</isNotNull>
			<isNotNull prepend="and" isString="0">xtzdddsj = '{time_arrived}'</isNotNull>
			<isNotNull prepend="and" isString="0">pdqssj = '{time_signed}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsryxm = '{process_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsrybm = '{process_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdry = '{dispatch_personnel}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdcl = '{dispatch_vehicles}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdct = '{dispatch_boats}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqclztdm = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="0">rksj = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">gxsj = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwmc = '{dispatch_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwdmbs = '{dispatch_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwmc = '{process_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwdmbs = '{process_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxlx = '{process_object_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxmc = '{process_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxid = '{process_object_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxdm = '{process_object_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">dqywzt = '{business_status}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsrydm = '{seat_code}'</isNotNull>
			<isNotNull prepend="and" isString="0">tdsj = '{cancel_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">cxyy = '{cancel_reason}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfzddpcj = '{is_auto_assign_job}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjry = '{create_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxry = '{update_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">cszt = '{overtime_state}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjsj &gt;= '{jjsj_begin}'</isNotNull>
            <isNotNull prepend="and" isString="1">jjsj &lt;= '{jjsj_end}'</isNotNull>
		</dynamic>
		<orderby prepend="order by">
			<isNotNull>{orderby}</isNotNull>
		</orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>

	<sql id="select_icc_t_pjdb_sign" operation="select">
		<statement>SELECT xzqhdm as dispatch_dept_district_code,pjdbh as id,jjdbh as alarm_id,pjdwdm as dispatch_dept_code,pjybh as dispatch_code,pjyxm as dispatch_name,
		pjlyh as record_id,pjyj as dispatch_suggestion,cjdwdm as process_dept_code,pjsj as time_submit,xtzdddsj as time_arrived,pdqssj as time_signed,qsryxm as process_name,qsrybm as process_code,cdry as dispatch_personnel,cdcl as dispatch_vehicles,
		cdct as dispatch_boats,jqclztdm as state,rksj as create_time,gxsj as update_time,pjdwmc as dispatch_dept_name,pjdwdmbs as dispatch_dept_org_code,cjdwmc as process_dept_name,
		cjdwdmbs as process_dept_org_code,cjdxlx as process_object_type,cjdxmc as process_object_name,cjdxid as process_object_id,cjdxdm as process_object_code,dqywzt as business_status,qsrydm as seat_code,tdsj as cancel_time,
		cxyy as cancel_reason,sfzddpcj as is_auto_assign_job,cjry as create_user,gxry as update_user,cszt as overtime_state,kjyjbh as transfers_dept_org_code,sfja as is_over,jasm as over_remark,sjpjdbh as parent_id,gzldm as flow_code,cjzdbs as createteminal,gxzdbs as updateteminal FROM public.icc_t_pjdb</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">xzqhdm = '{dispatch_dept_district_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdbh = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwdm = '{dispatch_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjybh = '{dispatch_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjyxm = '{dispatch_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjlyh = '{record_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjyj = '{dispatch_suggestion}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwdm = '{process_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="0">pjsj = '{time_submit}'</isNotNull>
			<isNotNull prepend="and" isString="0">xtzdddsj = '{time_arrived}'</isNotNull>
			<isNotNull prepend="and" isString="0">pdqssj = '{time_signed}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsryxm = '{process_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsrym = '{process_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdry = '{dispatch_personnel}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdcl = '{dispatch_vehicles}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdct = '{dispatch_boats}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqclztdm != 'DIC020071'</isNotNull>
			<isNotNull prepend="and" isString="0">cjsj = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">gxsj = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwmc = '{dispatch_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwdmbs = '{dispatch_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwmc = '{process_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwdmbs = '{process_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxlx = '{process_object_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxmc = '{process_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxid = '{process_object_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxdm = '{process_object_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">dqywzt = '{business_status}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsrydm = '{seat_code}'</isNotNull>
			<isNotNull prepend="and" isString="0">tdsj = '{cancel_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">cxyy = '{cancel_reason}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfzddpcj = '{is_auto_assign_job}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjry = '{create_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxry = '{update_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">cszt = '{overtime_state}'</isNotNull>
		</dynamic>
		<orderby prepend="order by">
			<isNotNull>{orderby}</isNotNull>
		</orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	
	<sql id="select_icc_t_pjdb_updatetime" operation="select">
        <statement>SELECT xzqhdm as dispatch_dept_district_code,pjdbh as id,jjdbh as alarm_id,pjdwdm as dispatch_dept_code,pjybh as dispatch_code,pjyxm as dispatch_name,
		pjlyh as record_id,pjyj as dispatch_suggestion,cjdwdm as process_dept_code,pjsj as time_submit,xtzdddsj as time_arrived,pdqssj as time_signed,qsryxm as process_name,qsrybm as process_code,cdry as dispatch_personnel,cdcl as dispatch_vehicles,
		cdct as dispatch_boats,jqclztdm as state,rksj as create_time,gxsj as update_time,pjdwmc as dispatch_dept_name,pjdwdmbs as dispatch_dept_org_code,cjdwmc as process_dept_name,
		cjdwdmbs as process_dept_org_code,cjdxlx as process_object_type,cjdxmc as process_object_name,cjdxid as process_object_id,cjdxdm as process_object_code,dqywzt as business_status,qsrydm as seat_code,tdsj as cancel_time,
		cxyy as cancel_reason,sfzddpcj as is_auto_assign_job,cjry as create_user,gxry as update_user,cszt as overtime_state,kjyjbh as transfers_dept_org_code,sfja as is_over,jasm as over_remark,sjpjdbh as parent_id,gzldm as flow_code,cjzdbs as createteminal,gxzdbs as updateteminal FROM public.icc_t_pjdb</statement>
        <dynamic prepend="where">        
            <isNotNull prepend="and" isString="0">update_time > '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjsj &gt;= '{jjsj_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjsj &lt;= '{jjsj_end}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>

	<sql id="insert_icc_t_pjdb" operation="insert">
		<statement>INSERT into public.icc_t_pjdb(xzqhdm,pjdbh,jjdbh,pjdwdm,pjybh,pjyxm,pjlyh,pjyj,cjdwdm,pjsj,xtzdddsj,pdqssj,qsryxm,qsrybm,cdry,cdcl,
		cdct,jqclztdm,rksj,gxsj,pjdwmc,pjdwdmbs,cjdwmc,cjdwdmbs,cjdxlx,cjdxmc,cjdxid,cjdxdm,dqywzt,qsrydm,tdsj,cxyy,sfzddpcj,cjry,gxry,cszt,kjyjbh,sfja,jasm,sjpjdbh,gzldm,cjzdbs,gxzdbs,jjsj, bjpjdbm, bjjjdbm, xzqhmc, shlddwdm, jasj, wbcszt, jylxbm, cjdwjc, pjdwjc) VALUES</statement>
		<dynamic prepend="">('{dispatch_dept_district_code}','{id}','{alarm_id}','{dispatch_dept_code}','{dispatch_code}','{dispatch_name}','{record_id}','{dispatch_suggestion}'
		,'{process_dept_code}','{time_submit}','{time_arrived}','{time_signed}','{process_name}','{process_code}','{dispatch_personnel}','{dispatch_vehicles}'
		,'{dispatch_boats}','{state}','{create_time}','{update_time}','{dispatch_dept_name}','{dispatch_dept_org_code}','{process_dept_name}','{process_dept_org_code}'
		,'{process_object_type}','{process_object_name}','{process_object_id}','{process_object_code}','{business_status}', '{seat_code}','{cancel_time}','{cancel_reason}','{is_auto_assign_job}',
		'{create_user}','{update_user}','{overtime_state}','{transfers_dept_org_code}','{is_over}','{over_remark}','{parent_id}','{flow_code}','{createTeminal}','{updateTeminal}','{jjsj}', '{centre_process_dept_code}', '{centre_alarm_dept_code}', '{dispatch_dept_district_name}', '{linked_dispatch_code}', '{over_time}', '{finished_timeout_state}', '{police_type}', '{process_dept_short_name}', '{dispatch_dept_short_name}')</dynamic>
	</sql>
	
	<sql id="update_icc_t_pjdb" operation="update">
        <statement>UPDATE public.icc_t_pjdb</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">xzqhdm = '{dispatch_dept_district_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdbh = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjsj &gt;= '{jjsj_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjsj &lt;= '{jjsj_end}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwdm = '{dispatch_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjybh = '{dispatch_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjyxm = '{dispatch_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjlyh = '{record_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjyj = '{dispatch_suggestion}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwdm = '{process_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="0">pjsj = '{time_submit}'</isNotNull>
			<isNotNull prepend="and" isString="0">xtzdddsj = '{time_arrived}'</isNotNull>
			<isNotNull prepend="and" isString="0">pdqssj = '{time_signed}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsryxm = '{process_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsrybm = '{process_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdry = '{dispatch_personnel}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdcl = '{dispatch_vehicles}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdct = '{dispatch_boats}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqclztdm = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="0">rksj = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">gxsj = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwmc = '{dispatch_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwdmbs = '{dispatch_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwmc = '{process_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwdmbs = '{process_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxlx = '{process_object_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxmc = '{process_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxid = '{process_object_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxdm = '{process_object_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">dqywzt = '{business_status}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsrydm = '{seat_code}'</isNotNull>
			<isNotNull prepend="and" isString="0">tdsj = '{cancel_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">cxyy = '{cancel_reason}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfzddpcj = '{is_auto_assign_job}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjry = '{create_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxry = '{update_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">cszt = '{overtime_state}'</isNotNull>
			<isNotNull prepend="and" isString="1">kjyjbh = '{transfers_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfja = '{is_over}'</isNotNull>
			<isNotNull prepend="and" isString="1">jasm = '{over_remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">sjpjdbh = '{parent_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">gzldm = '{flow_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjzdbs = '{createTeminal}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxzdbs = '{updateTeminal}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjpjdbm = '{centre_process_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjjjdbm = '{centre_alarm_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">xzqhmc = '{dispatch_dept_district_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">shlddwdm = '{linked_dispatch_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">jasj = '{over_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">wbcszt = '{finished_timeout_state}'</isNotNull>
			<isNotNull prepend="and" isString="1">jylxbm = '{police_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwjc = '{process_dept_short_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwjc = '{dispatch_dept_short_name}'</isNotNull>
        </dynamic>
    </sql>
	
	<sql id="insert_icc_t_pjdb_book" operation="insert">
		<statement>INSERT into public.icc_t_pjdb_book(guid,flag,xzqhdm,pjdbh,jjdbh,pjdwdm,pjybh,pjyxm,pjlyh,pjyj,cjdwdm,pjsj,xtzdddsj,pdqssj,qsryxm,qsrybm,cdry,cdcl,
		cdct,jqclztdm,rksj,gxsj,pjdwmc,pjdwdmbs,cjdwmc,cjdwdmbs,cjdxlx,cjdxmc,cjdxid,dqywzt,qsrydm,tdsj,cxyy,sfzddpcj,cjry,gxry,cszt) VALUES</statement>
		<dynamic prepend="">('{guid}','{flag}','{dispatch_dept_district_code}','{id}','{alarm_id}','{dispatch_dept_code}','{dispatch_code}','{dispatch_name}','{record_id}','{dispatch_suggestion}'
		,'{process_dept_code}','{time_submit}','{time_arrived}','{time_signed}','{process_name}','{process_code}','{dispatch_personnel}','{dispatch_vehicles}'
		,'{dispatch_boats}','{state}','{create_time}','{update_time}','{dispatch_dept_name}','{dispatch_dept_org_code}','{process_dept_name}','{process_dept_org_code}'
		,'{process_object_type}','{process_object_name}','{process_object_code}','{business_status}', '{seat_code}','{cancel_time}','{cancel_reason}','{is_auto_assign_job}',
		'{create_user}','{update_user}','{overtime_state}')</dynamic>
	</sql>
	
	<sql id="select_icc_t_pjdb_book" operation="select">
		<statement>SELECT guid,flag,xzqhdm as dispatch_dept_district_code,pjdbh as id,jjdbh as alarm_id,pjdwdm as dispatch_dept_code,pjybh as dispatch_code,pjyxm as dispatch_name,
		pjlyh as record_id,pjyj as dispatch_suggestion,cjdwdm as process_dept_code,pjsj as time_submit,xtzdddsj as time_arrived,pdqssj as time_signed,qsryxm as process_name,qsrym as process_code,cdry as dispatch_personnel,cdcl as dispatch_vehicles,
		cdct as dispatch_boats,jqclztdm as state,cjsj as create_time,gxsj as update_time,pjdwmc as dispatch_dept_name,pjdwdmbs as dispatch_dept_org_code,cjdwmc as process_dept_name,
		cjdwdmbs as process_dept_org_code,cjdxlx as process_object_type,cjdxmc as process_object_name,cjdxid as process_object_code,dqywzt as business_status,qsrydm as seat_code,tdsj as cancel_time,
		cxyy as cancel_reason,sfzddpcj as is_auto_assign_job,cjry as create_user,gxry as update_user,cszt as overtime_state FROM public.icc_t_pjdb_book</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
			<isNotNull prepend="and" isString="1">flag = '{flag}'</isNotNull>
			<isNotNull prepend="and" isString="1">xzqhdm = '{dispatch_dept_district_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdbh = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwdm = '{dispatch_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjybh = '{dispatch_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjyxm = '{dispatch_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjlyh = '{record_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjyj = '{dispatch_suggestion}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwdm = '{process_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="0">pjsj = '{time_submit}'</isNotNull>
			<isNotNull prepend="and" isString="0">xtzdddsj = '{time_arrived}'</isNotNull>
			<isNotNull prepend="and" isString="0">pdqssj = '{time_signed}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsryxm = '{process_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsrym = '{process_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdry = '{dispatch_personnel}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdcl = '{dispatch_vehicles}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdct = '{dispatch_boats}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqclztdm = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="0">cjsj = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">gxsj = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwmc = '{dispatch_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdwdmbs = '{dispatch_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwmc = '{process_dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdwdmbs = '{process_dept_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxlx = '{process_object_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxmc = '{process_object_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjdxid = '{process_object_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">dqywzt = '{business_status}'</isNotNull>
			<isNotNull prepend="and" isString="1">qsrydm = '{seat_code}'</isNotNull>
			<isNotNull prepend="and" isString="0">tdsj = '{cancel_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">cxyy = '{cancel_reason}'</isNotNull>
			<isNotNull prepend="and" isString="1">sfzddpcj = '{is_auto_assign_job}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjry = '{create_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxry = '{update_user}'</isNotNull>
			<isNotNull prepend="and" isString="1">cszt = '{overtime_state}'</isNotNull>
		</dynamic>
		<orderby prepend="order by">
			<isNotNull>{orderby}</isNotNull>
		</orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
              	<sql id="select_icc_t_sfzh_record" operation="select">
        <statement>SELECT phone_no, sfzh FROM public.icc_t_sfzh_record</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">phone_no = '{phone_no}'</isNotNull>
        </dynamic>
	</sql>
	<sql id="select_icc_t_sfxx_record" operation="select">
        <statement>SELECT sfzh as card_id, sfxx FROM public.icc_t_sfxx_record</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">sfzh = '{card_id}'</isNotNull>
        </dynamic>
	</sql>
	<sql id="seach_callevent_with_relalarmid" operation="select">
		<statement isNotTrans="1">SELECT 
			c.callref_id,c.rel_alarm_id,
			c.rel_alarm_id as case_id, 
			c.receiver_code as receipt_code,
			c.receiver_name as receipt_name,
			c.acd,
			c.caller_id,
			c.called_id,
			c.call_direction,
			case when c.call_direction='in' then c.incoming_time else c.ringback_time end AS call_time,
			c.talk_len as talk_time_len,
			c.ring_len as ring_time_len,
			c.hangup_type,
			c.is_callback,
			c.switch_type,
			c.talk_time,
			c.record_file_id AS record_id,
			count(c.callref_id) over() FROM icc_t_callevent c where create_time &gt;= '{create_time_begin}' and create_time &lt;= '{create_time_end}' and c.caller_id!='{autourge_caller}' and c.rel_alarm_id = '{alarm_id}' order by callref_id desc limit 20 offset 0;</statement>
	</sql>
    <sql id="seach_callevent_with_seatno" operation="select">
        <statement>SELECT c.callref_id,c.rel_alarm_id as case_id,c.receiver_code as receipt_code,c.rel_alarm_id,
			c.receiver_name as receipt_name,c.acd,c.caller_id,c.called_id,c.call_direction,
			case when c.call_direction='in' then c.incoming_time else c.ringback_time end AS call_time,
			c.talk_len as talk_time_len,
			c.ring_len as ring_time_len,
			c.hangup_type,
			c.is_callback,
			c.switch_type,
			c.talk_time,
			count(c.callref_id) over() 
			FROM icc_t_callevent c
			then 
			case when c.called_id ~'^1\\d+' then substr(c.called_id, 1, 7) 
			when c.called_id ~'^(0[3-9])\\d+|^(\\+886)\\d+' then substr(c.called_id, 1, 4) 
			when c.called_id ~'^(\\+91\\d+)|^8\\d+|^(0[1-2])\\d+' then substr(c.called_id, 1, 3) 
			else c.called_id 
			end 
			else 
			case when c.caller_id ~'^1\\d+' then substr(c.caller_id, 1, 7) 
			when c.caller_id ~'^(0[3-9])\\d+|^(\\+886)\\d+' then substr(c.caller_id, 1, 4) 
			when c.caller_id ~'^(\\+91\\d+)|^8\\d+|^(0[1-2])\\d+' then substr(c.caller_id, 1, 3) 
			else c.caller_id 
			end 
			end
		</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">c.create_time &gt;= '{create_time_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.create_time &lt;= '{create_time_end}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({hangup_type})</isNotNull>
			<isNotNull prepend="and" isString="1">c.callref_id = '{callref_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.call_direction = '{call_direction}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.called_id='{is_innercall}'</isNotNull>
			<isNotNull prepend="and" isString="1">(c.receiver_code like '%{receipt_code_or_name}%' or c.receiver_name like '%{receipt_code_or_name}%')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({new_alarm_id})</isNotNull>
			<isNotNull prepend="and" isString="1">c.called_id = '{seat_no}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.caller_id!='{autourge_caller}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.caller_id = '{caller_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.called_id = '{called_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">(c.called_relation_dept_path like '%{dept_code}%' OR c.caller_relation_dept_path like '%{dept_code}%' OR c.acd_relation_dept_path like '%{dept_code}%')</isNotNull>
        </dynamic>
		<orderby prepend="order by">
			<isNotNull>{orderby}</isNotNull>
		</orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	<sql id="seach_callevent_without_seatno_allcount" operation="select">
        <statement> SELECT count(c.create_time) as count FROM icc_t_callevent c</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{create_time_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{create_time_end}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.caller_id!='{autourge_caller}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({hangup_type})</isNotNull>
			<isNotNull prepend="and" isString="1">c.callref_id = '{callref_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.call_direction = '{call_direction}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({extra_business_scene})</isNotNull>	
			<isNotNull prepend="and" isString="1">c.called_id='{is_innercall}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.called_id = '{seat_no}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.caller_id = '{caller_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.called_id = '{called_id}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">(c.called_relation_dept_path like '%{dept_code}%' OR c.caller_relation_dept_path like '%{dept_code}%' OR c.acd_relation_dept_path like '%{dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">(c.receiver_code like '%{receipt_code_or_name}%' or c.receiver_name like '%{receipt_code_or_name}%')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({new_alarm_id})</isNotNull>
        </dynamic>
	</sql>
	<sql id="seach_callevent_without_seatno" operation="select">
        <statement> SELECT 
			c.callref_id,c.rel_alarm_id,
			c.rel_alarm_id as case_id, 
			c.receiver_code as receipt_code,
			c.receiver_name as receipt_name,
			c.acd,
			c.caller_id,
			c.called_id,
			c.call_direction,
			case when c.call_direction='in' then c.incoming_time else c.ringback_time end AS call_time,
			c.talk_len as talk_time_len,
			c.ring_len as ring_time_len,
			c.hangup_type,
			c.is_callback,
			c.switch_type,
			c.talk_time,
			c.record_file_id AS record_id
			FROM icc_t_callevent c</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{create_time_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{create_time_end}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.caller_id!='{autourge_caller}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({hangup_type})</isNotNull>
			<isNotNull prepend="and" isString="1">c.callref_id = '{callref_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.call_direction = '{call_direction}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({extra_business_scene})</isNotNull>	
			<isNotNull prepend="and" isString="1">c.called_id='{is_innercall}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.called_id = '{seat_no}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.caller_id = '{caller_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.called_id = '{called_id}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">(c.called_relation_dept_path like '%{dept_code}%' OR c.caller_relation_dept_path like '%{dept_code}%' OR c.acd_relation_dept_path like '%{dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">(c.receiver_code like '%{receipt_code_or_name}%' or c.receiver_name like '%{receipt_code_or_name}%')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({new_alarm_id})</isNotNull>
        </dynamic>
		<orderby prepend="order by">
			<isNotNull>{orderby}</isNotNull>
		</orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	
	<sql id="seach_callevent_callor_filter" operation="select">
        <statement> SELECT 
			c.callref_id,c.rel_alarm_id,
			c.rel_alarm_id as case_id, 
			c.receiver_code as receipt_code,
			c.receiver_name as receipt_name,
			c.acd,
			c.caller_id,
			c.called_id,
			c.call_direction,
			case when c.call_direction='in' then c.incoming_time else c.ringback_time end AS call_time,
			c.talk_len as talk_time_len,
			c.ring_len as ring_time_len,
			c.hangup_type,
			c.is_callback,
			c.switch_type,
			c.talk_time,
			count(c.callref_id) over() FROM icc_t_callevent c</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{create_time_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{create_time_end}'</isNotNull>
			<isNotNull prepend="and" isString="1">(c.rel_alarm_id = '{alarm_id}')</isNotNull>
			<isNotNull prepend="and" isString="1">c.callref_id = '{callref_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">c.call_direction = '{call_direction}'</isNotNull>
			<isNotNull prepend="and" isString="1">(c.called_relation_dept_path like '%{dept_code}%' OR c.caller_relation_dept_path like '%{dept_code}%' OR c.acd_relation_dept_path like '%{dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">((c.caller_id like '%{caller_id}%' and c.called_id like '%{called_id}%') or (c.caller_id like '%{called_id}%' and c.called_id like '%{caller_id}%'))</isNotNull>
			<isNotNull prepend="and" isString="1"> ((c.called_id like '%{phone_no}%' and (c.caller_id is not null and c.caller_id != '')) or (c.caller_id like '%{phone_no}%' and (c.called_id is not null and c.called_id != ''))) </isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({hangup_type})</isNotNull>
			<isNotNull prepend="and" isString="1">(c.receiver_code like '%{receipt_code_or_name}%' or c.receiver_name like '%{receipt_code_or_name}%')</isNotNull>
        </dynamic>
		<orderby prepend="order by">
			<isNotNull>{orderby}</isNotNull>
		</orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	
	<sql id="seach_alarm_count" operation="select">
        <statement>SELECT count(1) FROM public.icc_t_jjdb alarm</statement>
		<dynamic prepend="">
			<isNotNull prepend=""	 isString="1" isNotTrans="1">{is_tel_hotline}</isNotNull>
		</dynamic>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="0">jjsj &lt;= '{jjsj_end}'</isNotNull>
			<isNotNull prepend="and" isString="0">jjsj &gt;= '{jjsj_begin}'</isNotNull>
            <isNotNull prepend="and" isString="1">(alarm.jjsj BETWEEN '{begin_time}' and '{end_time}')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.gxsj BETWEEN '{gxbegin_time}' and '{gxend_time}')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.jjdbh like '%{id}%')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.jqbq like '%{label}%')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.bjnr like '%{content}%')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.jqdz like '%{addr}%')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({state})</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({level})</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jqlyfs = '{source_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.lhlx = '{handle_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.lhlx = '{handle_type_valid}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.lhlx != '{handle_type_invalid}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({alarm_type})</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjxwh = '{receipt_seatno}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({called_no_type})</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.bjdh like  '%{caller_no}%'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.bjrmc like  '%{caller_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.lxdh like  '%{contact_no}%'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({admin_dept_code})</isNotNull>
			<isNotNull prepend="   " isString="1" isNotTrans="1">{recursive_admin_dept_code}</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjdwdm = '{receipt_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjdwdm = any(select cdept.code from icc_view_dept_recursive cdept where cdept.path like '%{recursive_receipt_dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjybh = '{receipt_code}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({receipt_dept_code_condition})</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjdbh = any(SELECT alarm_id FROM icc_t_alarm_feedback feedback WHERE '{feedback_condition}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjxwh = '{receipt_seatno}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.fkbs = '{is_feedback}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.hfbs = '{is_visitor}'</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.bjdh like '%{caller_key}%' or alarm.bjrzjhm like '%{caller_key}%' or alarm.bjrmc like '%{caller_key}%' or alarm.lxdh like '%{caller_key}%')</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.wxbs = '{is_invalid}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.sfja = '{is_over}'</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.jqdz like '%{query_key}%' or alarm.bjnr like '%{query_key}%')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.scbs is null or alarm.scbs != '1')</isNotNull>
			<isNotNull prepend="and" isString="1">jqlbdm in (select type_value from icc_t_major_alarm_config where type_name='{jqlbdm}')</isNotNull>
			<isNotNull prepend="and" isString="1">jqlxdm in (select type_value from icc_t_major_alarm_config where type_name='{jqlxdm}')</isNotNull>
			<isNotNull prepend="and" isString="1">jqxldm in (select type_value from icc_t_major_alarm_config where type_name='{jqxldm}')</isNotNull>
			<isNotNull prepend="and" isString="1">jqzldm in (select type_value from icc_t_major_alarm_config where type_name='{jqzldm}')</isNotNull>
			<isNotNull prepend="and" isString="1">jqdjdm in (select type_value from icc_t_major_alarm_config where type_name='{jqdjdm}')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({receiver_code_condition})</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({12345To110_condition})</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({is_signed})</isNotNull>
        </dynamic>
	</sql>
	<sql id="seach_alarm_data" operation="select">
        <statement>SELECT alarm.xzqhdm as receipt_dept_district_code, alarm.jjdwdm as receipt_dept_code, alarm.jjdbh as id, alarm.glzjjdbh as merge_id,gllx as merge_type,alarm.jjlx as called_no_type, alarm.jqlyfs as source_type, alarm.lhlx as handle_type, alarm.jjlyh as source_id, alarm.jjybh as receipt_code, alarm.jjyxm as receipt_name, alarm.bjsj as receiving_time, alarm.jjsj as received_time, alarm.jjwcsj as first_submit_time, alarm.bjdh as caller_no, alarm.bjdhyhm as caller_user_name, alarm.bjdhyhdz as caller_addr, alarm.bjrmc as caller_name, alarm.bjrxbdm as caller_gender, alarm.lxdh as contact_no, alarm.bjrzjdm as caller_id_type, alarm.bjrzjhm as caller_id, alarm.bjdz as alarm_addr, alarm.jqdz as addr, alarm.bjnr as content, alarm.gxdwdm as admin_dept_code, alarm.jqlbdm as first_type, alarm.jqlxdm as second_type, alarm.jqxldm as third_type, alarm.jqzldm as fourth_type, alarm.tzdbh as symbol_code, alarm.zars as erpetrators_number, alarm.ywcwq as is_armed, alarm.ywwxwz as is_hazardous_substances, alarm.ywbzxl as is_explosion_or_leakage, alarm.bkryqksm as desc_of_trapped, alarm.ssryqksm as desc_of_injured, alarm.swryqksm as desc_of_dead, alarm.sfswybj as is_foreign_language, alarm.bjrxzb as longitude, alarm.bjryzb as latitude, alarm.fxdwjd as manual_longitude, alarm.fxdwwd as manual_latitude, alarm.bcjjnr as remark, alarm.jqdjdm as level, alarm.jqclztdm as state, alarm.yjjydjdm as emergency_rescue_level, alarm.sjchpzldm as vehicle_type, alarm.sjcph as vehicle_no, alarm.sfswhcl as is_hazardous_vehicle, alarm.rksj as create_time, alarm.gxsj as update_time, alarm.jqbq as label, alarm.sfbm as is_privacy, alarm.jjfs as receipt_srv_name, alarm.gxdwmc as admin_dept_name, alarm.gxdwdmbs as admin_dept_org_code, alarm.jjdwmc as receipt_dept_name, alarm.jjdwdmbs as receipt_dept_org_code, alarm.scbs as is_delete, alarm.wxbs as is_invalid, alarm.dqywzt as business_status, alarm.jjxwh as receipt_seatno, alarm.hbbs as is_merge, alarm.cjry as create_user, alarm.gxry as update_user, alarm.hfbs as is_visitor, alarm.fkbs as is_feedback,alarm.sftsjz as had_push,alarm.sfja as is_over, jjlylx as alarm_source_type,jjlybh as alarm_source_id,  bjjjdbm as centre_dept_code, bjglzjjdbm as centre_relation_dept_code, xzqhmc as receipt_dept_district_name, jcjxtjsdwdm as develop_dept_code, jcjxtjsdwmc as  develop_dept_name, shlddwdm as linked_dispatch_code, sfyqs as is_signed, jasj as over_time, csjqlbdm as initial_first_type, csjqlxdm as initial_second_type, csjqxldm as initial_third_type,csjqzldm  as initial_fourth_type, csgxdwdm as initial_admin_dept_code, csgxdwmc as initial_admin_dept_name, csgxdwdmbs as initial_admin_dept_org_code, csjqdz as initial_addr, jjdwjc as receipt_dept_short_name, gxdwjc as admin_dept_short_name FROM public.icc_t_jjdb alarm </statement>
		<dynamic prepend="">
			<isNotNull prepend=""	 isString="1" isNotTrans="1">{is_tel_hotline}</isNotNull>
		</dynamic>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="0">jjsj &lt;= '{jjsj_end}'</isNotNull>
			<isNotNull prepend="and" isString="0">jjsj &gt;= '{jjsj_begin}'</isNotNull>
            <isNotNull prepend="and" isString="1">(alarm.jjsj BETWEEN '{begin_time}' and '{end_time}')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.gxsj BETWEEN '{gxbegin_time}' and '{gxend_time}')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.jjdbh like '%{id}%')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.jqbq like '%{label}%')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.bjnr like '%{content}%')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.jqdz like '%{addr}%')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({state})</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({level})</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jqlyfs = '{source_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.lhlx = '{handle_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.lhlx = '{handle_type_valid}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.lhlx != '{handle_type_invalid}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({alarm_type})</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjxwh = '{receipt_seatno}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({called_no_type})</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.bjdh like  '%{caller_no}%'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.bjrmc like  '%{caller_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.lxdh like  '%{contact_no}%'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({admin_dept_code})</isNotNull>
			<isNotNull prepend="   " isString="1" isNotTrans="1">{recursive_admin_dept_code}</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjdwdm = '{receipt_dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjdwdm = any(select cdept.code from icc_view_dept_recursive cdept where cdept.path like '%{recursive_receipt_dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjybh = '{receipt_code}'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({receipt_dept_code_condition})</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjdbh = any(SELECT alarm_id FROM icc_t_alarm_feedback feedback WHERE '{feedback_condition}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.jjxwh = '{receipt_seatno}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.fkbs = '{is_feedback}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.hfbs = '{is_visitor}'</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.bjdh like '%{caller_key}%' or alarm.bjrzjhm like '%{caller_key}%' or alarm.bjrmc like '%{caller_key}%' or alarm.lxdh like '%{caller_key}%')</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.wxbs = '{is_invalid}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm.sfja = '{is_over}'</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.jqdz like '%{query_key}%' or alarm.bjnr like '%{query_key}%')</isNotNull>
			<isNotNull prepend="and" isString="1">(alarm.scbs is null or alarm.scbs != '1')</isNotNull>
			<isNotNull prepend="and" isString="1">jqlbdm in (select type_value from icc_t_major_alarm_config where type_name='{jqlbdm}')</isNotNull>
			<isNotNull prepend="and" isString="1">jqlxdm in (select type_value from icc_t_major_alarm_config where type_name='{jqlxdm}')</isNotNull>
			<isNotNull prepend="and" isString="1">jqxldm in (select type_value from icc_t_major_alarm_config where type_name='{jqxldm}')</isNotNull>
			<isNotNull prepend="and" isString="1">jqzldm in (select type_value from icc_t_major_alarm_config where type_name='{jqzldm}')</isNotNull>
			<isNotNull prepend="and" isString="1">jqdjdm in (select type_value from icc_t_major_alarm_config where type_name='{jqdjdm}')</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({receiver_code_condition})</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({12345To110_condition})</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({is_signed})</isNotNull>
        </dynamic>
		<orderby prepend="order by">
			<isNotNull>{orderby}</isNotNull>
		</orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	<sql id="query_common_alarm_dept" operation="select">
        <statement>select gxdwdm as dept_code,gxdwmc as dept_name,count(0) as count from public.icc_t_jjdb where jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' and jjdwdm = '{jjdwdm}' group by gxdwdm ,gxdwmc having count(gxdwdm) &gt;= 1  order by count desc</statement>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	<sql id="query_common_alarm_type" operation="select">
        <statement>select b.jqjb, count(0) as count from (select concat(jqlbdm, '_', jqlxdm, '_', jqxldm, '_', jqzldm)jqjb from public.icc_t_jjdb where jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' and jjdwdm = '{jjdwdm}') b where length(b.jqjb) &gt;= 4 group by b.jqjb having count(b.jqjb) &gt;= 1 order by count desc</statement>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	
	<sql id="query_incomming_time_from_sub_callevent" operation="select">
        <statement>select state_time from icc_t_sub_callevent where create_time &gt;= '{create_time_begin}' and create_time &lt;= '{create_time_end}' and callref_id= '{callref_id}' and eventcall_state = 'incoming';</statement>        
    </sql>
	
	<sql id="query_ringstate_time_from_sub_callevent" operation="select">
        <statement>select state_time from icc_t_sub_callevent where create_time &gt;= '{create_time_begin}' and create_time &lt;= '{create_time_end}' and callref_id= '{callref_id}' and eventcall_state = 'ringstate';</statement>        
    </sql>
	
	<sql id="insert_icc_t_alarm_bjrsfzxx" operation="insert">
		<statement>INSERT into public.icc_t_alarm_sfzxx(sjhm,xm,zjhm,lys) VALUES</statement>
		<dynamic prepend="">('{sjhm}','{xm}','{zjhm}','{lys}')</dynamic>
	</sql>
	<sql id="insert_icc_t_alarm_attention" operation="insert">
		<statement>INSERT into public.icc_t_alarm_attention(alarm_id,attention_staff,attention_time,is_update,update_time) VALUES</statement>
		<dynamic prepend="">('{alarm_id}','{attention_staff}','{attention_time}','{is_update}','{update_time}')</dynamic>
	</sql>
	<sql id="update_icc_t_alarm_attention_by_alarm_id" operation="select">
        <statement>UPDATE icc_t_alarm_attention set is_update = '1' where alarm_id = '{alarm_id}';</statement>        
    </sql>
	<sql id="update_icc_t_alarm_attention_terminal_by_alarm_id" operation="select">
        <statement>UPDATE icc_t_alarm_attention set is_update = '1', terminal_time = '{terminal_time}' where alarm_id = '{alarm_id}';</statement>        
    </sql>
	<sql id="update_icc_t_alarm_attention_by_alarm_id_and_staff" operation="select">
        <statement>UPDATE icc_t_alarm_attention set is_update = '0' where alarm_id = '{alarm_id}' and attention_staff = '{attention_staff}';</statement>        
    </sql>
	<sql id="delete_icc_t_alarm_attention_by_staff" operation="select">
        <statement>delete from icc_t_alarm_attention where alarm_id = '{alarm_id}' and attention_staff = '{attention_staff}';</statement>        
    </sql>
	<sql id="query_icc_t_alarm_attention_by_staff" operation="select">
        <statement>select * from icc_t_alarm_attention where attention_staff = '{attention_staff}';</statement>        
    </sql>
	<sql id="query_icc_t_alarm_attention_all" operation="select">
        <statement>select * from icc_t_alarm_attention where attention_time &gt;= '{begin_time}' and attention_time &lt; '{end_time}';</statement>        
    </sql>
	<sql id="judge_icc_t_alarm_attention_by_alarm_id_and_staff" operation="select">
		<statement>select * from icc_t_alarm_attention where alarm_id='{alarm_id}' and attention_staff='{attention_staff}';</statement>
	</sql>
	<sql id="query_remark_icc_t_alarm_by_alarm_id" operation="select">
        <statement>select bcjjnr as remark from icc_t_jjdb where jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' and jjdbh = '{alarm_id}';</statement>        
    </sql>
	<sql id="insert_icc_t_frequent_contacts" operation="insert">
		<statement>INSERT into public.icc_t_frequent_contacts(guid,staff_code,contact_number,contact_name,contact_dept,contact_number2,contact_number3,contact_number4,create_time,contact_guid) VALUES</statement>
		<dynamic prepend="">('{guid}','{staff_code}','{contact_number}','{contact_name}','{contact_dept}','{contact_number2}','{contact_number3}','{contact_number4}','{create_time}','{contact_guid}')</dynamic>
	</sql>
	<sql id="update_icc_t_frequent_contacts" operation="select">
		<statement>UPDATE icc_t_frequent_contacts set contact_number = '{contact_number}', contact_name='{contact_name}',contact_dept='{contact_dept}', contact_number2='{contact_number2}',contact_number3='{contact_number3}',contact_number4='{contact_number4}',update_time='{update_time}' where guid = '{guid}';</statement>
	</sql>
	<sql id="delete_icc_t_frequent_contacts" operation="select">
        <statement>delete from icc_t_frequent_contacts where guid = '{guid}';</statement>        
    </sql>
	<sql id="query_icc_t_frequent_contacts" operation="select">
        <statement>select * from icc_t_frequent_contacts where staff_code = '{staff_code}';</statement>        
    </sql>
	<sql id="insert_icc_t_major_alarm_config" operation="insert">
		<statement>INSERT into public.icc_t_major_alarm_config(guid,type_name,type_value,remark) VALUES</statement>
		<dynamic prepend="">('{guid}','{type_name}','{type_value}','{remark}')</dynamic>
	</sql>
	<sql id="delete_icc_t_major_alarm_config" operation="select">
        <statement>delete from icc_t_major_alarm_config where guid = '{guid}';</statement>        
    </sql>
	<sql id="query_icc_t_major_alarm_config" operation="select">
        <statement>select * from icc_t_major_alarm_config;</statement>        
    </sql>	
	<sql id="query_icc_t_major_alarm_config_alltypename" operation="select">
        <statement>select distinct(type_name) from icc_t_major_alarm_config;</statement>        
    </sql>
	<sql id="query_talktime" operation="select">
        <statement>select round(extract(epoch FROM (hangup_time - talk_time ))::numeric) as talktime from icc_t_callevent where create_time &gt;= '{start_time}' and create_time &lt;= '{end_time}' and talk_time is not null and ( called_relation_dept = '{dept_code}' or caller_relation_dept = '{dept_code}' or  acd_relation_dept = '{dept_code}');</statement>        
    </sql>	
	<sql id="query_call_in_count_by_period" operation="select">
        <statement>select to_char(create_time, 'YYYY-MM-DD HH24:00:00') as hour, count(*) from icc_t_callevent where create_time &gt;= '{start_time}' and create_time &lt; '{end_time}'  and ( called_relation_dept = '{dept_code}' or caller_relation_dept = '{dept_code}' or  acd_relation_dept = '{dept_code}') group by hour order by hour;</statement>        
    </sql>
	<sql id="query_alarm_count_by_receive_type" operation="select">
        <statement>select jjlx, count(1) from icc_t_jjdb where jjsj &gt;= '{start_time}' and jjsj &lt;= '{end_time}' and jjdwdm = '{dept_code}' and jqclztdm &lt;&gt; '00' and (scbs is null or scbs!='1') group by jjlx;</statement>        
    </sql>
        <sql id="query_alarm_count_by_first_type" operation="select">
        <statement>select jqlbdm, count(1) from icc_t_jjdb where jjsj &gt;= '{start_time}' and jjsj &lt;= '{end_time}' and jjdwdm ='{dept_code}' and (scbs is null or scbs!='1') group by jqlbdm;</statement>        
    </sql>        	
	<sql id="query_alarm_info_by_first_type" operation="select">
        <statement>select * from icc_t_jjdb where jjsj &gt;= '{start_time}' and jjsj &lt;= '{end_time}' and jjdwdm ='{dept_code}' and (scbs is null or scbs!='1') and jqlbdm='{first_type}';</statement>        
    </sql>	
	<sql id="query_call_in_count" operation="select">
		<statement>select count(1) from icc_t_callevent</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{start_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">caller_id!='{autourge_caller}'</isNotNull>
			<isNotNull prepend="and" isString="1"> call_direction = 'in'</isNotNull>
			<isNotNull prepend="and" isString="1">( called_relation_dept = '{dept_code}' or caller_relation_dept = '{dept_code}' or  acd_relation_dept = '{dept_code}')</isNotNull>
		</dynamic>
	</sql>
	<sql id="query_call_out_count" operation="select">
		<statement>select count(1) from icc_t_callevent</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{start_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">caller_id!='{autourge_caller}'</isNotNull>
			<isNotNull prepend="and" isString="1"> call_direction='out'</isNotNull>
			<isNotNull prepend="and" isString="1">( called_relation_dept = '{dept_code}' or caller_relation_dept = '{dept_code}' or  acd_relation_dept = '{dept_code}')</isNotNull>
		</dynamic>
	</sql>
	<sql id="query_call_release_count" operation="select">
		<statement>select count(1) from icc_t_callevent</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{start_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">caller_id!='{autourge_caller}'</isNotNull>
			<isNotNull prepend="and" isString="1"> hangup_type='release'</isNotNull>
			<isNotNull prepend="and" isString="1">( called_relation_dept = '{dept_code}' or caller_relation_dept = '{dept_code}' or  acd_relation_dept = '{dept_code}')</isNotNull>
		</dynamic>
	</sql>
	<sql id="query_call_in_count_by_recursive" operation="select">
		<statement>select count(1) from icc_t_callevent</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{start_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">caller_id!='{autourge_caller}'</isNotNull>
			<isNotNull prepend="and" isString="1">call_direction = 'in'</isNotNull>
			<isNotNull prepend="and" isString="1">( called_relation_dept_path like '%{dept_code}%' or caller_relation_dept_path like '%{dept_code}%' or acd_relation_dept_path like '%{dept_code}%' )</isNotNull>
		</dynamic>
	</sql>
	<sql id="query_call_out_count_by_recursive" operation="select">
		<statement>select count(1) from icc_t_callevent</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{start_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">caller_id!='{autourge_caller}'</isNotNull>
			<isNotNull prepend="and" isString="1">call_direction='out'</isNotNull>
			<isNotNull prepend="and" isString="1">( called_relation_dept_path like '%{dept_code}%' or caller_relation_dept_path like '%{dept_code}%' or acd_relation_dept_path like '%{dept_code}%')</isNotNull>
		</dynamic>
	</sql>
	
	<sql id="query_call_release_count_by_recursive" operation="select">
		<statement>select count(1) from icc_t_callevent</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{start_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{end_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">caller_id!='{autourge_caller}'</isNotNull>
			<isNotNull prepend="and" isString="1">hangup_type='release'</isNotNull>
			<isNotNull prepend="and" isString="1">( called_relation_dept_path like '%{dept_code}%' or caller_relation_dept_path like '%{dept_code}%' or acd_relation_dept_path like '%{dept_code}%')</isNotNull>
		</dynamic>
	</sql>
	
	<sql id="query_talktime_by_recursive" operation="select">
        <statement>select round(extract(epoch FROM (hangup_time - talk_time ))::numeric) as talktime from icc_t_callevent where talk_time is not null and create_time &gt;= '{start_time}' and create_time &lt;= '{end_time}' and ( called_relation_dept_path like '%{dept_code}%' or caller_relation_dept_path like '%{dept_code}%' or acd_relation_dept_path like '%{dept_code}%');</statement>        
    </sql>	
	<sql id="query_call_in_count_by_period_by_recursive" operation="select">
        <statement>select to_char(create_time, 'YYYY-MM-DD HH24:00:00') as hour, count(*) from icc_t_callevent where create_time &gt;= '{start_time}' and create_time &lt; '{end_time}' and ( called_relation_dept_path like '%{dept_code}%' or caller_relation_dept_path like '%{dept_code}%' or acd_relation_dept_path like '%{dept_code}%' ) group by hour order by hour;</statement>        
    </sql>
	<sql id="query_alarm_count_by_receive_type_by_recursive" operation="select">
        <statement>select jjlx,count(1) from icc_t_jjdb where jjsj &gt;= '{start_time}' and jjsj &lt;= '{end_time}' and jjdwdm in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%') and jqclztdm &lt;&gt; '00' and (scbs is null or scbs!='1') group by jjlx;</statement>        
    </sql>
	<sql id="query_alarm_count_by_first_type_by_recursive" operation="select">
        <statement>select jqlbdm, count(1) from icc_t_jjdb where jjsj &gt;= '{start_time}' and jjsj &lt;= '{end_time}' and jjdwdm in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%') and (scbs is null or scbs!='1') group by jqlbdm;</statement>        
    </sql>	
	<sql id="query_alarm_info_by_first_type_by_recursive" operation="select">
        <statement>select * from icc_t_jjdb where jjsj &gt;= '{start_time}' and jjsj &lt;= '{end_time}' and (scbs is null or scbs!='1') and jjdwdm in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%') and jqlbdm='{first_type}';</statement>        
    </sql>
	<sql id="query_number_dept_from_icc_t_seat" operation="select">
        <statement>select dept_code from icc_t_seat as b where no = '{number}' and b.is_delete='false';</statement>        
    </sql>
    <sql id="query_acd_dept_from_icc_t_acd_dept" operation="select">
        <statement>select dept_code from icc_t_acd_dept where acd='{acd}';</statement>        
    </sql>	
	<sql id="query_name_path_from_icc_t_dept" operation="select">
        <statement>select name,shortcut, path, pucorgidentifier from icc_t_dept where code='{dept_code}';</statement>        
    </sql>	
	<sql id="insert_icc_t_alarm_bjrxx" operation="insert">
		<statement>INSERT into public.icc_t_alarm_bjrxx(sfzhm,biaoqian,zjlx,cph,rylb,ryxl,xm,xb,csrq,mz,jgssxdm,jggjdqdm,hjdqh,hjdqhdm,hjdz,hjdgajgdm,hjdgajg,xzdgajg,
		xzdgajgdm,xzdqh,xzdqhdm,xzddz,sjhm,hujibiangeng,zp,bzxx) VALUES</statement>
		<dynamic prepend="">('{sfzhm}','{biaoqian}','{zjlx}','{cph}','{rylb}','{ryxl}','{xm}','{xb}','{csrq}','{mz}'
		,'{jgssxdm}','{jggjdqdm}','{hjdqh}','{hjdqhdm}','{hjdz}','{hjdgajgdm}','{hjdgajg}','{xzdgajg}'
		,'{xzdgajgdm}','{xzdqh}','{xzdqhdm}','{xzddz}','{sjhm}','{hujibiangeng}','{zp}','{bzxx}')</dynamic>
	</sql>
	
	<sql id="insert_vcs_sync_time" operation="insert">
		<statement>INSERT into public.icc_t_sync_log(guid,sync_type,sync_time) VALUES</statement>
		<dynamic prepend="">('{guid}','{sync_type}','{sync_time}')</dynamic>
	</sql>
	
	<sql id="select_vcs_sync_time" operation="select">
		<statement>SELECT * FROM public.icc_t_sync_log</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
			<isNotNull prepend="and" isString="1">sync_type = '{sync_type}'</isNotNull>
		</dynamic>
	</sql>
	
	<sql id="update_vcs_sync_time" operation="update">
        <statement>UPDATE public.icc_t_sync_log</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">guid = '{guid}'</isNotNull>
            <isNotNull prepend="and" isString="1">sync_type = '{sync_type}'</isNotNull>
            <isNotNull prepend="and" isString="1">sync_time = '{sync_time}'</isNotNull>
        </dynamic>
    </sql>
	
	
	<sql id="insert_bll_status" operation="insert">
		<statement>INSERT into public.icc_t_bllstatus(id,jjdbh,pjdbh,owner,ownertype,status,gxsj,cjsj) VALUES</statement>
		<dynamic prepend="">('{id}','{alarm_id}','{process_id}','{owner}','{owner_type}','{bll_status}','{update_time}','{create_time}')</dynamic>
	</sql>
	
	<sql id="select_bll_status" operation="select">
		<statement>SELECT id,owner,ownertype,status as bll_status,jjdbh as alarm_id,pjdbh as process_id,gxsj as update_time,cjsj as create_time FROM public.icc_t_bllstatus</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">owner = '{owner}'</isNotNull>
			<isNotNull prepend="and" isString="1">ownertype = '{owner_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">status = '{bll_status}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdbh = '{process_id}'</isNotNull>
			<isNotNull prepend="and" isString="0">cjsj = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">gxsj = '{update_time}'</isNotNull>
		</dynamic>
		<orderby prepend="order by">
			<isNotNull>{orderby}</isNotNull>
		</orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>
	
	<sql id="insert_icc_t_fkdb" operation="insert">
        <statement>INSERT into public.icc_t_fkdb(fkdbh,xzqhdm,jjdbh,pjdbh,fklyh,fkdwdm,fkybh,fkyxm,fksj,cjsj01,ddxcsj,xcclwbsj,jqlbdm,jqlxdm,jqxldm,jqfssj,fkdwxzb,fkdwyzb,cjczqk,cdcc,
			cdrc,jzrs,jzrssm,ssrs,ssrssm,swrs,swrssm,jqcljgdm,jqcljgsm,tqqkdm,ssqkms,zhrs,sars,tprs,jtsgxtdm,sfzzwxp,jtsgccyydm,njddm,lmzkdm,shjdcs,
			shfjdcs,dllxdm,jqclztdm,cjsj,gxsj,jdxz,sdcs,sfqz,yjdwdm,yjdwlxr,yjdwfkqk,yjdwfkqksm,ajbh,nrbq,jqfsdy,jqbwdm,forcetype,dqywzt,
			fkdwdmbs,fkdwmc,livestatus,jqzldm,tjdwdmbs,cdct,bjdz,jqdz,wxbs,yjdwmc,yjdwdmbs,tzhgxdwdm,tzhgxdwmc,tzhgxdwdmbs,xzqhmc, jjsj) VALUES
		</statement>
		<dynamic prepend="">('{id}','{destrict}','{caseId}','{dispatchId}','{record}','{feedbackOrgCode}','{feedbackCode}','{feedbackName}','{feedbackTime}','{forceAcceptTime}',
			'{arriveTime}','{siteDoneTime}','{caseType}','{case2ndType}','{case3rdType}','{happenTime}','{longitude}','{latitude}','{disposalDec}','{dispatcheVehicles}',
			'{dispatchePeople}','{rescuers}','{rescuersDes}','{injured}','{injuredDes}','{dead}','{deadDes}','{resultCode}','{resultDes}','{weatherCode}',
			'{lossDes}','{caught}','{involved}','{escapees}','{trafficAccidentCode}','{isCarryDangerousGoods}','{trafficAccidentCauseCode}','{visibilityCode}','{roadConditionCode}','{damagedVehicles}',
			'{damagedNonMotorVehicles}','{roadTypeCode}','{status}','{createTime}','{updateTime}','{townShip}','{territorialVillage}','{isEvidence}','{transferOrgCode}','{transferOrgContacts}',
			'{transferOrgFeedbackDesCode}','{transferOrgFeedbackDes}','{caseNumber}','{lable}','{occurredArea}','{locationCode}','{policeType}','{bllStatus}',
			'{feedbackOrgIdentifier}','{feedbackOrgName}','{liveStatus}','{case4thType}','{updateOrgIdentifier}','{launchBoat}','{alarmAddress}','{address}',
			'{isInvaild}','{transferOrgName}','{transferOrgIdentifier}','{modifyAreaOrgId}','{modifyAreaOrgName}','{modifyAreaOrgIdentifier}', '{district_name}', '{received_time}'
		)</dynamic>
	</sql>
	
	<sql id="select_icc_t_fkdb" operation="select">
		<statement>SELECT fkdbh FROM public.icc_t_fkdb</statement>
        <dynamic prepend="where"> 
			<isNotNull prepend="and" isString="1">fkdbh = '{id}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
	</sql>
	<sql id="update_icc_t_fkdb" operation="update">
        <statement>UPDATE public.icc_t_fkdb</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">fkdbh='{id}'</isNotNull>
            <isNotNull prepend="and" isString="1">xzqhdm='{destrict}'</isNotNull>
            <isNotNull prepend="and" isString="1">jjdbh='{caseId}'</isNotNull>
            <isNotNull prepend="and" isString="1">pjdbh='{dispatchId}'</isNotNull>
            <isNotNull prepend="and" isString="1">fklyh='{record}'</isNotNull>
            <isNotNull prepend="and" isString="1">fkdwdm='{feedbackOrgCode}'</isNotNull>
            <isNotNull prepend="and" isString="1">fkybh='{feedbackCode}'</isNotNull>
            <isNotNull prepend="and" isString="1">fkyxm='{feedbackName}'</isNotNull>
            <isNotNull prepend="and" isString="0">fksj='{feedbackTime}'</isNotNull>
            <isNotNull prepend="and" isString="0">cjsj01='{forceAcceptTime}'</isNotNull>
            <isNotNull prepend="and" isString="0">ddxcsj='{arriveTime}'</isNotNull>
            <isNotNull prepend="and" isString="0">xcclwbsj='{siteDoneTime}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqlbdm='{caseType}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqlxdm='{case2ndType}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqxldm='{case3rdType}'</isNotNull>
            <isNotNull prepend="and" isString="0">jqfssj='{happenTime}'</isNotNull>        
            <isNotNull prepend="and" isString="1">fkdwxzb='{longitude}'</isNotNull>
            <isNotNull prepend="and" isString="1">fkdwyzb='{latitude}'</isNotNull>
			<isNotNull prepend="and" isString="1">cjczqk='{disposalDec}'</isNotNull>
            <isNotNull prepend="and" isString="1">cdcc='{dispatcheVehicles}'</isNotNull>
            <isNotNull prepend="and" isString="1">cdrc='{dispatchePeople}'</isNotNull>
            <isNotNull prepend="and" isString="1">jzrs='{rescuers}'</isNotNull>
            <isNotNull prepend="and" isString="1">jzrssm='{rescuersDes}'</isNotNull>
            <isNotNull prepend="and" isString="1">ssrs='{injured}'</isNotNull>
            <isNotNull prepend="and" isString="1">ssrssm='{injuredDes}'</isNotNull>
            <isNotNull prepend="and" isString="1">swrs='{dead}'</isNotNull>
            <isNotNull prepend="and" isString="1">swrssm='{deadDes}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqcljgdm='{resultCode}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqcljgsm='{resultDes}'</isNotNull>
            <isNotNull prepend="and" isString="1">tqqkdm='{weatherCode}'</isNotNull>
            <isNotNull prepend="and" isString="1">ssqkms='{lossDes}'</isNotNull>
            <isNotNull prepend="and" isString="1">zhrs='{caught}'</isNotNull>
            <isNotNull prepend="and" isString="1">sars='{involved}'</isNotNull>
            <isNotNull prepend="and" isString="1">tprs='{escapees}'</isNotNull>
            <isNotNull prepend="and" isString="1">jtsgxtdm='{trafficAccidentCode}'</isNotNull>
            <isNotNull prepend="and" isString="1">sfzzwxp='{isCarryDangerousGoods}'</isNotNull>
            <isNotNull prepend="and" isString="1">jtsgccyydm='{trafficAccidentCauseCode}'</isNotNull>
            <isNotNull prepend="and" isString="1">njddm='{visibilityCode}'</isNotNull>
            <isNotNull prepend="and" isString="1">lmzkdm='{roadConditionCode}'</isNotNull>
            <isNotNull prepend="and" isString="1">shjdcs='{damagedVehicles}'</isNotNull>
            <isNotNull prepend="and" isString="1">shfjdcs='{damagedNonMotorVehicles}'</isNotNull>
            <isNotNull prepend="and" isString="1">dllxdm='{roadTypeCode}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqclztdm='{status}'</isNotNull>
            <isNotNull prepend="and" isString="0">gxsj='{updateTime}'</isNotNull>            
            <isNotNull prepend="and" isString="1">jdxz='{townShip}'</isNotNull>
            <isNotNull prepend="and" isString="1">sdcs='{territorialVillage}'</isNotNull>
            <isNotNull prepend="and" isString="1">sfqz='{isEvidence}'</isNotNull>
            <isNotNull prepend="and" isString="1">yjdwdm='{transferOrgCode}'</isNotNull>
			<isNotNull prepend="and" isString="1">yjdwlxr='{transferOrgContacts}''</isNotNull>
			<isNotNull prepend="and" isString="1">yjdwfkqk='{transferOrgFeedbackDesCode}'</isNotNull>
            <isNotNull prepend="and" isString="1">yjdwfkqksm='{transferOrgFeedbackDes}'</isNotNull>
			<isNotNull prepend="and" isString="1">'ajbh='{caseNumber}'</isNotNull>
            <isNotNull prepend="and" isString="1">nrbq='{lable}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqfsdy='{occurredArea}'</isNotNull>
			<isNotNull prepend="and" isString="0">jqbwdm='{locationCode}'</isNotNull>
			<isNotNull prepend="and" isString="1">forcetype='{policeType}'</isNotNull>
			<isNotNull prepend="and" isString="1">dqywzt='{bllStatus}'</isNotNull>
			<isNotNull prepend="and" isString="1">fkdwdmbs='{feedbackOrgIdentifier}'</isNotNull>
			<isNotNull prepend="and" isString="0">fkdwmc='{feedbackOrgName}'</isNotNull>
			<isNotNull prepend="and" isString="1">livestatus='{livestatus}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqzldm='{case4thType}'</isNotNull>
			<isNotNull prepend="and" isString="1">tjdwdmbs='{updateOrgIdentifier}'</isNotNull>
			<isNotNull prepend="and" isString="1">cdct='{launchBoat}'</isNotNull>
			<isNotNull prepend="and" isString="1">bjdz='{alarmAddress}'</isNotNull>
			<isNotNull prepend="and" isString="1">jqdz='{address}'</isNotNull>
			<isNotNull prepend="and" isString="1">wxbs='{isInvaild}'</isNotNull>
			<isNotNull prepend="and" isString="1">yjdwmc='{transferOrgName}'</isNotNull>
			<isNotNull prepend="and" isString="0">yjdwdmbs='{transferOrgIdentifier}'</isNotNull>
			<isNotNull prepend="and" isString="0">tzhgxdwdm='{modifyAreaOrgId}'</isNotNull>
			<isNotNull prepend="and" isString="0">tzhgxdwmc='{modifyAreaOrgName}'</isNotNull>
			<isNotNull prepend="and" isString="0">tzhgxdwdmbs='{modifyAreaOrgIdentifier}'</isNotNull>
			<isNotNull prepend="and" isString="0">xzqhmc='{district_name}'</isNotNull>
			<isNotNull prepend="and" isString="0">jjsj &gt;= '{jjsj_begin}'</isNotNull>
			<isNotNull prepend="and" isString="0">jjsj &lt;= '{jjsj_end}'</isNotNull>
        </dynamic>
    </sql>
	
	<sql id="update_bll_status" operation="update">
        <statement>UPDATE public.icc_t_bllstatus</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">owner = '{owner}'</isNotNull>
			<isNotNull prepend="and" isString="1">ownertype = '{ownertype}'</isNotNull>
			<isNotNull prepend="and" isString="1">status = '{bll_status}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjdbh = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">pjdbh = '{process_id}'</isNotNull>
			<isNotNull prepend="and" isString="0">cjsj = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="0">gxsj = '{update_time}'</isNotNull>
        </dynamic>
    </sql>		
	<sql id="oracle_query_test" operation="select">
        <statement>SELECT * FROM TEST01.STUDENT</statement>   
    </sql>	
	<sql id="insert_icc_t_acd_dept" operation="insert">
		<statement>INSERT into public.icc_t_acd_dept(acd,dept_code,dept_name,remark,update_time,dept_code_path,dept_name_path) VALUES</statement>
		<dynamic prepend="">('{acd}','{dept_code}','{dept_name}','{remark}','{update_time}','{dept_code_path}','{dept_name_path}')</dynamic>
	</sql>	
	<sql id="query_icc_t_acd_dept" operation="select">
        <statement>select * from icc_t_acd_dept;</statement>        
    </sql>
	<sql id="query_icc_t_acd_dept_by_acd" operation="select">
        <statement>select * from icc_t_acd_dept where acd='{acd}';</statement>        
    </sql>
	<sql id="delete_icc_t_acd_dept" operation="select">
        <statement>DELETE from icc_t_acd_dept where acd = '{acd}';</statement> 
    </sql>
	<sql id="query_number_black_count_by_number" operation="select">
        <statement>select count(1) as rcount from icc_t_blacklist where limit_num='{limit_num}';</statement> 
    </sql>
	<sql id="update_icc_t_acd_dept" operation="update">
        <statement>UPDATE public.icc_t_acd_dept</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">acd='{acd}'</isNotNull>
			<isNotNull prepend="and" isString="1">dept_code='{dept_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">dept_name='{dept_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">remark='{remark}'</isNotNull>
			<isNotNull prepend="and" isString="1">dept_code_path='{dept_code_path}'</isNotNull>
			<isNotNull prepend="and" isString="1">dept_name_path='{dept_name_path}'</isNotNull>
			<isNotNull prepend="and" isString="0">update_time='{update_time}'</isNotNull>
        </dynamic>
    </sql>	
	<sql id="oracle_query_feedback" operation="select">
        <statement>select * from {mode_name}.FZ_T_FKDB where gxsj &gt;= TO_TIMESTAMP('{begin_time}', 'YYYY-MM-DD HH24:MI:SS') and gxsj &lt; TO_TIMESTAMP('{end_time}', 'YYYY-MM-DD HH24:MI:SS') ;</statement> 
    </sql>
	<sql id="oracle_query_process" operation="select">
        <statement>select * from {mode_name}.FZ_T_PJDB where gxsj &gt;= TO_TIMESTAMP('{begin_time}', 'YYYY-MM-DD HH24:MI:SS') and gxsj &lt; TO_TIMESTAMP('{end_time}', 'YYYY-MM-DD HH24:MI:SS') ;</statement> 
    </sql>
	<sql id="oracle_filter_process" operation="select">
        <statement>select count(1) from public.icc_t_pjdb where pjdbh='{PJDBH}' and jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}';</statement> 
    </sql>
	<sql id="oracle_judge_alarm_exist" operation="select">
        <statement>select count(1) as count from {mode_name}.ICC_T_JJDB where jjdbh='{jjdbh}';</statement> 
    </sql>
	<sql id="oracle_insert_founder_t_jjdb" operation="select">
        <statement>INSERT into {mode_name}.ICC_T_JJDB(xzqhdm,jjdwdm,jjdbh,glzjjdbh,gllx,jjlx,jqlyfs,lhlx,jjlyh,jjybh,jjyxm,bjsj,jjsj,jjwcsj,bjdh,bjdhyhm,bjdhyhdz,bjrmc,bjrxbdm,lxdh,bjrzjdm,bjrzjhm,bjdz,jqdz,bjnr,gxdwdm,jqlbdm,jqlxdm,jqxldm,jqzldm,tzdbh,zars,ywcwq,ywwxwz,ywbzxl,bkryqksm,ssryqksm,swryqksm,sfswybj,bjrxzb,bjryzb,fxdwjd,fxdwwd,bcjjnr,jqdjdm,jqclztdm,yjjydjdm,sjchpzldm,sjcph,sfswhcl,rksj,gxsj,jqbq,sfbm,jjfs,gxdwmc,gxdwdmbs,jjdwmc,jjdwdmbs,scbs,wxbs,dqywzt,jjxwh,hbbs,cjry,gxry,hfbs,fkbs,ybjxxyz,tbcjbs,tzhgxdwdm,tzhgxdwmc,tzhgxdwdmbs,sftsjz,sfja) VALUES('{xzqhdm}','{jjdwdm}','{jjdbh}','{glzjjdbh}','{gllx}','{jjlx}','{jqlyfs}','{lhlx}','{jjlyh}','{jjybh}','{jjyxm}', TO_TIMESTAMP('{bjsj}', 'YYYY-MM-DD HH24:MI:SS'),TO_TIMESTAMP('{jjsj}', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('{jjwcsj}', 'YYYY-MM-DD HH24:MI:SS'),'{bjdh}','{bjdhyhm}','{bjdhyhdz}', '{bjrmc}','{bjrxbdm}','{lxdh}', '{bjrzjdm}','{bjrzjhm}', '{bjdz}','{jqdz}','{bjnr}', '{gxdwdm}', '{jqlbdm}', '{jqlxdm}','{jqxldm}','{jqzldm}', '{tzdbh}','{zars}', '{ywcwq}', '{ywwxwz}','{ywbzxl}', '{bkryqksm}', '{ssryqksm}', '{swryqksm}', '{sfswybj}', '{bjrxzb}', '{bjryzb}', '{fxdwjd}','{fxdwwd}', '{bcjjnr}','{jqdjdm}','{jqclztdm}', '{yjjydjdm}', '{sjchpzldm}', '{sjcph}', '{sfswhcl}', TO_TIMESTAMP('{rksj}', 'YYYY-MM-DD HH24:MI:SS'), TO_TIMESTAMP('{gxsj}', 'YYYY-MM-DD HH24:MI:SS'), '{jqbq}','{sfbm}',  '{jjfs}', '{gxdwmc}', '{gxdwdmbs}', '{jjdwmc}',  '{jjdwdmbs}', '{scbs}','{wxbs}','{dqywzt}','{jjxwh}', '{hbbs}','{cjry}','{gxry}','{hfbs}','{fkbs}' ,'{ybjxxyz}','{tbcjbs}','{tzhgxdwdm}','{tzhgxdwmc}','{tzhgxdwdmbs}','{sftsjz}','{sfja}')</statement>        
    </sql>
	<sql id="oracle_update_founder_t_jjdb" operation="select">
        <statement>UPDATE {mode_name}.ICC_T_JJDB set xzqhdm = '{xzqhdm}', jjdwdm = '{jjdwdm}',glzjjdbh = '{glzjjdbh}',gllx = '{gllx}',jjlx = '{jjlx}',jqlyfs = '{jqlyfs}',lhlx = '{lhlx}',jjlyh = '{jjlyh}',jjybh = '{jjybh}',jjyxm = '{jjyxm}',bjsj = TO_TIMESTAMP('{bjsj}', 'YYYY-MM-DD HH24:MI:SS'),jjsj = TO_TIMESTAMP('{jjsj}', 'YYYY-MM-DD HH24:MI:SS'),jjwcsj = TO_TIMESTAMP('{jjwcsj}', 'YYYY-MM-DD HH24:MI:SS'),bjdh = '{bjdh}',bjdhyhm = '{bjdhyhm}',bjdhyhdz = '{bjdhyhdz}',bjrmc = '{bjrmc}',bjrxbdm = '{bjrxbdm}',lxdh = '{lxdh}',bjrzjdm = '{bjrzjdm}',bjrzjhm = '{bjrzjhm}',bjdz = '{bjdz}',jqdz = '{jqdz}',bjnr = '{bjnr}',gxdwdm = '{gxdwdm}',jqlbdm = '{jqlbdm}',jqlxdm = '{jqlxdm}',jqxldm = '{jqxldm}',jqzldm = '{jqzldm}',tzdbh = '{tzdbh}',zars = '{zars}',ywcwq = '{ywcwq}',ywwxwz = '{ywwxwz}',ywbzxl = '{ywbzxl}',bkryqksm = '{bkryqksm}',ssryqksm = '{ssryqksm}',swryqksm = '{swryqksm}',sfswybj = '{sfswybj}',bjrxzb = '{bjrxzb}',bjryzb = '{bjryzb}',fxdwjd = '{fxdwjd}',fxdwwd = '{fxdwwd}',bcjjnr = '{bcjjnr}',jqdjdm = '{jqdjdm}',jqclztdm = '{jqclztdm}',yjjydjdm = '{yjjydjdm}',sjchpzldm = '{sjchpzldm}',sjcph = '{sjcph}',sfswhcl = '{sfswhcl}',rksj=TO_TIMESTAMP('{rksj}', 'YYYY-MM-DD HH24:MI:SS'),gxsj = TO_TIMESTAMP('{gxsj}', 'YYYY-MM-DD HH24:MI:SS'),jqbq = '{jqbq}',sfbm = '{sfbm}',jjfs = '{jjfs}',gxdwmc = '{gxdwmc}',gxdwdmbs = '{gxdwdmbs}',jjdwmc = '{jjdwmc}',jjdwdmbs = '{jjdwdmbs}',scbs= '{scbs}',wxbs = '{wxbs}',dqywzt = '{dqywzt}',jjxwh = '{jjxwh}',hbbs = '{hbbs}',cjry = '{cjry}',gxry = '{gxry}',hfbs = '{hfbs}',fkbs = '{fkbs}',ybjxxyz = '{ybjxxyz}',tbcjbs = '{tbcjbs}',tzhgxdwdm = '{tzhgxdwdm}',tzhgxdwmc = '{tzhgxdwmc}',tzhgxdwdmbs = '{tzhgxdwdmbs}',sftsjz = '{sftsjz}',sfja = '{sfja}' where jjdbh = '{jjdbh}' and gxsj &lt; TO_TIMESTAMP('{gxsj}', 'YYYY-MM-DD HH24:MI:SS');</statement>        
    </sql>
	<sql id="oracle_judge_process_exist" operation="select">
        <statement>select count(1) as count from {mode_name}.ICC_T_PJDB where pjdbh='{pjdbh}';</statement> 
    </sql>
	<sql id="oracle_insert_founder_t_pjdb" operation="select">
		<statement>INSERT into {mode_name}.ICC_T_PJDB(xzqhdm,pjdbh,jjdbh,pjdwdm,pjybh,pjyxm,pjlyh,pjyj,cjdwdm,pjsj,xtzdddsj,pdqssj,qsryxm,qsrybm,cdry,cdcl,cdct,jqclztdm,rksj,gxsj,CJDZT,TBZT,cjdwmc,pjdwmc,cxyy) VALUES('{xzqhdm}','{pjdbh}','{jjdbh}','{pjdwdm}','{pjybh}','{pjyxm}','{pjlyh}','{pjyj}','{cjdwdm}',TO_TIMESTAMP('{pjsj}', 'YYYY-MM-DD HH24:MI:SS'),TO_TIMESTAMP('{xtzdddsj}', 'YYYY-MM-DD HH24:MI:SS'),TO_TIMESTAMP('{pdqssj}', 'YYYY-MM-DD HH24:MI:SS'),'{qsryxm}','{qsrybm}','{cdry}','{cdcl}','{cdct}','{jqclztdm}',TO_TIMESTAMP('{rksj}', 'YYYY-MM-DD HH24:MI:SS'),TO_TIMESTAMP('{gxsj}', 'YYYY-MM-DD HH24:MI:SS'),'{CJDZT}','{TBZT}','{cjdwmc}','{pjdwmc}','{cxyy}')</statement>		
	</sql>
	<sql id="oracle_update_founder_t_pjdb" operation="select">
		<statement>UPDATE {mode_name}.ICC_T_PJDB set jqclztdm='{jqclztdm}',gxsj=TO_TIMESTAMP('{gxsj}', 'YYYY-MM-DD HH24:MI:SS'),CJDZT='{CJDZT}',TBZT='{TBZT}',cxyy='{cxyy}' where pjdbh='{pjdbh}' and gxsj &lt; TO_TIMESTAMP('{gxsj}', 'YYYY-MM-DD HH24:MI:SS')</statement>		
	</sql>
	<sql id="founder_select_icc_t_jjdb_by_updatetime" operation="select">
        <statement>SELECT * FROM public.icc_t_jjdb where jjsj &lt;= '{jjsj_end}' and gxsj &gt;= '{begin_time}' and gxsj &lt; '{end_time}' and jqclztdm &gt; '00';</statement>        
    </sql>	
	<sql id="founder_select_icc_t_pjdb_by_updatetime" operation="select">
        <statement>SELECT A.* FROM public.icc_t_pjdb A left join public.icc_t_jjdb B on A.jjdbh=B.jjdbh where jjsj &lt;= '{jjsj_end}' and B.jjfs!='1' and case when A.gxsj is not null then A.gxsj &gt;= '{begin_time}' and A.gxsj &lt; '{end_time}' else A.rksj &gt;= '{begin_time}' and A.rksj &lt; '{end_time}' end;</statement>        
    </sql>	
	<sql id="founder_insert_icc_t_fkdb" operation="insert">
		<statement>INSERT INTO public.icc_t_fkdb(xzqhdm, fkdbh, jjdbh, pjdbh, fklyh, fkdwdm, fkybh, fkyxm, fksj, cjsj01, ddxcsj, xcclwbsj, jqlbdm, jqlxdm, jqxldm, jqzldm, jqfssj, bjdz, jqdz, fkdwxzb, fkdwyzb, cjczqk, cdcc, cdrc, cdct, jzrs, jzrssm, ssrs, ssrssm, swrs, swrssm, jqcljgdm, jqcljgsm, tqqkdm, ssqkms, zhrs, sars, tprs, jtsgxtdm, sfzzwxp, jtsgccyydm, njddm, lmzkdm, shjdcs, shfjdcs, dllxdm, jqclztdm, cjsj, gxsj, jdxz, sdcs, sfqz, yjdwdm, yjdwlxr, yjdwfkqk, yjdwfkqksm, ajbh, nrbq, jqbwdm, fklx,fkdwmc) VALUES</statement>
		<dynamic prepend="">('{xzqhdm}', '{fkdbh}', '{jjdbh}', '{pjdbh}', '{fklyh}', '{fkdwdm}', '{fkybh}', '{fkyxm}', '{fksj}', '{cjsj01}', '{ddxcsj}', '{xcclwbsj}', '{jqlbdm}', '{jqlxdm}', '{jqxldm}', '{jqzldm}', '{jqfssj}', '{bjdz}', '{jqdz}', '{fkdwxzb}', '{fkdwyzb}', '{cjczqk}', '{cdcc}', '{cdrc}', '{cdct}', '{jzrs}', '{jzrssm}', '{ssrs}', '{ssrssm}', '{swrs}', '{swrssm}', '{jqcljgdm}', '{jqcljgsm}', '{tqqkdm}', '{ssqkms}', '{zhrs}', '{sars}', '{tprs}', '{jtsgxtdm}', '{sfzzwxp}', '{jtsgccyydm}', '{njddm}', '{lmzkdm}', '{shjdcs}', '{shfjdcs}', '{dllxdm}', '{jqclztdm}', '{cjsj}', '{gxsj}', '{jdxz}', '{sdcs}', '{sfqz}', '{yjdwdm}', '{yjdwlxr}', '{yjdwfkqk}', '{yjdwfkqksm}', '{ajbh}', '{nrbq}', '{jqbwdm}', '{fklx}','{fkdwmc}');</dynamic>		
	</sql>
	<sql id="founder_update_icc_t_fkdb" operation="update">
        <statement>UPDATE public.icc_t_fkdb</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">fkdbh='{fkdbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">jjdbh='{jjdbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">xzqhdm='{xzqhdm}'</isNotNull>
            <isNotNull prepend="and" isString="1">pjdbh='{pjdbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">fklyh='{fklyh}'</isNotNull>
            <isNotNull prepend="and" isString="1">fkdwdm='{fkdwdm}'</isNotNull>
            <isNotNull prepend="and" isString="1">fkybh='{fkybh}'</isNotNull>
            <isNotNull prepend="and" isString="1">fkyxm='{fkyxm}'</isNotNull>
            <isNotNull prepend="and" isString="0">fksj='{fksj}'</isNotNull>
            <isNotNull prepend="and" isString="0">cjsj01='{cjsj01}'</isNotNull>
            <isNotNull prepend="and" isString="0">ddxcsj='{ddxcsj}'</isNotNull>
            <isNotNull prepend="and" isString="0">xcclwbsj='{xcclwbsj}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqlbdm='{jqlbdm}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqlxdm='{jqlxdm}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqxldm='{jqxldm}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqzldm='{jqzldm}'</isNotNull>
            <isNotNull prepend="and" isString="0">jqfssj='{jqfssj}'</isNotNull>
            <isNotNull prepend="and" isString="1">bjdz='{bjdz}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqdz='{jqdz}'</isNotNull>
            <isNotNull prepend="and" isString="1">fkdwxzb='{fkdwxzb}'</isNotNull>
            <isNotNull prepend="and" isString="1">fkdwyzb='{fkdwyzb}'</isNotNull>
            <isNotNull prepend="and" isString="1">cdrc='{cdrc}'</isNotNull>
            <isNotNull prepend="and" isString="1">cdcc='{cdcc}'</isNotNull>
            <isNotNull prepend="and" isString="1">cjczqk='{cjczqk}'</isNotNull>
            <isNotNull prepend="and" isString="1">cdct='{cdct}'</isNotNull>
            <isNotNull prepend="and" isString="1">jzrs='{jzrs}'</isNotNull>
            <isNotNull prepend="and" isString="1">jzrssm='{jzrssm}'</isNotNull>
            <isNotNull prepend="and" isString="1">ssrs='{ssrs}'</isNotNull>
            <isNotNull prepend="and" isString="1">ssrssm='{ssrssm}'</isNotNull>
            <isNotNull prepend="and" isString="1">swrs='{swrs}'</isNotNull>
            <isNotNull prepend="and" isString="1">swrssm='{swrssm}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqcljgdm='{jqcljgdm}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqcljgsm='{jqcljgsm}'</isNotNull>
            <isNotNull prepend="and" isString="1">tqqkdm='{tqqkdm}'</isNotNull>
            <isNotNull prepend="and" isString="1">ssqkms='{ssqkms}'</isNotNull>
            <isNotNull prepend="and" isString="1">zhrs='{zhrs}'</isNotNull>
            <isNotNull prepend="and" isString="1">sars='{sars}'</isNotNull>
            <isNotNull prepend="and" isString="1">tprs='{tprs}'</isNotNull>
            <isNotNull prepend="and" isString="1">jtsgxtdm='{jtsgxtdm}'</isNotNull>
            <isNotNull prepend="and" isString="1">sfzzwxp='{sfzzwxp}'</isNotNull>
            <isNotNull prepend="and" isString="1">jtsgccyydm='{jtsgccyydm}'</isNotNull>
            <isNotNull prepend="and" isString="1">njddm='{njddm}'</isNotNull>
            <isNotNull prepend="and" isString="1">lmzkdm='{lmzkdm}'</isNotNull>
            <isNotNull prepend="and" isString="1">shjdcs='{shjdcs}'</isNotNull>
            <isNotNull prepend="and" isString="1">shfjdcs='{shfjdcs}'</isNotNull>
            <isNotNull prepend="and" isString="1">dllxdm='{dllxdm}'</isNotNull>
            <isNotNull prepend="and" isString="1">jqclztdm='{jqclztdm}'</isNotNull>
            <isNotNull prepend="and" isString="0">gxsj='{gxsj}'</isNotNull>
            <isNotNull prepend="and" isString="0">cjsj='{cjsj}',</isNotNull>
            <isNotNull prepend="and" isString="1">jdxz='{jdxz}'</isNotNull>
            <isNotNull prepend="and" isString="1">sdcs='{sdcs}'</isNotNull>
            <isNotNull prepend="and" isString="1">sfqz='{sfqz}'</isNotNull>
            <isNotNull prepend="and" isString="1">'ajbh='{ajbh}'</isNotNull>
            <isNotNull prepend="and" isString="1">yjdwlxr='{yjdwlxr}''</isNotNull>
            <isNotNull prepend="and" isString="1">yjdwfkqk='{yjdwfkqk}'</isNotNull>
            <isNotNull prepend="and" isString="1">yjdwfkqksm='{yjdwfkqksm}'</isNotNull>
            <isNotNull prepend="and" isString="1">nrbq='{nrbq}'</isNotNull>
            <isNotNull prepend="and" isString="0">jqbwdm='{jqbwdm}'</isNotNull>
            <isNotNull prepend="and" isString="0">fklx='{fklx}'</isNotNull>
			<isNotNull prepend="and" isString="0">fkdwmc='{fkdwmc}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_pjdb_process_id_by_alarm_id_and_create_time_mininum" operation="select">
        <statement>select * from public.icc_t_pjdb where jjdbh='{alarm_id}' and jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' order by rksj asc limit 1;</statement> 
    </sql>		
    <sql id="founder_filter_feedback" operation="select">
        <statement>select gxsj from public.icc_t_fkdb where fkdbh='{fkdbh}';</statement> 
    </sql>		
    <sql id="select_icc_t_dept_by_phone" operation="select">
        <statement>select count(1) as acount from icc_t_dept where phone='{phone}';</statement> 
    </sql>    		
	<sql id="postgres_query_processdata_by_jjdbh_and_cjdwdm" operation="select">
		<statement>select * from public.icc_t_pjdb where jjdbh='{jjdbh}' and cjdwdm='{cjdwdm}' and jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' order by rksj asc limit 1;</statement>
	</sql>
	<sql id="oracle_query_processdata_by_pjdbh" operation="select">
		<statement>select * from {mode_name}.FZ_T_PJDB where PJDBH='{PJDBH}';</statement>
	</sql>
	<sql id="oracle_query_alarm_by_updatetime" operation="select">
		<statement>select * from {mode_name}.FZ_T_JJDB where gxsj &gt;= TO_TIMESTAMP('{begin_time}', 'YYYY-MM-DD HH24:MI:SS') and gxsj &lt; TO_TIMESTAMP('{end_time}', 'YYYY-MM-DD HH24:MI:SS') and jqclztdm &gt; '00';</statement>
	</sql>
	<sql id="postgres_insert_icc_t_jjdb" operation="insert">
        <statement>INSERT into public.icc_t_jjdb(xzqhdm,jjdwdm,jjdbh,glzjjdbh,gllx,jjlx,jqlyfs,lhlx,jjlyh,jjybh,jjyxm,bjsj,jjsj,jjwcsj,bjdh,bjdhyhm,bjdhyhdz,bjrmc,bjrxbdm,lxdh,bjrzjdm,bjrzjhm,bjdz,jqdz,bjnr,gxdwdm,jqlbdm,jqlxdm,jqxldm,jqzldm,tzdbh,zars,ywcwq,ywwxwz,ywbzxl,bkryqksm,ssryqksm,swryqksm,sfswybj,bjrxzb,bjryzb,fxdwjd,fxdwwd,bcjjnr,jqdjdm,jqclztdm,yjjydjdm,sjchpzldm,sjcph,sfswhcl,rksj,gxsj,jqbq,sfbm,jjfs,gxdwmc,gxdwdmbs,jjdwmc,jjdwdmbs,scbs,wxbs,dqywzt,jjxwh,hbbs,cjry,gxry,hfbs,fkbs,ybjxxyz,tbcjbs,tzhgxdwdm,tzhgxdwmc,tzhgxdwdmbs,sftsjz,sfja) VALUES</statement>
		<dynamic prepend="">('{XZQHDM}','{JJDWDM}','{JJDBH}','{GLZJJDBH}','{GLLX}','{JJLX}','{JQLYFS}','{LHLX}','{JJLYH}','{JJYBH}','{JJYXM}', '{BJSJ}','{JJSJ}', '{JJWCSJ}','{BJDH}','{BJDHYHM}','{BJDHYHDZ}', '{BJRMC}','{BJRXBDM}','{LXDH}', '{BJRZJDM}','{BJRZJHM}', '{BJDZ}','{JQDZ}','{BJNR}', '{GXDWDM}', '{JQLBDM}', '{JQLXDM}','{JQXLDM}','{JQZLDM}', '{TZDBH}','{ZARS}', '{YWCWQ}', '{YWWXWZ}','{YWBZXL}', '{BKRYQKSM}', '{SSRYQKSM}', '{SWRYQKSM}', '{SFSWYBJ}', '{BJRXZB}', '{BJRYZB}', '{FXDWJD}','{FXDWWD}', '{BCJJNR}','{JQDJDM}','{JQCLZTDM}', '{YJJYDJDM}', '{SJCHPZLDM}', '{SJCPH}', '{SFSWHCL}', '{RKSJ}', '{GXSJ}',  '{JQBQ}','{SFBM}',  '{JJFS}', '{GXDWMC}', '{GXDWDMBS}', '{JJDWMC}',  '{JJDWDMBS}', '{SCBS}','{WXBS}','{DQYWZT}','{JJXWH}', '{HBBS}','{CJRY}','{GXRY}','{HFBS}','{FKBS}' ,'{YBJXXYZ}','{TBCJBS}','{TZHGXDWDM}','{TZHGXDWMC}','{TZHGXDWDMBS}','{SFTSJZ}','{SFJA}');</dynamic>        
    </sql>
	<sql id="postgres_update_icc_t_jjdb" operation="select">
        <statement>UPDATE public.icc_t_jjdb set xzqhdm = '{XZQHDM}', jjdwdm = '{JJDWDM}',glzjjdbh = '{GLZJJDBH}',gllx = '{GLLX}',jjlx = '{JJLX}',jqlyfs = '{JQLYFS}',lhlx = '{LHLX}',jjlyh = '{JJLYH}',jjybh = '{JJYBH}',jjyxm = '{JJYXM}',bjsj = '{BJSJ}',jjsj = '{JJSJ}',jjwcsj = '{JJWCSJ}',bjdh = '{BJDH}',bjdhyhm = '{BJDHYHM}',bjdhyhdz = '{BJDHYHDZ}',bjrmc = '{BJRMC}',bjrxbdm = '{BJRXBDM}',lxdh = '{LXDH}',bjrzjdm = '{BJRZJDM}',bjrzjhm = '{BJRZJHM}',bjdz = '{BJDZ}',jqdz = '{JQDZ}',bjnr = '{BJNR}',gxdwdm = '{GXDWDM}',jqlbdm = '{JQLBDM}',jqlxdm = '{JQLXDM}',jqxldm = '{JQXLDM}',jqzldm = '{JQZLDM}',tzdbh = '{TZDBH}',zars = '{ZARS}',ywcwq = '{YWCWQ}',ywwxwz = '{YWWXWZ}',ywbzxl = '{YWBZXL}',bkryqksm = '{BKRYQKSM}',ssryqksm = '{SSRYQKSM}',swryqksm = '{SWRYQKSM}',sfswybj = '{SFSWYBJ}',bjrxzb = '{BJRXZB}',bjryzb = '{BJRYZB}',fxdwjd = '{FXDWJD}',fxdwwd = '{FXDWWD}',bcjjnr = '{BCJJNR}',jqdjdm = '{JQDJDM}',jqclztdm = '{JQCLZTDM}',yjjydjdm = '{YJJYDJDM}',sjchpzldm = '{SJCHPZLDM}',sjcph = '{SJCPH}',sfswhcl = '{SFSWHCL}',rksj='{RKSJ}', gxsj = '{GXSJ}',jqbq = '{JQBQ}',sfbm = '{SFBM}',jjfs = '{JJFS}',gxdwmc = '{GXDWMC}',gxdwdmbs = '{GXDWDMBS}',jjdwmc = '{JJDWMC}',jjdwdmbs = '{JJDWDMBS}',scbs= '{SCBS}',wxbs = '{WXBS}',dqywzt = '{DQYWZT}',jjxwh = '{JJXWH}',hbbs = '{HBBS}',cjry = '{CJRY}',gxry = '{GXRY}',hfbs = '{HFBS}',fkbs = '{FKBS}',ybjxxyz = '{YBJXXYZ}',tbcjbs = '{TBCJBS}',tzhgxdwdm = '{TZHGXDWDM}',tzhgxdwmc = '{TZHGXDWMC}',tzhgxdwdmbs = '{TZHGXDWDMBS}',sftsjz = '{SFTSJZ}',sfja = '{SFJA}' where jjdbh = '{JJDBH}' and gxsj &lt; '{GXSJ}';</statement>        
    </sql>
	<sql id="postgres_judge_alarm_exist" operation="select">
        <statement>select count(1) as count from public.icc_t_jjdb where jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' and jjdbh='{jjdbh}';</statement> 
    </sql>
	<sql id="postgres_select_dispatch_code_name_by_dispatch_code" operation="select">
        <statement>select shortcut from public.icc_t_dept where code='{code}';</statement> 
    </sql>
	<sql id="select_jjdb_in_postgres_by_alarm_id" operation="select">
        <statement>select * from public.icc_t_jjdb where jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' and jjdbh='{alarm_id}';</statement> 
    </sql> 
	<sql id="founder_select_icc_t_fkdb_by_updatetime" operation="select">
        <statement>SELECT * FROM public.icc_t_fkdb where gxsj &gt;= '{begin_time}' and gxsj &lt; '{end_time}';</statement>        
    </sql>	
	<sql id="oracle_judge_feedbackid_exist" operation="select">
        <statement>select count(1) as count from {mode_name}.ICC_T_FKDB where fkdbh='{fkdbh}';</statement> 
    </sql>
		<sql id="oracle_insert_founder_t_fkdb" operation="select">
        <statement>INSERT into {mode_name}.ICC_T_FKDB(xzqhdm, fkdbh, jjdbh, pjdbh, fklyh, fkdwdm, fkybh, fkyxm, fksj, cjsj01, ddxcsj, xcclwbsj, jqlbdm, jqlxdm, jqxldm, jqzldm, jqfssj, bjdz, jqdz, fkdwxzb, fkdwyzb, cjczqk, cdcc, cdrc, cdct, jzrs, jzrssm, ssrs, ssrssm, swrs, swrssm, jqcljgdm, jqcljgsm, tqqkdm, ssqkms, zhrs, sars, tprs, jtsgxtdm, sfzzwxp, jtsgccyydm, njddm, lmzkdm, shjdcs, shfjdcs, dllxdm, jqclztdm, cjsj, gxsj, jdxz, sdcs, sfqz, yjdwdm, yjdwlxr, yjdwfkqk, yjdwfkqksm, ajbh, nrbq, jqbwdm, fklx, tbzt) VALUES('{xzqhdm}','{fkdbh}','{jjdbh}','{pjdbh}','{fklyh}','{fkdwdm}','{fkybh}','{fkyxm}',TO_TIMESTAMP('{fksj}', 'YYYY-MM-DD HH24:MI:SS'),TO_TIMESTAMP('{cjsj01}', 'YYYY-MM-DD HH24:MI:SS'),TO_TIMESTAMP('{ddxcsj}', 'YYYY-MM-DD HH24:MI:SS'),TO_TIMESTAMP('{xcclwbsj}', 'YYYY-MM-DD HH24:MI:SS'),'{jqlbdm}','{jqlxdm}','{jqxldm}','{jqzldm}',TO_TIMESTAMP('{jqfssj}', 'YYYY-MM-DD HH24:MI:SS'),'{bjdz}','{jqdz}','{fkdwxzb}','{fkdwyzb}','{cjczqk}','{cdcc}','{cdrc}','{cdct}','{jzrs}','{jzrssm}','{ssrs}','{ssrssm}','{swrs}','{swrssm}','{jqcljgdm}','{jqcljgsm}','{tqqkdm}','{ssqkms}','{zhrs}','{sars}','{tprs}','{jtsgxtdm}','{sfzzwxp}','{jtsgccyydm}','{njddm}','{lmzkdm}','{shjdcs}','{shfjdcs}','{dllxdm}','{jqclztdm}',TO_TIMESTAMP('{cjsj}', 'YYYY-MM-DD HH24:MI:SS'),TO_TIMESTAMP('{gxsj}', 'YYYY-MM-DD HH24:MI:SS'),'{jdxz}','{sdcs}','{sfqz}','{yjdwdm}','{yjdwlxr}','{yjdwfkqk}','{yjdwfkqksm}','{ajbh}','{nrbq}','{jqbwdm}','{fklx}','{tbzt}')</statement>        
    </sql>
    <sql id="oracle_update_founder_t_fkdb" operation="select">
        <statement>UPDATE {mode_name}.ICC_T_FKDB set xzqhdm='{xzqhdm}', jjdbh='{jjdbh}', pjdbh='{pjdbh}', fklyh='{fklyh}', fkdwdm='{fkdwdm}', fkybh='{fkybh}', fkyxm='{fkyxm}', fksj=TO_TIMESTAMP('{fksj}', 'YYYY-MM-DD HH24:MI:SS'), cjsj01=TO_TIMESTAMP('{cjsj01}', 'YYYY-MM-DD HH24:MI:SS'), ddxcsj=TO_TIMESTAMP('{ddxcsj}', 'YYYY-MM-DD HH24:MI:SS'), xcclwbsj=TO_TIMESTAMP('{xcclwbsj}', 'YYYY-MM-DD HH24:MI:SS'), jqlbdm='{jqlbdm}', jqlxdm='{jqlxdm}', jqxldm='{jqxldm}', jqzldm='{jqzldm}', jqfssj=TO_TIMESTAMP('{jqfssj}', 'YYYY-MM-DD HH24:MI:SS'), bjdz='{bjdz}', jqdz='{jqdz}', fkdwxzb='{fkdwxzb}', fkdwyzb='{fkdwyzb}', cjczqk='{cjczqk}', cdcc='{cdcc}', cdrc='{cdrc}', cdct='{cdct}', jzrs='{jzrs}', jzrssm='{jzrssm}', ssrs='{ssrs}', ssrssm='{ssrssm}', swrs='{swrs}', swrssm='{swrssm}', jqcljgdm='{jqcljqdm}', jqcljgsm='{jqcljqsm}', tqqkdm='{tqqjdm}', ssqkms='{ssqkms}', zhrs='{zhrs}', sars='{sars}', tprs='{tprs}', jtsgxtdm='{jtsgxtdm}', sfzzwxp='{sfzzwxp}', jtsgccyydm='{jtsgccyydm}', njddm='{njddm}', lmzkdm='{lmzkdm}', shjdcs='{shjdcs}', shfjdcs='{shfjdcs}', dllxdm='{dllxdm}', jqclztdm='{jqclztdm}', cjsj=TO_TIMESTAMP('{cjsj}', 'YYYY-MM-DD HH24:MI:SS'), gxsj=TO_TIMESTAMP('{gxsj}', 'YYYY-MM-DD HH24:MI:SS'), jdxz='{jdxz}', sdcs='{sdcs}', sfqz='{sfqz}', yjdwdm='{yjdwdm}', yjdwlxr='{yjdwlxr}', yjdwfkqk='{yjdwfkqk}', yjdwfkqksm='{yjdwfkqksm}', ajbh='{ajbh}', nrbq='{nrbq}', jqbwdm='{jqbwdm}', fklx='{fklx}', tbzt='{tbzt}';</statement>        
    </sql>
	<sql id="postgres_insert_icc_t_pjdb" operation="insert">
		<statement>INSERT into public.icc_t_pjdb(xzqhdm,pjdbh,jjdbh,pjdwdm,pjybh,pjyxm,pjlyh,pjyj,cjdwdm,pjsj,xtzdddsj,pdqssj,qsryxm,qsrybm,cdry,cdcl,
		cdct,jqclztdm,rksj,gxsj,cjdwmc,pjdwmc,sfzddpcj,sfja,cxyy,jjsj) VALUES</statement>
		<dynamic prepend="">('{xzqhdm}','{pjdbh}','{jjdbh}','{pjdwdm}','{pjybh}','{pjyxm}','{pjlyh}','{pjyj}','{cjdwdm}','{pjsj}','{xtzdddsj}','{pdqssj}', '{qsryxm}','{qsrybm}','{cdry}','{cdcl}','{cdct}','{jqclztdm}','{rksj}','{gxsj}','{cjdwmc}','{pjdwmc}','0','0','{cxyy}',(select jjsj from icc_t_jjdb where jjsj &gt;= '{jjsj_begin}' and jjsj &lt;= '{jjsj_end}' and jjdbh = '{alarm_id}'));</dynamic>	
	</sql>
	<sql id="select_max_state_in_feedback_table_by_alarm_id" operation="select">
		<statement>select MAX(JQCLZTDM) from {mode_name}.FZ_T_FKDB where jjdbh='{alarm_id}'</statement>
	</sql>
	<sql id="select_max_state_in_process_table_by_alarm_id" operation="select">
		<statement>select MAX(JQCLZTDM) from {mode_name}.FZ_T_PJDB where jjdbh='{alarm_id}'</statement>
	</sql>	
	<sql id="postgres_insert_icc_t_linked_dispatch12345" operation="select">
		<statement>INSERT into public.icc_t_linked_dispatch(id,alarm_id,state,linked_org_code,linked_org_name,linked_org_type,dispatch_code,dispatch_name,create_user,create_time,update_user,update_time, result) values('{id}','{alarm_id}','{state}','{linked_org_code}','{linked_org_name}','{linked_org_type}','{dispatch_code}','{dispatch_name}','{create_user}','{create_time}','{update_user}','{update_time}','{result}');</statement>	
	</sql>	
	<sql id="postgres_insert_icc_t_linked_dispatch" operation="insert">
        <statement>INSERT into public.icc_t_linked_dispatch(id,alarm_id,state,linked_org_code,linked_org_name,linked_org_type,dispatch_code,dispatch_name,create_user,create_time,update_user,update_time, result) VALUES</statement>
        <dynamic prepend="">('{id}','{alarm_id}','{state}','{linked_org_code}','{linked_org_name}','{linked_org_type}','{dispatch_code}','{dispatch_name}','{create_user}','{create_time}','{update_user}','{update_time}','{result}');</dynamic>
    </sql>
	<sql id="postgres_update_icc_t_linked_dispatch12345" operation="update">
        <statement>UPDATE public.icc_t_linked_dispatch</statement>
        <dynamic prepend="set">
			<isNotNull prepend="," isString="1">alarm_id='{alarm_id}'</isNotNull>
			<isNotNull prepend="," isString="1">state='{state}'</isNotNull>
			<isNotNull prepend="," isString="1">linked_org_code='{linked_org_code}'</isNotNull>
			<isNotNull prepend="," isString="1">linked_org_name='{linked_org_name}'</isNotNull>
			<isNotNull prepend="," isString="1">linked_org_type='{linked_org_type}'</isNotNull>
			<isNotNull prepend="," isString="1">dispatch_code='{dispatch_code}'</isNotNull>
			<isNotNull prepend="," isString="1">dispatch_name='{dispatch_name}'</isNotNull>
			<isNotNull prepend="," isString="1">create_user='{create_user}'</isNotNull>
			<isNotNull prepend="," isString="0">create_time='{create_time}'</isNotNull>
			<isNotNull prepend="," isString="1">update_user='{update_user}'</isNotNull>
			<isNotNull prepend="," isString="0">update_time='{update_time}'</isNotNull>
			<isNotNull prepend="," isString="1">result='{result}'</isNotNull>
        </dynamic>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">id='{id}'</isNotNull>
        </dynamic>
    </sql>	
	<sql id="postgres_update_icc_t_linked_dispatch" operation="update">
        <statement>UPDATE public.icc_t_linked_dispatch</statement>
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="1">linked_org_code = '{linked_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">linked_org_name = '{linked_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">linked_org_type = '{linked_org_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">dispatch_code = '{dispatch_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">dispatch_name = '{dispatch_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
			<isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
			<isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">result = '{result}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="postgres_select_icc_t_linked_dispatch" operation="select">
        <statement>SELECT * FROM public.icc_t_linked_dispatch</statement>
        <dynamic prepend="where"> 
			<isNotNull prepend="and" isString="1">id = '{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">state = '{state}'</isNotNull>
			<isNotNull prepend="and" isString="1">linked_org_code = '{linked_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">linked_org_name = '{linked_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">linked_org_type = '{linked_org_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">dispatch_code = '{dispatch_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">dispatch_name = '{dispatch_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_user = '{create_user}'</isNotNull>
			<isNotNull prepend="and" isString="0">create_time = '{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user = '{update_user}'</isNotNull>
			<isNotNull prepend="and" isString="0">update_time = '{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">result = '{result}'</isNotNull>
        </dynamic>
        <orderby prepend="order by">
            <isNotNull>{orderby}</isNotNull>
        </orderby>
        <pagedivided prepend="limit">
            <isNotNull prepend="limit">{limit}</isNotNull>
            <isNotNull prepend="offset">{offset}</isNotNull>
        </pagedivided>
    </sql>
	
	<sql id="postgres_update_icc_t_pjdb" operation="update">
        <statement>UPDATE public.icc_t_pjdb</statement>
        <dynamic prepend="set">
			<isNotNull prepend="," isString="1">update_time='{update_time}'</isNotNull>
			<isNotNull prepend="," isString="1">xzqhdm='{xzqhdm}'</isNotNull>
			<isNotNull prepend="," isString="1">jjdbh='{jjdbh}'</isNotNull>
			<isNotNull prepend="," isString="1">pjdwdm='{pjdwdm}'</isNotNull>
			<isNotNull prepend="," isString="1">remark='{remark}'</isNotNull>
			<isNotNull prepend="," isString="1">pjybh='{pjybh}'</isNotNull>
			<isNotNull prepend="," isString="1">pjyxm='{pjyxm}'</isNotNull>
			<isNotNull prepend="," isString="1">pjlyh='{pjlyh}'</isNotNull>
			<isNotNull prepend="," isString="1">pjyj='{pjyj}'</isNotNull>
			<isNotNull prepend="," isString="1">cjdwdm='{cjdwdm}'</isNotNull>
			<isNotNull prepend="," isString="1">pjsj='{pjsj}'</isNotNull>
			<isNotNull prepend="," isString="1" isNotTrans="1">xtzdddsj={xtzdddsj}</isNotNull>
			<isNotNull prepend="," isString="1" isNotTrans="1">pdqssj={pdqssj}</isNotNull>
			<isNotNull prepend="," isString="1">qsryxm='{qsryxm}'</isNotNull>
			<isNotNull prepend="," isString="1">qsrybm='{qsrybm}'</isNotNull>
			<isNotNull prepend="," isString="1">cdry='{cdry}'</isNotNull>
			<isNotNull prepend="," isString="1">cdcl='{cdcl}'</isNotNull>
			<isNotNull prepend="," isString="1">cdct='{cdct}'</isNotNull>
			<isNotNull prepend="," isString="1">jqclztdm='{jqclztdm}'</isNotNull>
			<isNotNull prepend="," isString="1" isNotTrans="1">rksj={rksj}</isNotNull>
			<isNotNull prepend="," isString="1" >gxsj='{gxsj}'</isNotNull>
			<isNotNull prepend="," isString="1" >cjdwmc='{cjdwmc}'</isNotNull>
			<isNotNull prepend="," isString="1" >pjdwmc='{pjdwmc}'</isNotNull>
        </dynamic>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">pjdbh='{pjdbh}'</isNotNull>
			<isNotNull prepend="and" isString="1">gxsj &lt; '{gxsj}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjsj &gt;= '{jjsj_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">jjsj &lt;= '{jjsj_end}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="query_icc_t_jqclb_by_alarm_id_only_one" operation="select">
        <statement>select * from public.icc_t_jqclb where jjdbh='{alarm_id}' limit 1;</statement> 
    </sql>	
	<sql id="select_icc_t_param_by_name" operation="select">
        <statement>select * from icc_t_param where name='{name}';</statement> 
    </sql>	
    <sql id="select_icc_t_dept_process_seat_by_phone" operation="select">
        <statement>select count(1) as acount from icc_t_process_seat_telephones where telephone='{phone}';</statement> 
    </sql>	
    <sql id="select_count_icc_t_seat_by_phone" operation="select">
        <statement>select count(1) as acount from icc_t_seat where no='{phone}' and is_delete='false';</statement> 
    </sql>
    <sql id="select_icc_t_process_seat_telephones" operation="select">
        <statement>select * from icc_t_process_seat_telephones;</statement> 
    </sql>	
	<sql id="insert_icc_t_process_seat_telephones" operation="insert">
		<statement>INSERT into public.icc_t_process_seat_telephones(guid,seats_guid,org_code,org_name,telephone,ip,update_time) VALUES</statement>
		<dynamic prepend="">('{guid}','{seats_guid}','{org_code}','{org_name}','{telephone}','{ip}','{update_time}')</dynamic>
	</sql>
    <sql id="update_icc_t_process_seat_telephones" operation="select">
        <statement>UPDATE icc_t_process_seat_telephones set seats_guid = '{seats_guid}', org_code='{org_code}',org_name='{org_name}', telephone='{telephone}',ip='{ip}',update_time='{update_time}' where guid = '{guid}';</statement> 
    </sql>	
	<sql id="delete_icc_t_process_seat_telephones" operation="select">
        <statement>delete from icc_t_process_seat_telephones where guid='{guid}';</statement> 
    </sql>
	<sql id="select_icc_t_process_seat_telephones_by_phone" operation="select">
        <statement>select org_code as dept_code from icc_t_process_seat_telephones where telephone='{telephone}';</statement> 
    </sql>
	<sql id="select_icc_t_alarm_log_by_guid" operation="select">
        <statement>select operateattachdesc from icc_t_alarm_log where id  = '{guid}';</statement> 
    </sql>
	<sql id="select_icc_t_jjdb_log_by_guid" operation="select">
        <statement>select * from icc_t_jjdb_log where guid  = '{guid}';</statement>
    </sql>
    <sql id="update_icc_t_callevent_alarm_relation" operation="select">
        <statement isNotTrans="1">update icc_t_callevent set {condition} where callref_id='{callref_id}' and create_time &gt;= '{create_time_begin}' and create_time &lt;= '{create_time_end}';</statement> 
    </sql>	
	<sql id="query_icc_t_callevent_by_process_info" operation="select">
        <statement isNotTrans="1">select * from icc_t_callevent where create_time &gt;= '{begin_time}' and create_time &lt; '{end_time}' and (called_type = '3' or caller_type = '3') {condition} ;</statement> 
    </sql>	
	<sql id="insert_icc_t_shift_relation" operation="insert">
		<statement>INSERT into public.icc_t_shift_relation(shift_id,alarm_id) VALUES</statement>
		<dynamic prepend="">('{shift_id}','{alarm_id}')</dynamic>
	</sql>
	<sql id="insert_icc_t_jjdb_log" operation="insert">
        <statement>insert into public.icc_t_jjdb_log (guid,id,alarm_id,alarmtime,update_user,alarm_content) VALUES</statement> 
		<dynamic prepend="">('{guid}','{id}','{alarm_id}','{alarmtime}','{update_user}','{alarm_content}');</dynamic>
    </sql>
	<sql id="delete_icc_t_shift_relation" operation="select">
        <statement>delete from icc_t_shift_relation where shift_id='{shift_id}';</statement> 
    </sql>
	<sql id="select_icc_t_shift_relation_by_shift_id" operation="select">
        <statement>select  alarm_id as alarm_id ,  xzqhdm as receipt_dept_district_code,  jjdwdm as receipt_dept_code, glzjjdbh as merge_id,gllx as merge_type, jjlx as called_no_type,  jqlyfs as source_type,  lhlx as handle_type,  jjlyh as source_id,  jjybh as receipt_code,  jjyxm as receipt_name,  bjsj as receiving_time,  jjsj as received_time,  jjwcsj as first_submit_time,  bjdh as caller_no,  bjdhyhm as caller_user_name,  bjdhyhdz as caller_addr,  bjrmc as caller_name,  bjrxbdm as caller_gender,  bjrzjdm as caller_id_type,  bjrzjhm as caller_id,  bjdz as alarm_addr,  jqdz as addr,  bjnr as content,  gxdwdm as admin_dept_code,  jqlbdm as first_type,  jqlxdm as second_type,  jqxldm as third_type,  jqzldm as fourth_type,  tzdbh as symbol_code,  zars as erpetrators_number,  ywcwq as is_armed,  ywwxwz as is_hazardous_substances,  ywbzxl as is_explosion_or_leakage,  bkryqksm as desc_of_trapped,  ssryqksm as desc_of_injured,  swryqksm as desc_of_dead,  sfswybj as is_foreign_language,  bjrxzb as longitude,  bjryzb as latitude,  fxdwjd as manual_longitude,  fxdwwd as manual_latitude,  bcjjnr as remark,  jqdjdm as level,  jqclztdm as state,  yjjydjdm as emergency_rescue_level,  sjchpzldm as vehicle_type,   sfswhcl as is_hazardous_vehicle,  rksj as create_time,  gxsj as update_time,  jqbq as label,  sfbm as is_privacy,  jjfs as receipt_srv_name,  gxdwmc as admin_dept_name,  gxdwdmbs as admin_dept_org_code,  jjdwmc as receipt_dept_name,  jjdwdmbs as receipt_dept_org_code,  scbs as is_delete,  wxbs as is_invalid,  dqywzt as business_status,  jjxwh as receipt_seatno,  hbbs as is_merge,  cjry as create_user,  gxry as update_user,  hfbs as is_visitor,  fkbs as is_feedback, sftsjz as had_push, sfja as is_over,jjdbh as id, shift_id as shift_id,tbcjbs as is_processflagsynchronized,tzhgxdwdm as jurisdictional_orgcode,tzhgxdwdmbs as jurisdictional_orgidentifier,tzhgxdwmc as jurisdictional_orgname,ybjxxyz as is_sameforbackground,gxzdbs as gxzdbs  from icc_t_shift_relation as a left join icc_t_jjdb as b on a.alarm_id=b.jjdbh where shift_id='{shift_id}';</statement> 
    </sql>
	<sql id="select_icc_t_alarm_monitor_seat_single_approval" operation="select">
        <statement>select * from public.icc_t_alarm_monitor_seat_approval where apply_type = '{apply_type}' and apply_target_id = '{apply_target_id}' and apply_org_code='{apply_org_code}' order by approve_time desc limit 1;</statement> 
    </sql>
	<sql id="select_icc_t_staff_by_staff_name" operation="select">
        <statement>select * from icc_t_staff where name='{name}';</statement> 
    </sql>
	
	<sql id="insert_icc_t_attach" operation="insert">
		<statement>INSERT into public.icc_t_attach(id,alarm_id,attach_id,attach_name,attach_type,attach_path,attach_source,create_user,create_time) VALUES</statement>
		<dynamic prepend="">('{id}','{alarm_id}','{attach_id}','{attach_name}','{attach_type}','{attach_path}','{attach_source}','{create_user}','{create_time}')</dynamic>
	</sql>
	
	<sql id="delete_icc_t_attach" operation="select">
        <statement>delete from icc_t_attach where id='{id}';</statement> 
    </sql>
	
	<sql id="search_icc_t_attach" operation="select">
        <statement>select * from icc_t_attach</statement> 
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">alarm_id = '{alarm_id}'</isNotNull>
		</dynamic>
    </sql>
	
	<sql id="search_icc_t_attach_syn_count" operation="select">
        <statement>select count(1) from icc_t_attach</statement> 
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{begin_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{end_time}'</isNotNull>
		</dynamic>
    </sql>
	
	<sql id="search_icc_t_attach_syn" operation="select">
        <statement>select * from icc_t_attach</statement> 
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{begin_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{end_time}'</isNotNull>
		</dynamic>
		<orderby prepend="order by">
            <isNotNull>create_time desc</isNotNull>
        </orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
    </sql>

	<sql id="insert_icc_t_plan_base" operation="insert">
		<statement>INSERT into public.icc_t_plan_base(id,name,key_word,alarm_type_code,alarm_type_name,alarm_level_code,alarm_level_name,alarm_label_code,alarm_label_name,enable_code,enable_name,create_user_id,create_user_name,create_org_code,create_org_name,create_time,update_user_id,update_user_name,update_org_code,update_org_name,update_time,validity) VALUES</statement>
		<dynamic prepend="">('{id}','{name}','{key_word}','{alarm_type_code}','{alarm_type_name}','{alarm_level_code}','{alarm_level_name}','{alarm_label_code}','{alarm_label_name}','{enable_code}','{enable_name}','{create_user_id}','{create_user_name}','{create_org_code}','{create_org_name}','{create_time}','{update_user_id}','{update_user_name}','{update_org_code}','{update_org_name}','{update_time}','{validity}')</dynamic>
	</sql>
	
	<sql id="update_icc_t_attach" operation="update">
		<statement>UPDATE public.icc_t_attach</statement>
	<dynamic prepend="where">
		<isNotNull prepend="and" isString="1">id='{id}'</isNotNull>
		<isNotNull prepend="and" isString="1">alarm_id='{alarm_id}'</isNotNull>
		<isNotNull prepend="and" isString="1">attach_id='{attach_id}'</isNotNull>
		<isNotNull prepend="and" isString="1">attach_name='{attach_name}'</isNotNull>
		<isNotNull prepend="and" isString="1">attach_type='{attach_type}'</isNotNull>
		<isNotNull prepend="and" isString="1">attach_path='{attach_path}'</isNotNull>
		<isNotNull prepend="and" isString="1">attach_source='{attach_source}'</isNotNull>
		<isNotNull prepend="and" isString="1">create_user='{create_user}'</isNotNull>
		<isNotNull prepend="and" isString="0">create_time='{create_time}'</isNotNull>
	</dynamic>
	</sql>
	<sql id="update_icc_t_plan_base" operation="update">
        <statement>UPDATE public.icc_t_plan_base</statement>
        <dynamic prepend="where">
		    <isNotNull prepend="and" isString="1">id='{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">name='{name}'</isNotNull>
			<isNotNull prepend="and" isString="1">key_word='{key_word}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm_type_code='{alarm_type_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm_type_name='{alarm_type_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm_level_code='{alarm_level_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm_level_name='{alarm_level_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm_label_code='{alarm_label_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">alarm_label_name='{alarm_label_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">enable_code='{enable_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">enable_name='{enable_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_user_id='{create_user_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_user_name='{create_user_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_org_code='{create_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_org_name='{create_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="0">create_time='{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user_id='{update_user_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user_name='{update_user_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_org_code='{update_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_org_name='{update_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="0">update_time='{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">validity='{validity}'</isNotNull>
        </dynamic>
    </sql>			
		
	<sql id="delete_icc_t_plan_base" operation="delete">
        <statement>DELETE from icc_t_plan_base where id = '{id}';</statement> 
    </sql>
	
	<sql id="update_enable_icc_t_plan_base" operation="update">
        <statement>update public.icc_t_plan_base</statement>
		<dynamic prepend="where">
		    <isNotNull prepend="and" isString="1">id='{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">enable_code='{enable_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">enable_name='{enable_name}'</isNotNull>
	   </dynamic>
    </sql>
	
	<sql id="insert_icc_t_plan_detail" operation="insert">
		<statement>INSERT into public.icc_t_plan_detail(id,base_id,type,title,data,view_type,data_type,config_note_prefix,config_note_suffix,data_valid,data_view,sort,create_user_id,create_user_name,create_org_code,create_org_name,create_time,update_user_id,update_user_name,update_org_code,update_org_name,update_time,validity) VALUES</statement>
		<dynamic prepend="">('{id}','{base_id}','{type}','{title}','{data}','{view_type}','{data_type}','{config_note_prefix}','{config_note_suffix}','{data_valid}','{data_view}','{sort}','{create_user_id}','{create_user_name}','{create_org_code}','{create_org_name}','{create_time}','{update_user_id}','{update_user_name}','{update_org_code}','{update_org_name}','{update_time}','{validity}')</dynamic>
	</sql>
	
	<sql id="insert_icc_t_plan_data" operation="insert">
		<statement>INSERT into public.icc_t_plan_data(id,plan_id,alarm_id,alarm_num,alarm_key_word,alarm_type,alarm_level,plan_data,create_user_id,create_user_name,create_org_code,create_org_name,create_time,update_user_id,update_user_name,update_org_code,update_org_name,update_time,validity) VALUES</statement>
		<dynamic prepend="">('{id}','{plan_id}','{alarm_id}','{alarm_num}','{alarm_key_word}','{alarm_type}','{alarm_level}','{plan_data}','{create_user_id}','{create_user_name}','{create_org_code}','{create_org_name}','{create_time}','{update_user_id}','{update_user_name}','{update_org_code}','{update_org_name}','{update_time}','{validity}')</dynamic>
	</sql>
	
	<sql id="update_icc_t_plan_detail" operation="update">
        <statement>UPDATE public.icc_t_plan_detail</statement>
        <dynamic prepend="where">
		    <isNotNull prepend="and" isString="1">id='{id}'</isNotNull>
			<isNotNull prepend="and" isString="1">type='{type}'</isNotNull>
			<isNotNull prepend="and" isString="1">title='{title}'</isNotNull>
			<isNotNull prepend="and" isString="1">data='{data}'</isNotNull>
			<isNotNull prepend="and" isString="1">view_type='{view_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">data_type='{data_type}'</isNotNull>
			<isNotNull prepend="and" isString="1">config_note_prefix='{config_note_prefix}'</isNotNull>
			<isNotNull prepend="and" isString="1">config_note_suffix='{config_note_suffix}'</isNotNull>
			<isNotNull prepend="and" isString="1">data_valid='{data_valid}'</isNotNull>
			<isNotNull prepend="and" isString="1">data_view='{data_view}'</isNotNull>
			<isNotNull prepend="and" isString="1">sort='{sort}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_user_id='{create_user_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_user_name='{create_user_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_org_code='{create_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_org_name='{create_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="0">create_time='{create_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user_id='{update_user_id}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_user_name='{update_user_name}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_org_code='{update_org_code}'</isNotNull>
			<isNotNull prepend="and" isString="1">update_org_name='{update_org_name}'</isNotNull>
			<isNotNull prepend="and" isString="0">update_time='{update_time}'</isNotNull>
			<isNotNull prepend="and" isString="1">validity='{validity}'</isNotNull>
        </dynamic>
    </sql>	
	
	<sql id="update_icc_t_plan_data" operation="update">
		<statement>UPDATE public.icc_t_plan_data</statement>
	<dynamic prepend="where">
		<isNotNull prepend="and" isString="1">id='{id}'</isNotNull>
		<isNotNull prepend="and" isString="1">plan_id='{plan_id}'</isNotNull>
		<isNotNull prepend="and" isString="1">alarm_id='{alarm_id}'</isNotNull>
		<isNotNull prepend="and" isString="1">alarm_num='{alarm_num}'</isNotNull>
		<isNotNull prepend="and" isString="1">alarm_key_word='{alarm_key_word}'</isNotNull>
		<isNotNull prepend="and" isString="1">alarm_type='{alarm_type}'</isNotNull>
		<isNotNull prepend="and" isString="1">alarm_level='{alarm_level}'</isNotNull>
		<isNotNull prepend="and" isString="1">plan_data='{plan_data}'</isNotNull>
		<isNotNull prepend="and" isString="1">create_user_id='{create_user_id}'</isNotNull>
		<isNotNull prepend="and" isString="1">create_user_name='{create_user_name}'</isNotNull>
		<isNotNull prepend="and" isString="1">create_org_code='{create_org_code}'</isNotNull>
		<isNotNull prepend="and" isString="1">create_org_name='{create_org_name}'</isNotNull>
		<isNotNull prepend="and" isString="0">create_time='{create_time}'</isNotNull>
		<isNotNull prepend="and" isString="1">update_user_id='{update_user_id}'</isNotNull>
		<isNotNull prepend="and" isString="1">update_user_name='{update_user_name}'</isNotNull>
		<isNotNull prepend="and" isString="0">update_org_code='{update_org_code}'</isNotNull>
		<isNotNull prepend="and" isString="1">update_org_name='{update_org_name}'</isNotNull>
		<isNotNull prepend="and" isString="0">update_time='{update_time}'</isNotNull>
		<isNotNull prepend="and" isString="1">validity='{validity}'</isNotNull>
	</dynamic>
    </sql>	
	<sql id="delete_icc_t_plan_detail" operation="delete">
        <statement>DELETE from icc_t_plan_detail where base_id = '{base_id}';</statement> 
    </sql>
	<sql id="search_icc_t_plan_base_count" operation="select">
		<statement>SELECT count(1) FROM public.icc_t_plan_base</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">enablecode like '%{enablecode}%'</isNotNull>
			<isNotNull prepend="and" isString="1">key_word like '%{key_word}%'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({alarm_type_code})</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({alarm_level_code})</isNotNull>
		</dynamic>
	</sql>	
	
	<sql id="search_icc_t_plan_base" operation="select">
		<statement>SELECT a.id as id, name,enable_code,enable_name,key_word, alarm_level_name,alarm_type_name, string_agg(b.title,',;') as alarm_tip_titles FROM public.icc_t_plan_base as a left join public.icc_t_plan_detail as b on a.id=b.base_id </statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">enablecode like '%{enablecode}%'</isNotNull>
			<isNotNull prepend="and" isString="1">key_word like '%{key_word}%'</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({alarm_type_code})</isNotNull>
			<isNotNull prepend="and" isString="1" isNotTrans="1">({alarm_level_code})</isNotNull>
		</dynamic>
		<groupby prepend="group by">
            <isNotNull>a.id,name,enable_code,enable_name,key_word, alarm_level_name,alarm_type_name</isNotNull>
	    </groupby>	
		<orderby prepend="order by">
			<isNotNull>{orderby}</isNotNull>
		</orderby>
		<pagedivided prepend="limit">
			<isNotNull prepend="limit">{limit}</isNotNull>
			<isNotNull prepend="offset">{offset}</isNotNull>
		</pagedivided>
	</sql>	
	<sql id="search_icc_t_plan_base_info" operation="select">
		<statement>SELECT a.id as id, name,enable_code,enable_name,key_word, alarm_level_code,alarm_level_name,alarm_type_code,alarm_type_name, alarm_label_code,alarm_label_name,string_agg(b.title,',;') as alarm_tip_titles FROM public.icc_t_plan_base as a left join public.icc_t_plan_detail as b on a.id=b.base_id </statement>
		<dynamic prepend="where">
			<isNotNull prepend="," isString="1">a.id='{id}'</isNotNull>
			<isNotNull prepend="," isString="1">create_org_code='{create_org_code}'</isNotNull>
		</dynamic>
		<groupby prepend="group by">
            <isNotNull>a.id,name,enable_code,enable_name,key_word, alarm_level_code,alarm_level_name,alarm_type_code,alarm_type_name,alarm_label_code,alarm_label_name</isNotNull>
	    </groupby>	
	</sql>	
	<sql id="search_icc_t_plan_detail_info" operation="select">
		<statement>SELECT * FROM public.icc_t_plan_detail</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">base_id='{base_id}'</isNotNull>
		</dynamic>
	</sql>	
	<sql id="search_icc_t_plan_data" operation="select">
		<statement>SELECT * FROM public.icc_t_plan_data</statement>
		<dynamic prepend="where">
			<isNotNull prepend="and" isString="1">alarm_id='{alarm_id}'</isNotNull>
		</dynamic>
	</sql>	
	<sql id="select_table_is_exist" operation="select">
        <statement>select count(*) from information_schema.tables where table_schema='public' and table_type='BASE TABLE' and table_name='{table_name}';</statement> 
    </sql>
	<sql id="select_icc_t_staff_by_alarmer_id" operation="select">
		<statement>SELECT guid FROM public.icc_t_staff where staff_id_no='{code}'</statement>
	</sql>	
	
	<sql id="select_icc_t_post_url_map" operation="select">
		<statement>SELECT * FROM public.icc_t_post_url_map</statement>
	</sql>	
	
	<sql id="select_icc_t_keyinfo_code_map" operation="select">
		<statement>SELECT * FROM public.icc_t_keyinfo_code_map</statement>
	</sql>	
	<sql id="query_call_waiting_info_count" operation="select">
        <statement>select count(*) as waiting_count from icc_t_callevent where create_time &gt;= '{begin_time}' and create_time &lt;= '{end_time}' and incoming_time is not null and</statement>
        <dynamic prepend="">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{create_time_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{create_time_end}'</isNotNull>
            <isNotNull prepend="and" isString="1">(nullif(acd, '') is not null)</isNotNull>
            <isNotNull prepend="and" isString="1">exists(select 1 from icc_t_sub_callevent c where c.create_time &gt;= '{create_time_begin}' and c.create_time &lt;= '{create_time_end}' and aa.callref_id = c.callref_id and c.eventcall_state='waiting')</isNotNull>
            <isNotNull prepend="and" isString="1">dept_code in (select code from public.icc_view_dept_recursive where path like '%{dept_code}%')</isNotNull>
			<isNotNull prepend="and" isString="1">aa.caller_id = '{caller_id}'</isNotNull>
        </dynamic>
    </sql>
	<sql id="select_icc_t_callevent_for_record" operation="select">
		<statement>SELECT record_file_id FROM public.icc_t_callevent where callref_id='{callref_id}' and create_time &gt;= '{create_time_begin}' and create_time &lt;= '{create_time_end}'</statement>
	</sql>

	<sql id="select_icc_t_jjdb_for_jjlyh" operation="select">
		<statement>SELECT jjlyh FROM public.icc_t_jjdb where jjdbh = '{jjdbh}'</statement>
	</sql>
	
	<sql id="update_icc_t_jjdb_for_jjdbh" operation="select">
		<statement>UPDATE icc_t_jjdb set jjlyh = '{jjlyh}', gxsj='{gxsj}' where jjdbh = '{jjdbh}'</statement>      		
    </sql>
	
	<sql id="update_icc_t_jjdb_for_jjlyh" operation="select">
		<statement>UPDATE icc_t_jjdb set jjlyh = '{rel_jjlyh}', gxsj='{gxsj}' where jjlyh = '{jjlyh}'</statement>      		
    </sql>
	<sql id="update_car_info_to_new_alarm_id" operation="select">
		<statement>UPDATE icc_t_jqclb set jjdbh = '{new_alarm_id}' where jjdbh = '{source_alarm_id}'</statement>      		
    </sql>
	<sql id="select_icc_t_callevent_count" operation="select">
		<statement>SELECT count(1) from public.icc_t_callevent as count</statement>  
        <dynamic prepend="where">
			<isNotNull prepend="and" isString="1">create_time &gt;= '{create_time_begin}'</isNotNull>
			<isNotNull prepend="and" isString="1">create_time &lt;= '{create_time_end}'</isNotNull>	
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
        </dynamic>			
    </sql>
	<sql id="select_icc_t_callback_relation_count" operation="select">
        <statement>select count(1) from icc_t_callback_relation as count</statement>
        <dynamic prepend="where">
            <isNotNull prepend="and" isString="1">callref_id = '{callref_id}'</isNotNull>
        </dynamic>
    </sql>
</icc>


